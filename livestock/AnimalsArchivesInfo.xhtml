<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j"
	template="/layout/template_new.xhtml">

	<ui:define name="body">

<link rel="stylesheet" type="text/css" href="#{request.contextPath}/asset/css/checkBox/skinBlue.css"/>
<link type="text/css" rel="stylesheet" href="#{request.contextPath}/asset/css/livestock/yangzhi.css" />
<script type="text/javascript" src="#{request.contextPath}/asset/js/checkBox/icheck.js"></script>
        <td valign="top">
            <!-- right_c 开始 -->
             <!-- #{animalsArchivesInfoHome.allNull()}-->
            <!-- #{animalsArchivesInfoHome.loadAll()}-->
             <h:form id="all">
            <div class="right_c" style="min-height:30px; padding-bottom:20px;">
                <div class="r_title clear" style="margin-top:0; padding-top:20px;">
                    <div class="r_t_l fl">工作&#160;&gt;&#160;&#160;<font size="3">禽畜种类</font></div>
                </div>
                <!-- 初始信息 开始 -->
                <div class="baseTtlH3 mt10 clear">
					 <h3 class="chushiXx">初始信息</h3>             
                </div>
               
                <table class="messageTable" width="100%" cellpadding="0" cellspacing="0">
                	<tr>
                        <td colspan="2" style="padding-bottom:0;">
                            <ul class="bootList21">
                            	<li class="bootLi">
                                    <span class="bootTxt21">所属类型</span>
                                    <span class="bootTxt21">
                                    #{animalsArchivesInfoHome.animalsArchivesInfo.animalSpeciesId.name}
                                    </span>
                                </li>
                                <li class="bootLi">
                                    <span class="bootTxt21">品种名称</span>
                                    <span class="bootTxt21">
                                    #{animalsArchivesInfoHome.animalsArchivesInfo.animalBreedId.name}
                                    </span>
                                </li>
                                <li class="bootLi">
                                    <span class="bootTxt21">耳编号</span>
                                    <span class="bootTxt21">
                                      #{animalsArchivesInfoHome.animalsArchivesInfo.eartagNumber}
                                    </span>
                                </li>
                                <li class="bootLi">
                                    <span class="bootTxt21">名字</span>
                                    <span class="bootTxt21">
                                       #{animalsArchivesInfoHome.animalsArchivesInfo.name}
                                    </span>
                                </li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" style="padding-bottom:0;">
                            <ul class="bootList21">
                                <li class="bootLi">
                                    <span class="bootTxt21">出生日期</span>
                                    <span class="bootTxt21">
                                    <h:outputText value="#{animalsArchivesInfoHome.animalsArchivesInfo.bornTime}">
										<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd" />
						   			</h:outputText>
                                        
                                    </span>
                                </li>
                                <li class="bootLi">
                                    <span class="bootTxt21">所在圈舍</span>
                                    <span class="bootTxt21">
                                      #{animalsArchivesInfoHome.animalsArchivesInfo.tunnelInfoId.tunnelName}
                                    </span>
                                </li>
                                <li class="bootLi">
                                    <span class="bootTxt21">养殖人员</span>
                                    <span class="bootTxt21">
                                   		#{animalsArchivesInfoHome.animalsArchivesInfo.farmerInfoId.name}
                                    </span>
                                </li>
                                <li class="bootLi">
                                    <span class="bootTxt21">状态</span>
                                    <span class="bootTxt21">
                                   		#{animalsArchivesInfoHome.animalsArchivesInfo.animalStatusId.name}
                                    </span>
                                </li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                    	<td width="100" align="right"><span class="bootTxt21">备注</span></td>
                        <td>
                        	<span class="bootTextarea">
                        		#{animalsArchivesInfoHome.animalsArchivesInfo.source}
                        	</span>
                        </td>
                    </tr>
                </table>
                <!-- 初始信息 结束 -->
                <!-- 出栏记录 开始 -->
                <div class="baseTtlH3 clear">
					 <h3 class="chulanJl">出栏记录</h3>             
                </div>
                <table class="messageTable" width="100%" cellpadding="0" cellspacing="0">
                	<tr>
                        <td colspan="2" style="padding-bottom:0;">
                            <ul class="bootList21">
                            	<li class="bootLi">
                                    <span class="bootTxt21">出栏时间</span>
                                    <span class="bootTxt21">
                                     <h:outputText value="#{animalsArchivesInfoHome.animalsArchivesInfo.outfencesTime}">
										<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd" />
						   			</h:outputText>
                                    </span>
                                </li>
                                <li class="bootLi">
                                    <span class="bootTxt21">检疫部门</span>
                                    <span class="bootTxt21">
                                        #{animalsArchivesInfoHome.animalsArchivesInfo.outfencesAqsiqDept}
                                    </span>
                                </li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td width="100" align="right"><span class="bootTxt21">检测内容</span></td>
                        <td>
                        	<span class="bootTextarea">
                        	#{animalsArchivesInfoHome.animalsArchivesInfo.outfencesAqsiqContent}
                        	</span>
                        </td>
                    </tr>
                    <tr>
                        <td width="100" align="right"><span class="bootTxt21 type1">检疫结果</span></td>
                        <td>
                        	<ul class="baseRadio_list" style="margin-top:10px; font-size:12px;">
                                <ui:fragment rendered="#{animalsArchivesInfoHome.animalsArchivesInfo.outfencesAqsiqResults==1}">
                               		合格
                                </ui:fragment>
                                <ui:fragment rendered="#{animalsArchivesInfoHome.animalsArchivesInfo.outfencesAqsiqResults==2}">
                         			不合格
                                </ui:fragment>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td width="100" align="right"><span class="bootTxt21">检疫报告</span></td>
                        <td>
                        <ul class="baseAddList">
                           <ui:fragment rendered="#{animalsArchivesInfoHome.animalsArchivesInfo.outfencesAqsiqUrls.length() gt 5}">	
                            <a4j:repeat value="#{animalsArchivesInfoHome.animalsArchivesInfo.outfencesAqsiqUrls.split(',')}" var="_img" rowKeyVar="_imgindex">
                            	<li class="baseAddLi">
                                	<a href="javascript:;"><img src="#{_img}" /><em class="closeBtn"></em></a>
                                    <div class="baseAddModel">
                                    	<em class="baseAddModel_close"></em>
                                        <div class="baseAddModel_body">
                                        	<img id="zoomId" src="#{_img}" />
                                        </div>
                                    </div>
                                </li>
                            </a4j:repeat>
                            </ui:fragment>
                            </ul>
                        </td>
                    </tr>
                </table>
                <!-- 出栏记录 结束 -->
                <!-- 屠宰记录 开始 -->
                <div class="baseTtlH3 clear">
					 <h3 class="tuzaiJl">屠宰记录</h3>             
                </div>
                <table class="messageTable" width="100%" cellpadding="0" cellspacing="0">
                	<tr>
                        <td colspan="2" style="padding-bottom:0;">
                            <ul class="bootList21">
                            	<li class="bootLi">
                                    <span class="bootTxt21">屠宰时间</span>
                                    <span class="bootTxt21">
                                    <h:outputText value="#{animalsArchivesInfoHome.animalsArchivesInfo.slaughterTime}">
										<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd" />
						   			</h:outputText>
                                    </span>
                                </li>
                                <li class="bootLi">
                                    <span class="bootTxt21">检疫部门</span>
                                    <span class="bootTxt21">
                                    #{animalsArchivesInfoHome.animalsArchivesInfo.slaughterDept}
                                    </span>
                                </li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td width="100" align="right"><span class="bootTxt21">检测内容</span></td>
                        <td>
                        	<span class="bootTextarea">
                        	#{animalsArchivesInfoHome.animalsArchivesInfo.slaughterContent}
                        	</span>
                        </td>
                    </tr>
                    <tr>
                        <td width="100" align="right"><span class="bootTxt21 type2">检疫结果</span></td>
                        <td>
                        	<ul class="baseRadio_list" style="margin-top:10px; font-size:12px;">
                                <ui:fragment rendered="#{animalsArchivesInfoHome.animalsArchivesInfo.slaughterResults==1}">
                               		合格
                                </ui:fragment>
                                <ui:fragment rendered="#{animalsArchivesInfoHome.animalsArchivesInfo.slaughterResults==2}">
                         			不合格
                                </ui:fragment>

                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td width="100" align="right"><span class="bootTxt21">检疫报告</span></td>
                        <td>
                         <ul class="baseAddList">
                                <ui:fragment rendered="#{animalsArchivesInfoHome.animalsArchivesInfo.outfencesAqsiqUrls.length() gt 5}">	
                            	 <a4j:repeat value="#{animalsArchivesInfoHome.animalsArchivesInfo.slaughterUrls.split(',')}" var="_img2" rowKeyVar="_imgindex">
                            	<li class="baseAddLi">
                                	<a href="javascript:;"><img src="#{_img2}" /><em class="closeBtn"></em></a>
                                    <div class="baseAddModel">
                                    	<em class="baseAddModel_close"></em>
                                        <div class="baseAddModel_body">
                                        	<img id="zoomId" src="#{_img2}" />
                                        </div>
                                    </div>
                                </li>
                            </a4j:repeat>
                            </ui:fragment>
                            </ul>
                        	<span class="baseAddbtn">
                            <input id="exampleInputFile" type="file" value=""/>
                            </span>
                        </td>
                    </tr>
                </table>
                <!-- 屠宰记录 结束 -->
                <!-- 兽药记录 免疫记录 饲养信息 开始  -->
                <ul class="nav nav-tabs" role="tablist" id="myTab">
                    <li class="active"><a href="#messages" role="tab" data-toggle="tab">饲养信息</a></li>
                    <li><a href="#home" role="tab" data-toggle="tab">兽药记录</a></li>
                    <li><a href="#profile" role="tab" data-toggle="tab">免疫记录</a></li>
                </ul>
                <div class="tab-content" style="margin-top:24px; position:relative;">
                    <div class="tab-pane" id="profile">
                    <!-- 免疫记录表格 开始  -->
                    <table class="tableModel" width="100%" cellpadding="0" cellspacing="0">
                    <thead>
                    <tr>
                        <th width="13%">疫苗名称</th>
                        <th width="13%">生产日期</th>
                        <th width="13%">有效期</th>
                        <th width="12%">免疫时间</th>
                        <th width="12%">操作人</th>
                        <th width="13%">免疫方法</th>
                        <th width="12%">使用剂量</th>
                        <th width="12%">备注</th>
                    </tr>
                    </thead>
                    <tbody>
                    <a4j:repeat value="#{animalsArchivesInfoHome.vrList}"  var="obj" rowKeyVar="_index">
                    
	                    <tr class="odd">
	                        <td>#{obj.vaccineInfoId.name}</td>
	                        <td>
                   				<h:outputText value="#{obj.produceTime}">
									<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd" />
					   			</h:outputText>
	                        </td>
	                        <td>#{obj.validity}</td>
	                         <td>
                   				<h:outputText value="#{obj.immuneTime}">
									<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd" />
					   			</h:outputText>
	                        </td>
	                        <td>#{obj.farmerInfoId.name}</td>
	                        <td>#{obj.immuneMethod}</td>
	                        <td>#{obj.amount}</td>
	                        <ui:fragment rendered="#{obj.remark.length() gt 10}">
	                        	<td>#{obj.remark.substring(0,10)}</td>
	                        </ui:fragment>
	                        <ui:fragment rendered="#{obj.remark.length() lt 11}">
	                        	<td>#{obj.remark}</td>
	                        </ui:fragment>
	                    </tr>
                   </a4j:repeat>
                    </tbody>
                    </table>
                    <!-- 免疫记录表格 结束  -->
                    </div>
                    <div class="tab-pane active" id="messages">
                    <!-- 饲养信息表格 开始  -->
                    <table class="tableModel" width="100%" cellpadding="0" cellspacing="0">
                    <thead>
                    <tr>
                        <th width="12%">饲料名称</th>
                        <th width="11%">生产日期</th>
                        <th width="11%">有效期</th>
                        <th width="11%">禽畜状态</th>
                        <th width="11%">开始使用时间</th>
                        <th width="11%">结束使用时间</th>
                        <th width="11%">总用量</th>
                        <th width="11%">操作人</th>
                        <th width="11%">备注</th>
                    </tr>
                    </thead>
                    <tbody>
                    <a4j:repeat value="#{animalsArchivesInfoHome.afrList}"  var="obj" rowKeyVar="_index">
	                    <tr class="odd">
	                        <td>#{obj.animalFeedInfoId.name}</td>
	                        <td>
                   				<h:outputText value="#{obj.produceTime}">
									<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd" />
					   			</h:outputText>
	                        </td>
	                        <td>#{obj.validity}</td>
	                        <td>#{obj.animalStatusId.name}</td>
	                         <td>
                   				<h:outputText value="#{obj.useBeginTime}">
									<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd" />
					   			</h:outputText>
	                        </td>
	                        <td>
                   				<h:outputText value="#{obj.useEndTime}">
									<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd" />
					   			</h:outputText>
	                        </td>
	                        <td>#{obj.amount}</td>
	                        <td>#{obj.farmerInfoId.name}</td>
	                        <ui:fragment rendered="#{obj.remark.length() gt 10}">
	                        	<td>#{obj.remark.substring(0,10)}</td>
	                        </ui:fragment>
	                       <ui:fragment rendered="#{obj.remark.length() lt 11}">
	                        	<td>#{obj.remark}</td>
	                        </ui:fragment>
	                    </tr>
	                    </a4j:repeat>
                    </tbody>
                    </table>
                    <!-- 饲养信息表格 结束  -->
                    </div>
                    
            	    <div class="tab-pane" id="home">
                    <!-- 兽药记录表格 开始  -->
                    
                    <table class="tableModel" width="100%" cellpadding="0" cellspacing="0">
                    <thead>
                    <tr>
                        <th width="10%">兽药名称</th>
                        <th width="10%">生产日期</th>
                        <th width="8%">有效期</th>
                        <th width="10%">发病原因</th>
                        <th width="10%">诊疗结果</th>
                        <th width="8%">用药时间</th>
                        <th width="8%">停药时间</th>
                        <th width="10%">操作人</th>
                        <th width="12%">用药剂量</th>
                        <th width="7%">休药期</th>
                        <th width="7%">备注</th>
                    </tr>
                    </thead>
                    <tbody>
                    	<a4j:repeat value="#{animalsArchivesInfoHome.vmrList}"  var="obj" rowKeyVar="_index">
                    		<tr class="odd">
                    			<td>#{obj.veterinaryMedicineInfoId.name}</td>
                    			<td>
                    				<h:outputText value="#{obj.produceTime}">
										<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd" />
						   			</h:outputText>
		                        </td>
		                      	<td>#{obj.validity}</td>
                    			<td>#{obj.etiology}</td>
		                        <td>#{obj.clinicResults}</td>
		                        <td>
		                       		<h:outputText value="#{obj.medicationTime}">
										<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd" />
						   			</h:outputText>
		                        </td>
		                        <td>
		                       		<h:outputText value="#{obj.withdrawalTime}">
										<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd" />
						   			</h:outputText>
		                        </td>
		                        <td>#{obj.farmerInfoId.name}</td>
		                        <td>#{obj.amount}</td>
		                        <td>#{obj.withdrawalPeriod}</td>
		                         <ui:fragment rendered="#{obj.remark.length() gt 8}">
	                        	<td>#{obj.remark.substring(0,8)}</td>
		                        </ui:fragment>
		                        <ui:fragment rendered="#{obj.remark.length() lt 9}">
	                        	<td>#{obj.remark}</td>
	                     		</ui:fragment>
                    		</tr>
                    	</a4j:repeat>
                   
                    </tbody>
                    </table>
                    <!-- 兽药记录表格 结束  -->
                    </div>
                     
                </div>
                <!-- 兽药记录 免疫记录 饲养信息 结束  -->
                 <table class="baseBtn" style="margin:20px auto;">
    				<tr>
    					<td>
       				  <s:link view="/livestock/AnimalsArchivesInfoList.xhtml" styleClass="btn btn-default" value="返回" id="bn_left6" style="margin-left:10px" >
			            	<f:param name="baseId" value="#{animalsArchivesInfoHome.baseId}"/>
			            	<f:param name="pageNum" value="#{animalsArchivesInfoHome.pageNum}"></f:param>
			            	</s:link>
       				  </td>
    				</tr>
				</table>
            </div>
            </h:form>
            <!-- right_c 结束 -->

    
<div class="clear"></div>


 </td>  


<script type="text/javascript">
//<![CDATA[
jquery = jQuery.noConflict();
magnifier();


/*  通用添加图片 开始 */
function magnifier(){
	jquery('.baseAddLi a').click(function(){
	jquery('body').append('<div id="fadeMini" style="position:fixed; width:100%; height:100%; background:rgba(0,0,0,0.5); left:0; top:0; z-index:100;"></div>');	
		var img = jquery(this).find("img");
		var _th = jquery(this);
		var realWidth;//真实的宽度
		var realHeight;//真实的高度
		
		jquery("<img/>").attr("src", jquery(img).attr("src")).load(function() {
			realWidth = this.width;
			realHeight = this.height;
			var width = document.body.clientWidth-30;
			var height = document.body.clientHeight-30;
			var a1 = realWidth/width;
			var a2 = realHeight/height;
			if(a1>a2){
				_th.next().css("max-width",width+"px");
				_th.next().find(".baseAddModel_body").css("max-width",width+"px");
				_th.next().find("#zoomId").css("max-width",width+"px");
				if(realWidth>width){
					_th.next().css("left","15px");
					var x = width/realWidth*realHeight;
					_th.next().css("top",(height-x)/2+"px");
				}else{
					_th.next().css("top",(height-realHeight)/2+"px");
					_th.next().css("left",(width-realWidth)/2+"px");
				}
			}else{
				_th.next().css("max-height",height+"px");
				_th.next().find(".baseAddModel_body").css("max-height",height+"px");
				_th.next().find("#zoomId").css("max-height",height+"px");
				if(realHeight>height){
					_th.next().css("top","15px");
					var x = height/realHeight*realWidth;
					_th.next().css("left",(width-x)/2+"px");
				}else{
					_th.next().css("top",(height-realHeight)/2+"px");
					_th.next().css("left",(width-realWidth)/2+"px");
				}
			}
			_th.next().css('display','block')
			.parent().siblings().children('a').next().hide();
			jquery('.baseAddModel_close').click(function(){
				jquery(this).parent().hide();
				jquery('#fadeMini').remove();	
			});
			
		});
	});
	jquery('.baseAddLi a .closeBtn').click(function(){
		jquery(this).parents('.baseAddLi').remove();	
	});
	/*jquery('.baseAddLi a').blur(function(){
		jquery(this).next('.baseAddModel').hide();
		jquery('#fadeMini').remove();	
	});*/
	
};
/* 放大镜 结束 */
//]]>
</script>




	</ui:define>

</ui:composition>
