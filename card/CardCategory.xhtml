<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j" 
	template="/layout/template_new.xhtml">

	<ui:define name="body">
	<link type="text/css" rel="stylesheet" href="#{request.contextPath}/asset/css/settings/EnterpriseSettings.css" />
    <script type="text/javascript" src="#{request.contextPath}/asset/js/EnterpriseLeftMenu.js"></script>
    
		#{cardCategoryHome.wire()}
		<script type="text/javascript" src="#{request.contextPath}/asset/js/jquery.nicescroll.js"></script>
		<script type="text/javascript">
			jquery(document).ready(function(){
				jquery(".str_t tr:even").addClass("alt");
				jquery("#driverInfo\\:cartDiv").niceScroll({cursorcolor:"#919191",cursorwidth:10,cursoropacitymax:0.7,touchbehavior:false,autohidemode:false});
			});
		</script>
		<style>
			.form-control{float:left;}
			.titleH2{height:34px; line-height:34px; margin:0 0 10px 0; font-size:14px; font-weight:bold; clear:both;}
			.listGoods_con .tableModel{border-left: 1px solid #e1e1e1; border-right: 1px solid #e1e1e1; border-top: 1px solid #e1e1e1; border-radius: 10px 10px 0 0; border-collapse: separate;font-family: '微软雅黑'; color: #6c6a6b;}
			.listGoods_con .thead {border-radius: 5px 5px 0 0;}
			.listGoods_con .tableModel thead{border-radius: 10px 10px 0 0;}
			.listGoods_con .tableModel thead th:first-child{border-radius: 5px 0 0 0;}
			.listGoods_con .tableModel thead th:last-child{border-radius: 0 5px 0 0;}
			.listGoods_con .tableModel thead th {height: 42px; background: #f0f5fb; font-size: 14px; font-weight: normal; text-align: center; border-bottom: 1px solid #e1e1e1; min-width: 140px;}
			.listGoods_con .tableModel tbody td {height: 38px; text-align: center; border-bottom: 1px solid #e1e1e1; min-width: 140px; background-color: #fcfcfc;}
			.listGoods_con .tableFixed_scroll {height: 218px; border-left: 1px solid #e1e1e1; border-right: 1px solid #e1e1e1;overflow-y: auto;}
			.listGoods_con .tbody {border-radius: 0; border: 0;}
			.listGoods_con .tfoot {border: 1px solid #e1e1e1; border-radius: 0 0 5px 5px; margin-top: -1px;}
			.listGoods_total {position: relative; padding: 15px; min-height: 24px;}
			.listGoods_total .qingk img {margin-right: 5px; margin-bottom: 4px;}
			.listGoods_total .qingk span {font-size: 16px; color: #428bca;}
			.listGoods_total .spzj{line-height:24px; font-size:14px;}
			.listGoods_total .spzj .codeEle {font-size:18px; color:#d40001;}
			.listGoods_total .spzj .num {font-size:18px; color:#d40001;}
		</style>
		<td valign="top">
                <div class="inbentory_file_main">
                <!--左侧二级导航 -->
                <div class="inbentory_level_wap">
                    <div class="inbentory_level">
                        <strong class="inben_first inben_first2">
                            <a href="javascript:;"><i class="icon_L icon_rkgl"></i>基础设置</a><b class="b_arrow"></b>
                        </strong>
                        <ol class="inben_second">
                            <li class="sed_item" onclick="window.open('#{request.contextPath}/user/UpdateEnterpriseSettings.seam?enterpriseId=#{sessionTake.enterpriseInfoId}','_self')" >
                            	<i class="icon_sed"></i>企业设置                   	
                            </li>
                            <h:panelGroup rendered="#{sessionTake.nowVersionService.basicService.basicServiceId==10 or sessionTake.nowVersionService.basicService.serviceType eq 1}">
                            	<li class="sed_item" onclick="window.open('#{request.contextPath}/user/ModuleSettings.seam','_self')" ><i class="icon_sed"></i>模块配置</li>  
                            </h:panelGroup>                                                  
                            <li class="sed_item sed_cur" onclick="window.open('#{request.contextPath}/dictionary/DataDicinfoList.seam','_self')" ><i class="icon_sed"></i>字段管理</li>
                            <li class="sed_item" onclick="window.open('#{request.contextPath}/user/EnterpriseCommunityList.seam','_self')" ><i class="icon_sed"></i>角色管理</li>
                            <s:fragment rendered="#{enterpriseInfoHome.enterpriseInfo.govState}">
	                        	<li class="sed_item" onclick="window.open('#{request.contextPath}/user/AuditInformationList.seam','_self')" ><i class="icon_sed"></i>审核信息</li>
	                        </s:fragment>
                            <li class="sed_item" onclick="window.open('#{request.contextPath}/system/RecycleInfoList_1.seam','_self')" ><i class="icon_sed"></i>回收站</li>
                        </ol>
                        <strong class="inben_first inben_first2">
                            <a href="javascript:;"><i class="icon_L icon_ckgl"></i>生产管理设置</a><b class="b_arrow"></b>
                        </strong>
                        <ol class="inben_second">
                            <h:panelGroup rendered="#{s:hasRole('certification')}">
                            	<li class="sed_item" onclick="window.open('#{request.contextPath}/map/CertificationList.seam','_self')" ><i class="icon_sed"></i>认证信息</li>
                            </h:panelGroup>
                            <li class="sed_item" onclick="window.open('#{request.contextPath}/message/TunnelGroupList.seam','_self')" ><i class="icon_sed"></i>分组管理</li>
                            <li class="sed_item" onclick="window.open('#{request.contextPath}/product/InputsInfoList.seam?goodsTypeInfoId=5','_self')" ><i class="icon_sed"></i>投入品信息</li>
                        </ol>
                        <strong class="inben_first inben_first2">
                            <a href="javascript:;"><i class="icon_L icon_zkgl"></i>销售管理设置</a><b class="b_arrow"></b>
                        </strong>
                        <ol class="inben_second">
                            <li class="sed_item" onclick="window.open('#{request.contextPath}/product/GoodsInfoList.seam','_self')"><i class="icon_sed"></i>物料信息</li>
                            <li class="sed_item" onclick="window.open('#{request.contextPath}/product/ProductInfoList.seam','_self')" ><i class="icon_sed"></i>商品信息</li>
                        </ol>
                        <strong class="inben_first inben_first2">
                            <a href="javascript:;"><i class="icon_L icon_pdgl"></i>硬件管理设置</a><b class="b_arrow"></b>
                        </strong>
                        <ol class="inben_second">
                            <li class="sed_item" onclick="window.open('#{request.contextPath}/device/DeviceList.seam','_self')"><i class="icon_sed"></i>设备管理</li>
                            <li class="sed_item" onclick="window.open('#{request.contextPath}/device/VideoList.seam','_self')" ><i class="icon_sed"></i>视频管理</li>
                            <li class="sed_item" onclick="window.open('#{request.contextPath}/farming/AmRfidInfoList.seam','_self')" ><i class="icon_sed"></i>RFID卡管理</li>
                        </ol>
                    </div>
                    <i class="collapse_btn"></i>
                </div>
                <!--左侧二级导航 -->
				<!--右侧 -->
                <div class="inbentory_content">
			<div class="right_c">
				<div class="r_title">
					<div class="r_t_l"><font size="4">卡类型信息</font></div>
				</div>
				<div class="str_box">
					<table width="100%" cellpadding="0" cellspacing="0" class="str_t">
						<tr>
							<td valign="middle" class="str_td">名称：</td>
							<td valign="middle" class="str_text"><h:outputText value="#{cardCategoryHome.instance.name}" /></td>
							<td class="str_td">种类：</td>
							<td class="str_text"><h:outputText value="#{cardConstant.getCardTypeLabel(cardCategoryHome.instance.cardType)}" /></td>
						</tr>
						<h:outputText rendered="#{cardCategoryHome.instance.cardType eq '1'}">
						<tr>
							<td valign="middle" class="str_td">有效期：</td>
							<td valign="middle" class="str_text"><h:outputText value="#{cardCategoryHome.instance.expiryDate}" />月</td>
							<td class="str_td">提醒：</td>
							<td class="str_text"><h:outputText value="#{cardCategoryHome.instance.remind}" />天</td>
						</tr>
						<tr>
							<td valign="middle"  class="str_td">配送次数：</td>
							<td valign="middle"  class="str_text"><h:outputText value="#{cardCategoryHome.instance.deliverNum}" />次</td>
							<td class="str_td">卡金额：</td>
							<td class="str_text"><h:outputText value="#{cardCategoryHome.instance.amount}" ><f:convertNumber pattern="#0.00"/></h:outputText></td>
						</tr>
						</h:outputText>
						
						<h:outputText rendered="#{cardCategoryHome.instance.cardType eq '1' and cardCategoryHome.instance.giftType eq 0}">
						<tr>
							<td valign="middle"  class="str_td">重量上限：</td>
							<td valign="middle"  class="str_text"><h:outputText value="#{cardCategoryHome.instance.weight}" ><f:convertNumber pattern="#0.00"/></h:outputText>g</td>
							<td class="str_td">浮动重量：</td>
							<td class="str_text"><h:outputText value="#{cardCategoryHome.instance.fluctuations}" ><f:convertNumber pattern="#0.00"/></h:outputText>g</td>
						</tr>
						</h:outputText>
						
						<!-- <h:outputText rendered="#{cardCategoryHome.instance.cardType eq '2'}">
						<tr>
							<td valign="middle"  class="str_td">卡金额：</td>
							<td valign="middle" colspan="3" class="str_text"><h:outputText value="#{cardCategoryHome.instance.amount}" ><f:convertNumber pattern="#0.00"/></h:outputText></td>
						</tr>
						</h:outputText> -->
						<tr>
							<td class="str_td">描述：</td>
							<td class="str_text" colspan="3"><h:outputText value="#{cardCategoryHome.instance.remark}" /></td>
						</tr>
					</table>
					
					<s:fragment rendered="#{cardCategoryHome.instance.cardType == cardConstant.getGiftCardType() and (cardCategoryHome.instance.giftType eq 1 or cardCategoryHome.instance.giftType eq null)}">
						<h2 class="titleH2" style="margin-top:50px;" id="cartTitle">
							<span class="pr10 fl" style="display:block;height:30px; line-height:30px;">商品信息</span>
						</h2>
					    <div class="listGoods_con" id="cartContent">
					    	<table class="tableModel thead" width="100%" cellpadding="0" cellspacing="0">
					      		<thead>
					      			<tr>
					      				<th style="width:20%">编号</th>
					      				<th style="width:20%">商品</th>
					      				<th style="width:20%">规格</th>
					      				<th style="width:20%">单价</th>
					      				<th style="width:20%">数量</th>
					      			</tr>
					      		</thead>
					    	</table>
					    	<s:div styleClass="tableFixed_scroll" style="border-bottom:1px solid #e1e1e1;" id="cartDiv">
					    		<table class="tableModel tbody" width="100%" cellpadding="0" cellspacing="0" id="cartTable">
					        	    <tbody>
					        	    	<a:repeat value="#{cardCategoryHome.cartProductList}" var="_cart">
					        	    		<tr class="odd" id="cartProductTr#{_cart.productInfoId}">
							        	        <td style="width:20%">#{_cart.productCode}</td> 
							        	        <td style="width:20%">#{_cart.productName}</td>
							        	        <td style="width:20%">#{_cart.goodsInfo.goodsSpec}</td>
							        	        <td style="width:20%"><span style="display: inline-block;">#{_cart.productPrice}</span></td>
							        	        <td style="width:20%"><span style="display: inline-block;">#{_cart.pNum}</span></td>
							        	    </tr>
					        	    	</a:repeat>
					        	    </tbody>
					        	</table>
					    	</s:div>
							<div class="tfoot mb20">
								<div class="listGoods_total">
									<div class="spzj fr">
									<span class="fl">商品总价 :</span>
									<span class="codeEle fl">¥</span>
									<span class="num fl" id="totalPrice">#{cardCategoryHome.totalPrice}</span></div>
								</div>
							</div>
					    </div>
					</s:fragment>
					<table width="180" style="margin: 35px auto 0 auto;">
						<tr>
							<td>
								<s:button view="/card/CardCategoryList.xhtml" styleClass="btn btn-default" value="返回" id="bn_left6" style="margin-left:10px" >
									<f:param name="pageNum" value="#{cardCategoryHome.pageNum}" />
								</s:button>
							</td>
						</tr>
					</table>
				</div>
				<div class="clear"></div>
			</div>
			</div>
			</div>
		</td>
	</ui:define>
</ui:composition>
