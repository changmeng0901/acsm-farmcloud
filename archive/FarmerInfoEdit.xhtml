<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	template="/layout/template.xhtml">

	<ui:define name="body">
	<td valign="top" width="210" style=" border-right:1px solid #e1e4eb;">
                <div class="left_c2">
                	<ul class="lt_c_ul">
                    	<li>
                        	<a href="#{request.contextPath}/user/EnterpriseInfomationEdit.seam?enterpriseInfoId=#{enterpriseInfoHome.sessionTake.enterpriseInfoId}&amp;enterpriseInfoStatu=1" ><img class="tbimg" src="#{request.contextPath}/asset/images/enterpriseInfoMation_03.png"/>&#160;公司信息</a>
                        </li>
                		<li><a href="#{request.contextPath}/archive/FarmerInfoList.seam" class="fon_07" ><strong><img class="tbimg" src="#{request.contextPath}/asset/images/farmer_14.png"/>&#160;农户信息</strong></a></li>
                		<li><a href="#{request.contextPath}/archive/TunnelInfoList.seam" ><img class="tbimg"  src="#{request.contextPath}/asset/images/tunnel_33.png"/>&#160;大棚信息</a></li>
                		<li><a href="#{request.contextPath}/archive/PlantInfoList.seam"><img class="tbimg"  src="#{request.contextPath}/asset/images/plant_21.png"/>&#160;种植信息</a></li>
                    	<ui:fragment rendered="#{sessionTake.getLevelId() == 1}">
                    	<li><a href="#{request.contextPath}/archive/FloristicsList.seam"><img class="tbimg"  src="#{request.contextPath}/asset/images/fenlei.png"/>&#160;植物分类</a></li>
                    	</ui:fragment>
                    	<li><a href="#{request.contextPath}/storage/PlantList.seam"><img class="tbimg"  src="#{request.contextPath}/asset/images/wuliao.png"/>&#160;作物种类</a></li>
                    	<li>
                        	<a href="#{request.contextPath}/storage/BreedList.seam" ><img class="tbimg"  src="#{request.contextPath}/asset/images/02_65.png"/>&#160;品种信息</a>
                        </li>
                        <ui:fragment rendered="#{sessionTake.getLevelId() == 1}">
                		<li><a href="#{request.contextPath}/archive/PlantEnvTypeList.seam"><img class="tbimg"  src="#{request.contextPath}/asset/images/sheshi.png"/>&#160;设施条件管理</a></li>
                    	</ui:fragment>
                    </ul>
                	<ul class="lt_c_ul2">
                    	<li><s:link propagation="none"  view="/user/UserInfoEdit.xhtml"><f:param name="userid" value="#{sessionTake.userId}"/><img src="#{request.contextPath}/asset/images/biao_03.png" width="10" height="10" />&#160;个人信息管理</s:link></li>
                    	<li><s:link propagation="none"  view="/user/UserPassWordEdit.xhtml"><f:param name="userid" value="#{sessionTake.userId}"/><img src="#{request.contextPath}/asset/images/biao_19.png" width="12" height="12" />&#160;修改密码</s:link></li>
                    </ul>
                	<div class="clear"></div>
                </div>
            </td>
		<td valign="top">
		<h:form id="user" enctype="multipart/form-data">
                <rich:modalPanel id="products" autosized="true" height="125"
								width="240" headerClass="modalHeader">
								<div class="ts_div2" id="div2">
								<div class="tck_ti"><a href="#"> <h:outputLink value="#"
									onclick="#{rich:component('products')}.hide(); return false;">
									<img src="#{request.contextPath}/asset/images/close_17.jpg"
										width="20" height="20" onclick="return closeMethod()" />
								</h:outputLink> </a></div>
				
								<table
									style="width: 100%; margin-top: 25px; table-layout: fixed; margin-left: 15px;">
									<tr>
										<td width="46" align="left"><img
											src="#{request.contextPath}/asset/images/tstc.jpg" width="46"
											height="46" /></td>
										<td align="left"
											style="font-family: '宋体'; color: #000000; font-size: 12px; padding-left: 15px;">
										<span id="productMsg">*号部分为必填项！</span></td>
									</tr>
								</table>
								</div>
							</rich:modalPanel>
                <div class="right_c">
                	<div class="r_title">
                    	<div class="r_t_l"><font size="4">农户信息</font><rich:messages styleClass="messages"></rich:messages></div>
                    </div>
				<!--入库订单列表开始-->
				<div class="all_d3">
                    	<div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">名称：</td>
                                    <td>
                                       <h:inputText id="name" maxlength="45" styleClass="r_c_text_new" value="#{farmerInfoHome.instance.name}"  />
                                    	<font color="#FF0000">*</font>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    	<div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">年龄：</td>
                                    <td>
                                        <h:inputText id="age"
						size="45" maxlength="11" value="#{farmerInfoHome.instance.age}"
						styleClass="r_c_text_date" />岁
                                    </td>
                                </tr>
                            </table>
                        </div>
                    	<div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">从业年限：</td>
                                    <td>
                                     <h:inputText id="workAge" maxlength="11" value="#{farmerInfoHome.instance.workAge}"
						styleClass="r_c_text_date" />年
                                    </td>
                                </tr>
                            </table>
                        </div>
                    	<div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">电话：</td>
                                    <td ><h:inputText id="phone" maxlength="20" value="#{farmerInfoHome.instance.phone}"
						styleClass="r_c_text_new" /></td>
                                </tr>
                            </table>
                        </div>
                    	<div class="all_da all_w01">
                        	<table style="*width:100%;">
                                <tr>
                                    <td class="all_te">农户类型：</td>
                                    <td >
                                       <h:selectOneMenu id = "type" style="width:146px;" value="#{farmerInfoHome.instance.type}">
									<f:selectItem itemLabel="农户管家" itemValue="1" />
									<f:selectItem itemLabel="农场监督" itemValue="2" />
								</h:selectOneMenu>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        
                    	<div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">荣誉：</td>
                                    <td>
                                       <h:inputText id="honour" maxlength="256" value="#{farmerInfoHome.instance.honour}" styleClass="r_c_text" />
                                    </td>
                                </tr>
                            </table>
                        </div>
                         <div class="all_da all_w01" style="width:auto; display:block;">
                        	<table>
                                <tr>
                                    <td class="all_te">IE版图片：</td>
                                     <td width="250" align="left">
										<s:fileUpload id="iePitcure" size="30"
											accept="image/png,image/jpeg,image/gif"
											contentType="image/png,image/jpeg,image/gif"
											fileName="#{farmerInfoHome.instance.iePitcureName}"
											data="#{farmerInfoHome.instance.iePitcureByte}">
										</s:fileUpload>
									</td>
									<td align="left" style="padding-left:10px;">	
										<font color="#FF0000">图片宽高标准：144x144(像素)</font>
						            </td>
                                </tr>
                            </table>
                        </div>
                        <div class="all_da all_w01" style="width:auto; display:block;">
                        	<table>
                                <tr>
                                    <td class="all_te">手机版图片：</td>
                                    <td width="250" align="left">
                                      <s:fileUpload id="picture" size="30"
											accept="image/png,image/jpeg,image/gif"
											contentType="image/png,image/jpeg,image/gif"
											fileName="#{farmerInfoHome.instance.pictureName}"
											data="#{farmerInfoHome.instance.picture}">
										</s:fileUpload>
                                    </td>
                                    <td align="left" style="padding-left:10px;">	
										<font color="#FF0000">图片宽高标准：152x92(像素)</font>
						            </td>
                                </tr>
                            </table>
                        </div>
                         <div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">农务感言：</td>
                                    <td >
                                       <h:inputText id="wards" maxlength="500" value="#{farmerInfoHome.instance.wards}" styleClass="r_c_text" />
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="all_da all_w01" style="width:724px;">
                        	<table>
                                <tr>
							<td class="all_te">叙述：</td>
							<td>
								<h:inputTextarea id="description"  styleClass="big"  value="#{farmerInfoHome.instance.description}" />
                            </td>
						</tr>
						<tr>
							<td colspan="2" height="35"></td>
						</tr>
                            </table>
                        </div>
                        
                        <div class="clear"></div>
                   </div>
                    
                         <table width="180" style="margin:35px auto 0 auto;">
						<tr>
							<td>
						<h:commandButton id="persist"  styleClass="edit_save" action="#{farmerInfoHome.persist}" rendered="#{!farmerInfoHome.managed}"  onclick="return checkSubmit()"/>
		            	<h:commandButton id="update"  styleClass="edit_save" action="#{farmerInfoHome.update}" rendered="#{farmerInfoHome.managed}"   onclick="return checkSubmit()"/>
		    			&#160;<s:button view="/archive/FarmerInfoList.xhtml" styleClass="edit_back" id="bn_left6" style="margin-left:10px" />
                            </td>
						</tr>
                   </table> 
				<!--入库订单列表结束-->
                    <div class="clear"></div>
                </div><!--right_c结束-->
                <div class="clear"></div>
                
                
                
              </h:form>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/superfish.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/supersubs.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/hoverIntent.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.flot.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery-ui.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery-ui-select.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/customInput.jquery.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.dataTables.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.fancybox-1.3.4.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.filestyle.mini.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery-ui-timepicker-addon.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.treeview.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.tipsy.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.wysiwyg.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/inline.js"></script>
<script type="text/javascript"><!--
	   //<![CDATA[	
jquery(".rich-calendar-input").addClass("r_c_text_date");
jquery(".rich-calendar-input").removeClass("rich-calendar-input");



	function checkSubmit(){
		
		   var name = document.getElementById("user:name").value; 
		   var age = document.getElementById("user:age").value; 
		   var workAge = document.getElementById("user:workAge").value; 
		   var phone = document.getElementById("user:phone").value; 
		   var phoneReg = /^((0{0,1}(14[0-9]|13[0-9]|15[0-9]|18[6-9])[0-9]{8})+)$/;
		   var telReg = /^(([0\+]\d{2,3}-)?(0\d{2,3})-)?(\d{7,8})(-(\d{3,}))?$/;
		   var regNum = /^[1-9]+[0-9]*]*$/; 
		   
		   if(name == ""){
				document.getElementById("productMsg").innerHTML = "请输入姓名";
				#{rich:component('products')}.show();
				return false;
			}
			if(age != "" && !regNum.test(age)){
				document.getElementById("productMsg").innerHTML = "请输入正确的年龄!";
				#{rich:component('products')}.show();
				return false;
			}
			if(workAge != "" && !regNum.test(workAge)){
				document.getElementById("productMsg").innerHTML = "请输入正确的从业年限!";
				#{rich:component('products')}.show();
				return false;
			}

			if(phone != "" && !phoneReg.test(phone) && !telReg.test(phone)){
				document.getElementById("productMsg").innerHTML = "请输入正确的手机号码<br/>或座机号码!<br/>例:手机133333333<br/>座机010-66666666";
				#{rich:component('products')}.show();
				return false;
			}

		   var description =  document.getElementById("user:description").value;
		   if(description.length > 500){
			   document.getElementById("spanValue").innerHTML = "描述不得超过500字!";
			   #{rich:component('products')}.show();return false;
		   }
	}
	
	function closeMethod(){
		 var name = document.getElementById("user:name").value; 
		   var age = document.getElementById("user:age").value; 
		   var workAge = document.getElementById("user:workAge").value; 
		   var phone = document.getElementById("user:phone").value; 
		   var phoneReg = /^((0{0,1}(14[0-9]|13[0-9]|15[0-9]|18[6-9])[0-9]{8})+)$/;
		   var telReg = /^(([0\+]\d{2,3}-)?(0\d{2,3})-)?(\d{7,8})(-(\d{3,}))?$/;
		   var regNum = /^[1-9]+[0-9]*]*$/; 
		   if(name == ""){
			   document.getElementById("user:name").focus();
			   return false;
			}
		   if(age != "" && !regNum.test(age)){
				 document.getElementById("user:age").focus();
				   return false;
				}
		   if(workAge != "" && !regNum.test(workAge)){
				 document.getElementById("user:workAge").focus();
				   return false;
			}
		   if(phone != "" && !phoneReg.test(phone) && !telReg.test(phone)){
				document.getElementById("user:phone").focus();
				return false;
			}

		   var description =  document.getElementById("user:description").value;
			if(description.length > 500){
				document.getElementById("user:description").focus();
			}
		}
	//]]> 
	--></script>
<style>
	  .ts_div2{width:240px; height: 125px; border: 1px solid #81C5E9; margin: 0px auto; padding: 0 15px 15px;  background: url(#{request.contextPath}/asset/images/tck_bg_14.jpg) #ffffff repeat-x scroll center top;}
	  .dr-mpnl-shadow{background:none;}
	  .dr-mpnl-pnl{background:none; border:none;}
	  .dr-mpnl-pnl-b{padding:0;}
	  .dr-mpnl-shadow{top:0; left:0;}
	  .rich-picklist-source-items{margin:0;}
	  .ui-selectmenu{*float:left;}
	   
	</style>
            </td> 
             <style>
    .rich-calendar-button{
     margin-left:-8px
    }
    </style>
	</ui:define>

</ui:composition>
