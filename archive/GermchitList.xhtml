<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jstl/core"
	template="/layout/template_new.xhtml">

	<ui:define name="body">
	<script type="text/javascript" src="#{request.contextPath}/asset/js/checkBox/icheck.js"></script>
	<style>
	/*下拉搜索样式09-04*/
	.input-group .form-control:first-child, .input-group-addon:first-child, .input-group-btn:first-child > .btn, .input-group-btn:first-child > .btn-group > .btn, .input-group-btn:first-child > .dropdown-toggle, .input-group-btn:last-child > .btn:not(:last-child):not(.dropdown-toggle), .input-group-btn:last-child > .btn-group:not(:last-child) > .btn {
	    border-bottom-right-radius: 0;
	    border-top-right-radius: 0;
	}.input-group .form-control:last-child, .input-group-addon:last-child, .input-group-btn:last-child > .btn, .input-group-btn:last-child > .btn-group > .btn, .input-group-btn:last-child > .dropdown-toggle, .input-group-btn:first-child > .btn:not(:first-child), .input-group-btn:first-child > .btn-group:not(:first-child) > .btn {
	    border-bottom-left-radius: 0;
	    border-top-left-radius: 0;
	}
	.form-control{  
	border-bottom-left-radius: 0;
	    border-top-left-radius: 0;
	    height:31px;
	    }
    .select_input07 .form-control{width:300px;}
	</style>
		<!-- Modal -->
	<!-- #{germchitList.resultList}-->	
			
<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="myModal2" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">提示框</h4>
      </div>
      <div class="modal-body">
       <span id="productMsg">*号部分为必填项！</span>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal">确认</button>
      </div>
    </div>
  </div>
</div>
       <td valign="top" >
		<div class="right_c">
                	<div class="r_title">
                    	<div class="r_t_l">生产管理&#160;&gt;&#160;&#160;<font size="3">种苗</font></div>
                    	<div class="ybp_02" style="padding-top:22px;">
                    	
				        </div>
                    </div>
					<br/>
                    <div class="z_r_ser">
                    <h:form id="storageTypeSearch">
                    	<table cellpadding="0" cellspacing="0">
                            <tr>
                                <td>
		                      <!--   搜索框     -->
							  <div class="select_input07" >
							    <div class="input-group">
							      <div class="public-search">
							        <span class="octicon-search02"></span>
							        <h:inputText onfocus="objFocus(this)" onblur="objBlur(this)" id="search" styleClass="form-control srarchfont" value="#{germchitList.search}" style="border-radius:4px;"/>
							      </div>
							      <h:commandButton id="search1" styleClass="btn btn-primary" value="搜索" action="/archive/GermchitList.xhtml" onclick="return searchv();">                                	
	                                </h:commandButton>
	                              
							    </div>
							</div>
                                </td>
                           </tr>
                       </table> 
                    </h:form>                         
                    </div>
                     <!--添加按钮开始-->
                    <div class="tjan_01">
                    	<div class="btn-group">
                    		<s:link  style="padding:6px 19px;"  styleClass="btn btn-success "  value="添加种苗" view="/archive/GermchitEdit.xhtml" propagation="none">
	                    	</s:link>
						</div>
                    </div>
                    <!--添加按钮结束-->
                    <table width="100%" class="ze_table" cellpadding="0" cellspacing="0">
                    	<tr>
                    		<td width="5" height="4"><img src="#{request.contextPath}/asset/images/table_d_40.jpg" width="5" height="4" /></td>
                    		<td colspan="7" style="border-top:1px solid #e1e1e1; background:#f0f5fb;"></td>
                            <td width="5" height="4"><img src="#{request.contextPath}/asset/images/table_d_43.jpg" width="5" height="4" /></td>
                    	</tr>
                    	<tr>
                    		<th class="ze_bg ze_bt_le" width="5" height="4"></th>
                    		<th class="ze_bg" width="15%">种苗名称</th>
                    		<th class="ze_bg" width="15%">类型</th>
                    		<th class="ze_bg" width="10%">来源</th>
                    		<th class="ze_bg" width="10%">检疫结果</th>
                    		<th class="ze_bg" width="15%">检疫机构</th>
                    		<th class="ze_bg" width="20%">检疫时间</th>
                    		<th class="ze_bg" width="15%">操作</th>
                    		<th class="ze_bg ze_bt_ri" width="5" height="4"></th>
                    	</tr>
						<ui:repeat value="#{germchitList.resultList}" rendered="#{not empty germchitList.resultList}" var="_result" rowKeyVar="_index">
                    	<tr>
                    		<td class="ze_bg2 ze_bt_le" width="5" height="4"></td>
                            <td class="ze_bg2"><h:outputText  value="#{_result.breedId.name}" /></td>
                             <td class="ze_bg2"><h:outputText value="#{_result.germchitType == 0 ? '种子' : '种苗'}" /></td>
                    		<td class="ze_bg2"><h:outputText value="#{_result.sourceType == 0 ? '自繁' : '外采'}" /></td>
                    		<td class="ze_bg2"><h:outputText value="#{_result.quarantineResult == 0 ? '合格' : '不合格'}" /></td>
                    		<td class="ze_bg2"><h:outputText value="#{_result.quarantineAgencies}" /></td>
                    		<td class="ze_bg2">
	                    		<h:outputText value="#{_result.quarantineTime}" >
									<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd" />
							    </h:outputText>
						    </td>
                    		<td class="ze_bg2">
                            	<s:link propagation="none"   view="/archive/Germchit.xhtml" styleClass="list_view"  id="germchitViewId" title="查看">
									<f:param name="germchitId" value="#{_result.id}" />
								</s:link>&#160;
                                <s:link propagation="none"   view="/archive/GermchitEdit.xhtml"  styleClass="list_edit" id="germchitEdit"  title="编辑">
	                                <f:param name="germchitId" value="#{_result.id}" />
								</s:link>&#160;
								
                                <a class="list_delete"  title="删除"  onclick="del(#{_result.id});return false;"></a>
                                
                            </td>
                            <td class="ze_bg ze_bt_ri" width="5" height="4"></td>
                    	</tr>
                    	</ui:repeat>
                    </table>
                   <!--翻页开始-->
                    <table style="height:30px; margin:40px auto 0 auto;" cellpadding="0" cellspacing="0">
                    	<tr>
                    	<s:div rendered="#{not empty germchitList.resultList}"> 
			                <s:decorate rendered="#{!germchitList.previousExists }">
			                <td><img src="#{request.contextPath}/asset/images/page_68.jpg" width="4" height="30" /></td>
			                </s:decorate>
			                 <s:decorate rendered="#{germchitList.previousExists }">
			                <td><img src="#{request.contextPath}/asset/images/page_67.jpg" width="4" height="30" /></td>
			                </s:decorate>
			                <s:decorate rendered="#{germchitList.previousExists }">
	                            <td class="td_t_b">
		                            <s:link propagation="none"  view="/archive/GermchitList.xhtml" >首页
		                            	<f:param name="pageNum" value="0" />
		                            </s:link>
	                            </td>
	                            <td class="td_t_b td_t_t" style="padding:0; width:30px;">
		                            <s:link propagation="none"  view="/archive/GermchitList.xhtml"  styleClass="no_n" >
		                            	<f:param name="pageNum" value="#{germchitList.previousFirstResult}"/>&lt;
		                            </s:link>
	                            </td>
	                        </s:decorate>
					        <a4j:repeat var="_page" value="#{germchitList.pageList}" rowKeyVar="_index">
								<td class="td_t_b #{germchitList.previousExists or _index >0 ?'td_t_t':''} #{_page eq germchitList.pageNum?'onp':''}">
									<s:link propagation="none"  view="/archive/GermchitList.xhtml" value="#{_page}" id="previousPage">
										<f:param name="pageNum" value="#{_page}" />
									</s:link>
								</td>
							</a4j:repeat>
							<s:decorate rendered="#{germchitList.nextExists}">
                            <td class="td_t_b td_t_t">
	                            <s:link propagation="none"  view="/archive/GermchitList.xhtml"   styleClass="no_d" >
	                            	<f:param name="pageNum" value="#{germchitList.nextFirstResult}" />&gt;
	                            </s:link>
                            </td>
                            <td class="td_t_b td_t_t">
								 <s:link propagation="none"  view="/archive/GermchitList.xhtml" >尾页
								 	<f:param name="pageNum" value="#{germchitList.PAGE_COUNT}" />
								 </s:link>
							</td>
							</s:decorate>
							<td class="td_t_b td_t_t" style=" color:#9a9a9c;">共#{germchitList.PAGE_COUNT}页</td>
                            <td ><img src="#{request.contextPath}/asset/images/page_70.jpg" width="4" height="30" /></td>
                    	</s:div>
                    	</tr>
                    </table>
                    <!--翻页结束-->
                    <div class="clear"></div>
                </div><!--right_c结束-->
		
</td>
    <a4j:form >
		<a4j:jsFunction name="deletedAjax"  action="#{germchitHome.remove}">
			<a4j:actionparam name="id" assignTo="#{germchitHome.germchitId}"/>
		</a4j:jsFunction>
	</a4j:form>
<script type="text/javascript">
//<![CDATA[
  window.onload = function () {
    jquery('.selectpicker').selectpicker();
    var v = document.getElementById("storageTypeSearch:search").value;
	if(v == "" || v == null){
		document.getElementById("storageTypeSearch:search").value = "请输入种苗名称/种苗来源";
		jQuery("#storageTypeSearch\\:search").css("color","#a8a8a8");
	}else if(v == "请输入种苗名称/种苗来源"){
		jQuery("#storageTypeSearch\\:search").css("color","#a8a8a8");
	}else{
		jQuery("#storageTypeSearch\\:search").css("color","#000");
	}
	
  };
  function objFocus(obj){
  	if(obj.value == "请输入种苗名称/种苗来源"){
  		obj.value = "";
  		jQuery("#storageTypeSearch\\:search").css("color","#000");
  	}
  }
  function objBlur(obj){
	if(obj.value == ""){
		obj.value = "请输入种苗名称/种苗来源";
		jQuery("#storageTypeSearch\\:search").css("color","#a8a8a8");
	}
  }
  function searchv(){
	 var v = document.getElementById("storageTypeSearch:search").value;
	if(v == "请输入种苗名称/种苗来源" ){
		return false;
	}
	return true;
 }
 	function del(id){
 		if(confirm('确定删除?')){
	 		deletedAjax(id);
	 		return true;
	 	}
	 	return false;
	}
 
	//]]>
			  
</script>
	</ui:define>

</ui:composition>
