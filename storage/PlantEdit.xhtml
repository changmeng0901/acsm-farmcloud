<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	template="/layout/template_new.xhtml">

	<ui:define name="body">
	<style>
	  .form-control{
			float:left;
		}
	   
	  .all_te{width:105px;}
	  .all_w01{width:382px;}
	</style>
	<td valign="top" width="210" style=" border-right:1px solid #e1e4eb;">
                <div class="left_c2">
                	<ul class="lt_c_ul">
                		<ui:fragment rendered="#{sessionTake.getLevelId() == 1}">
                    	<li><a href="#{request.contextPath}/archive/FloristicsList.seam"><img class="tbimg"  src="#{request.contextPath}/asset/images/fenlei.png"/>&#160;植物分类</a></li>
                    	</ui:fragment>
                		<li><a href="#{request.contextPath}/storage/PlantList.seam" class="fon_07" ><strong><img class="tbimg"  src="#{request.contextPath}/asset/images/wuliao.png"/>&#160;作物种类</strong></a></li>
                    	<li>
                        	<a href="#{request.contextPath}/storage/BreedList.seam"><img class="tbimg"  src="#{request.contextPath}/asset/images/02_65.png"/>&#160;品种信息</a>
                        </li>
                        <ui:fragment rendered="#{sessionTake.getLevelId() == 1}">
                		<li><a href="#{request.contextPath}/archive/PlantEnvTypeList.seam"><img class="tbimg"  src="#{request.contextPath}/asset/images/sheshi.png"/>&#160;设施条件管理</a></li>
                    	</ui:fragment>
                    </ul>
                	<div class="clear"></div>
                </div>
                
            </td>
		<td valign="top">
		<h:form id="user" enctype="multipart/form-data">
				<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="myModal" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">提示框</h4>
      </div>
      <div class="modal-body">
       <span id="spanValue">*号部分为必填项！</span>
        
        
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal">确认</button>
      </div>
    </div>
  </div>
</div>
                <div class="right_c">
                	<div class="r_title">
                    	<div class="r_t_l"><font size="4">作物种类</font><rich:messages styleClass="messages"></rich:messages></div>
                    </div>
				<!--入库订单列表开始-->
				<!-- #{plantHome.methods()} -->
                	<div class="all_d3">
                		 <div class="all_da all_w01">
                		 <!-- #{plantHome.getFfloristicsListNew()} -->
                        	<table>
                                <tr>
                                    <td class="all_te">所属类型：</td>
                                    <td>
										<h:selectOneMenu immediate="true" styleClass="selectpicker" id="fartherFloristicsId2" style="width:146px;" value="#{plantHome.fId}">
											<s:selectItems value="#{plantHome.fObjList}" var="var" label="#{var.name}" itemValue="#{var.floristicsId}" escape="false" />
										</h:selectOneMenu>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">生产年限：</td>
                                    <td>
                                       <h:selectOneMenu immediate="true" styleClass="selectpicker"  style="width:146px;" value="#{plantHome.instance.floristicsType}">
											<f:selectItem itemLabel="一年生" itemValue="1" />
											<f:selectItem itemLabel="多年生" itemValue="2" />
										</h:selectOneMenu>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    	<div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">种名：</td>
                                    <td>
                                       <h:inputText styleClass="form-control nw221" id="name" value="#{plantHome.instance.name}"/>
                                       <span class="finput" style="color:#FF0000">*</span>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="all_da all_w01">
                        	<table>
                            	<tr>
                                	<td class="all_te">拉丁文名：</td>
                                    <td><h:inputText class="form-control nw221" value="#{plantHome.instance.formalName}" /></td>
                            	</tr>
                            </table>
                        </div>
                        <div class="all_da all_w01">
                        	<table>
                            	<tr>
                                	<td class="all_te">英文名：</td>
                                    <td><h:inputText class="form-control nw221" value="#{plantHome.instance.englishName}" /></td>
                            	</tr>
                            </table>
                        </div>
                        <div class="all_da all_w01">
                        	<table>
                            	<tr>
                                	<td class="all_te">学名：</td>
                                    <td><h:inputText class="form-control nw221" value="#{plantHome.instance.scientificName}" /></td>
                            	</tr>
                            </table>
                        </div>
                    	<div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">别名：</td>
                                    <td>
                                        <h:inputText id="suitableCrops"
						 value="#{plantHome.instance.byname}"
						styleClass="form-control nw221" /> 
                                    </td>
                                </tr>
                            </table>
                        </div>
                       <div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">科：</td>
                                    <td>
                                     <h:inputText id="faculty"  value="#{plantHome.instance.faculty}"
						styleClass="form-control nw221" />
                                    </td>
                                </tr>
                            </table>
                        </div>
                         <div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">属：</td>
                                    <td>
                                     <h:inputText id="genus"  value="#{plantHome.instance.genus}"
						styleClass="form-control nw221" />
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="all_da all_w01" style="width:auto; display:block;">
                        	<table>
                                <tr>
                                    <td class="all_te">图片：</td>
                                    <td width="250" align="left">
										<s:fileUpload id="picture" size="30"
											accept="image/png,image/jpeg,image/gif"
											contentType="image/png,image/jpeg,image/gif"
											fileName="#{plantHome.instance.pictureName}"
											data="#{plantHome.instance.pictureByte}">
										</s:fileUpload>
									</td>
									<td align="left" style="padding-left:10px;">	
										<font color="#FF0000">图片宽高标准：185x114(像素)</font>
						            </td>
                                </tr>
                            </table>
                        </div>
                        <div class="all_da all_w01" style="width:auto; display:block;">
                        	<table>
                                <tr>
                                    <td class="all_te">数字地图圆图：</td>
                                    <td width="250" align="left">
										<s:fileUpload id="plantImgRound" size="30"
											accept="image/png,image/jpeg,image/gif"
											contentType="image/png,image/jpeg,image/gif"
											fileName="#{plantHome.instance.plantImgRoundName}"
											data="#{plantHome.instance.plantImgRoundByte}">
										</s:fileUpload>
									</td>
									<td align="left" style="padding-left:10px;">	
										<font color="#FF0000">图片宽高标准：300x300(像素)</font>
						            </td>
                                </tr>
                            </table>
                        </div>
                        <div class="all_da all_w01" style="width:auto; display:block;">
                        	<table>
                                <tr>
                                    <td class="all_te">数字地图方图：</td>
                                    <td width="250"  align="left">
										<s:fileUpload id="plantImgSquare" size="30"
											accept="image/png,image/jpeg,image/gif"
											contentType="image/png,image/jpeg,image/gif"
											fileName="#{plantHome.instance.plantImgSquareName}"
											data="#{plantHome.instance.plantImgSquareByte}">
										</s:fileUpload>
									</td>	
									<td align="left" style="padding-left:10px;">
										<font color="#FF0000">图片宽高标准：75x75(像素)</font>
										
						            </td>
                                </tr>
                            </table>
                        </div>
                        <div class="all_da all_w01" style="width:auto; display:block;">
                        	<table>
                                <tr>
                                    <td class="all_te">产品介绍：</td>
                                    <td colspan="3">
                                    	<h:inputTextarea name="content" class="area_w" style="height:400px" value="#{plantHome.instance.compileInfo}" id="content"/>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="clear"></div>
                   </div>
                         <table style="margin:35px auto 0 auto;width:200px;">
						<tr>
							<td>
							<h:commandButton id="persist1" style="float:left;"  styleClass="btn btn-primary" value="下一步" rendered="#{!plantHome.managed}" action="#{plantHome.savePlant}"  onclick="return checkSubmit()"/>
							<s:div rendered="#{sessionTake.getLevelId() eq 1}" >
							  <s:div rendered="#{plantHome.editOrAudit eq 1}" style="width:77px; float:left;" >
		            	        <h:commandButton id="update1"  styleClass="btn btn-primary" value="提交" action="#{plantHome.update}" rendered="#{plantHome.managed}"   onclick="return checkSubmit()"/>
		    			      </s:div>
		    			      <s:div rendered="#{plantHome.editOrAudit eq 2}" style="width:77px; float:left;">
		    			        <h:commandButton id="audit2"  styleClass="btn btn-primary" value="审核通过" action="#{plantHome.update}" rendered="#{plantHome.managed}"   onclick="return checkSubmit()">
		    			        </h:commandButton>
		    			      </s:div>
		    			    </s:div>
		    			    <s:div rendered="#{sessionTake.getLevelId() ne 1}" style="float:left;">
		            	        <h:commandButton id="update"  styleClass="btn btn-primary" value="提交" action="#{plantHome.update}" rendered="#{plantHome.managed}"   onclick="return checkSubmit()"/>
		    			    </s:div>
		    			    &#160;<s:button view="/storage/PlantList.xhtml" styleClass="btn btn-default" value="返回" id="bn_left61" style="margin-left:10px;" >
		    			    		<f:param name="pageNum" value="#{plantHome.pageNum}" />
		    			    		</s:button>
                            </td>
						</tr>
                   </table> 

				<!--入库订单列表结束-->
                    <div class="clear"></div>
                </div><!--right_c结束-->
                <div class="clear"></div>
    <!--右边结束-->
    
    </h:form>
    
<script type="text/javascript">
function checkSubmit(){
   var a1 =  document.getElementById("user:name").value;
  if(a1 == ""){
	   document.getElementById("spanValue").innerHTML = "种类名称不能为空";
	   jquery("#myModal").modal('show');return false;
   }
  return true;
}
function closeMethod(){
	var a1 =  document.getElementById("user:name");
    if(a1.value==""){
   		a1.focus();
   }
}
	//<![CDATA[
	jquery(document).ready(function(){ 
   	 if(document.body.clientWidth<=1010){
   		   jquery(".top").css("min-width","1007px");
              jquery(".content").css("min-width","1007px");
			   document.getElementById("sc").setAttribute("href","#{request.contextPath}/asset/css/1024.css");
			   jquery(".rich-picklist-list-content").css("width","150px");
		       	 }else{
      		jquery(".top").css("min-width","1334px");
           jquery(".content").css("min-width","1334px");
           document.getElementById("sc").setAttribute("href","#{request.contextPath}/asset/css/1028.css");
      	 }
      });
        window.onresize = function(){
       	 if(document.body.clientWidth<=1010){
       		 //jquery(".top").css("min-width","1010px");
                //jquery(".content").css("min-width","1010px");
				 document.getElementById("sc").setAttribute("href","#{request.contextPath}/asset/css/1024.css");
				 jquery(".rich-picklist-list-content").css("width","150px");
       	 }else{
       		 jquery(".top").css("min-width","1334px");
                jquery(".content").css("min-width","1334px");
       		 document.getElementById("sc").setAttribute("href","#{request.contextPath}/asset/css/1028.css");
       		 jquery(".rich-picklist-list-content").css("width","180px");
       	 }
        }
      //]]>
</script>

		<script type="text/javascript" src="#{request.contextPath}/asset/js/kindeditor/kindeditor.js"></script>
		<script type="text/javascript" src="#{request.contextPath}/asset/js/kindeditor/lang/zh_CN.js"></script>
<script>
//<![CDATA[
		var editor;
		KindEditor.ready(function(K) {
			editor = K.create('textarea[name="user:content"]', {
				resizeType : 1,
				allowPreviewEmoticons : false,
				allowImageUpload : true,
				
				items : [
					'source','|','fontname', 'fontsize', '|', 'forecolor', 'hilitecolor', 'bold', 'italic', 'underline',
					'removeformat', '|', 'justifyleft', 'justifycenter', 'justifyright', 'insertorderedlist','image',
					'insertunorderedlist']
		});
		});
		 //]]>
			</script>
            </td> 
            
           <script type="text/javascript">
           
			    jquery('.selectpicker').selectpicker({dropupAuto:false});
			</script>
	</ui:define>

</ui:composition>
