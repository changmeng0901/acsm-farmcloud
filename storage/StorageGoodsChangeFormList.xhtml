<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:c="http://java.sun.com/jstl/core"
    template="/layout/template.xhtml">

<ui:define name="body">
<td valign="top" width="100%">
<style>
 .dr-mpnl-pnl{padding:0;}
 .dr-mpnl-pnl-b{color:none;padding:0; font-family:"微软雅黑";}
 .dr-insldr td{padding:0;}
 .font_td{font-size:14px;}
 .dr-insldr{width:255px!important;}
</style>

                <div class="right_c">
                	<div class="r_title">
                    	<div class="r_t_l"><s:link propagation="none"  view="#{sessionTake.urlTemp}" style="text-decoration:none;color:black;" value="工作 ">
                    </s:link>&#160;&gt;&#160;&#160;<font size="3">流水</font></div>
                    </div>

					<div class="yuleng">
						<a href="#"><img src="#{request.contextPath}/asset/images/jx_03.jpg" width="106" height="74" /></a>
 						<a href="#"><img src="#{request.contextPath}/asset/images/jx_05.jpg" width="106" height="74" /></a>
 						<a href="#"><img src="#{request.contextPath}/asset/images/jx_07.jpg" width="106" height="74" /></a>
 						<a href="#"><img src="#{request.contextPath}/asset/images/jx_09.jpg" width="106" height="74" /></a>
 						<a href="#"><img src="#{request.contextPath}/asset/images/jx_11.jpg" width="106" height="74" /></a>
						<a href="#"><img src="#{request.contextPath}/asset/images/jx_13.jpg" width="106" height="74" /></a>
					</div>
                    
                    
                    
                    <h:form id="goodsInfoSearch">
                    <div class="z_r_ser">
                    	<table cellpadding="0" cellspacing="0" class="cxtja">
                        	<tr>
                        		<td width="80" style="font-size:14px;">查询条件：<h:inputHidden value="#{aliasesHome.tag}" /></td>
                                <td width="340">
                                <h:inputText value="#{aliasesHome.searchName}" styleClass="z_r_ser_i"/>
                                </td>
                                <td width="40" align="left">
                                <h:commandButton id="search"   styleClass="list_search"/>
                                </td>
                                <td width="55" height="30" align="right" valign="bottom">
                                <a class="gjss_a" href="#" onclick="op(this)" aa="1">高级搜索</a></td>
                           </tr>
                       </table>                          
                    </div>
                    
                     
                    </h:form>
                    
<rich:modalPanel id="product" autosized="true" height="166" width="450" headerClass="modalHeader" >
		<div class="tck_div">
       <div class="tck_ti">
       <h:outputLink value="#"
                onclick="#{rich:component('product')}.hide(); return false;">
                    <img src="../images/close_17.jpg" width="20" height="20"/>
                </h:outputLink>
                </div>
       <h:form id="productform" enctype="multipart/form-data">
       <!-- #{aliasesHome.works()} -->
               	
               
       </h:form>
       </div>
   </rich:modalPanel>
					<!--商品分类开始-->
                    <div class="tree_dis">
                     
                        <div class="box2">
                        	<!--全部开始-->
                        	<div>
                                <table width="100%" cellpadding="0" cellspacing="0" class="tr_tab_b2" style="border-top:1px solid #ddd;">
                                    <tr>
                                        <td class="tree_th" width="7%">物料编码</td>
                                        <td class="tree_th" width="7%">品名</td>
                                        <td class="tree_th" width="7%">规格</td>
                                        <td class="tree_th" width="7%">生产时间</td>
                                        <td class="tree_th" width="7%">保质期(天)</td>
                                        <td class="tree_th" width="7%">单价</td>
                                        <td class="tree_th" width="7%">数量</td>
                                        <td class="tree_th" width="7%">金额</td>
                                        <td class="tree_th" width="7%">托盘</td>
                                        <td class="tree_th" width="7%">货架</td>
                                        <td class="tree_th" width="7%">位置</td>
                                        <td class="tree_th" width="10%">操作</td>
                                    </tr>
                                </table>
                        	<!--第一个table开始-->
                                <table width="100%" cellpadding="0" cellspacing="0" class="tr_tab_b">
                                <a4j:repeat value="#{storageChangeFormList.resultList}" var="_obj" rendered="#{not empty storageChangeFormList.resultList}" rowKeyVar="_index">
                                    <tr class="nottt">
                                        <td height="48"  style="border-bottom:1px solid #ddd; ">
                                        	<table width="100%" height="100%" cellspacing="0" cellpadding="0" >

                                        		<tr>
                                        			<td width="1%"></td>
                                        			<td class="st_cssr" width="5%">凭证号：</td>
                                        			<td class="st_cssl"  width="10%">#{_obj.name}</td>
                                        			<td class="st_cssr" width="5%">类型：</td>
                                        			<td class="st_cssl"  width="5%">#{_obj.storageType eq 1?'入库':'出库'}</td>
                                        			<td class="st_cssr" width="5%">时间：</td>
                                        			<td class="st_cssl"  width="12%">#{_obj.createTime}</td>
                                        			<td class="st_cssr" width="5%">经手人：</td>
                                        			<td class="st_cssl"  width="9%">#{_obj.operater}</td>
                                        			<td class="st_cssr" width="5%">库房：</td>
                                        			<td class="st_cssl"  width="9%">#{collectionsUtil.toList2(_obj.goodsPalletChangeRecords)}</td>
                                        			<td class="st_cssr" width="5%">金额：</td>
                                        			<td class="st_cssl" width="14%">#{collectionsUtil.toList(_obj.goodsPalletChangeRecords)}</td> 
                                        			<td class="st_cssl" width="10%">
			                                            <a href="#"><img src="#{request.contextPath}/asset/images/jx2.png" width="16" height="16" /></a>
			                                            <a href="#"><img src="#{request.contextPath}/asset/images/jx1.png" width="16" height="16" /></a>
			                                            <a href="#"><img src="#{request.contextPath}/asset/images/jx.png" width="16" height="16" /></a>
			                                         </td>                                       			
                                        		</tr>
                                        		
                                        	</table>
                                        </td>
                                    </tr>
                                    <tr>
	                             		<td >
	                                    	<table width="100%" height="100%" cellspacing="0" cellpadding="0">
	                                    		<a4j:repeat value="#{collectionsUtil.toList3(_obj.goodsPalletChangeRecords)}" var="_var"  rowKeyVar="_index">
				                                    <tr>
				                                        <td class="tree_td" width="7%">#{_var.palletId.sn}</td>
				                                        <td class="tree_td" width="7%">#{_var.goodsBatchId.goodsInfoId.breedId.name}</td>
				                                        <td class="tree_td" width="7%">#{_var.goodsBatchId.goodsInfoId.goodsSpec}</td>
				                                        <td class="tree_td" width="7%">#{_var.goodsBatchId.produceDate}</td>
				                                        <td class="tree_td" width="7%">#{_var.goodsBatchId.expirationDate}</td>
				                                        <td class="tree_td" width="7%">#{_var.goodsBatchId.goodsInfoId.productInfo.productPrice}</td>
				                                        <td class="tree_td" width="7%">#{_var.goodsNum}</td>
				                                        <td class="tree_td" width="7%">#{_var.goodsPrice}</td>
				                                        <td class="tree_td" width="7%">#{_var.palletId.name}</td>
				                                        <td class="tree_td" width="7%">#{_var.palletId.storageGoodsShelf.name}</td>
				                                        <td class="tree_td" width="7%">#{_var.palletId.storageGoodsShelf.storageArea.name}</td>
				                                        <td class="tree_td" width="10%">
				                                            <a href="#"><img src="#{request.contextPath}/asset/images/jx2.png" width="16" height="16" /></a>
				                                        </td>
			                                    	</tr>
		                                    	</a4j:repeat>
                                 			</table>
	                                   	</td>
                               		</tr>
                             	</a4j:repeat>
                                </table>
                                <!--第一个table结束-->
                        	 <!--翻页开始-->
		                    <table style="height:30px; margin:40px auto 0 auto;" cellpadding="0" cellspacing="0">
		                    	<tr>
					                <s:decorate rendered="#{!storageChangeFormList.previousExists }">
					                <td><img src="#{request.contextPath}/asset/images/page_68.jpg" width="4" height="30" /></td>
					                </s:decorate>
					                 <s:decorate rendered="#{storageChangeFormList.previousExists }">
					                <td><img src="#{request.contextPath}/asset/images/page_67.jpg" width="4" height="30" /></td>
					                </s:decorate>
					                <s:decorate rendered="#{storageChangeFormList.previousExists }">
			                            <td class="td_t_b">
				                            <s:link propagation="none"  view="/user/storageChangeFormList.xhtml" >首页
				                            	<f:param name="pageNum" value="0" />
				                            </s:link>
			                            </td>
			                            <td class="td_t_b td_t_t" style="padding:0; width:30px;">
				                            <s:link propagation="none"  view="/user/storageChangeFormList.xhtml"  styleClass="no_n" >
				                            	<f:param name="pageNum" value="#{storageChangeFormList.previousFirstResult}"/>&lt;
				                            </s:link>
			                            </td>
			                        </s:decorate>
							       <a4j:repeat var="_page" value="#{storageChangeFormList.pageList}" rowKeyVar="_index">
										<td class="td_t_b #{storageChangeFormList.previousExists or _index >0 ?'td_t_t':''} #{_page eq storageChangeFormList.pageNum?'onp':''}">
											<s:link propagation="none"  view="/user/storageChangeFormList.xhtml" value="#{_page}" id="previousPage">
												<f:param name="pageNum" value="#{_page}" />
											</s:link>
										</td>
									</a4j:repeat>
									<s:decorate rendered="#{storageChangeFormList.nextExists}">
		                            <td class="td_t_b td_t_t">
			                            <s:link propagation="none"  view="/user/storageChangeFormList.xhtml"   styleClass="no_d" >
			                            	<f:param name="pageNum" value="#{storageChangeFormList.nextFirstResult}" />&gt;
			                            </s:link>
		                            </td>
		                            <td class="td_t_b td_t_t">
										 <s:link propagation="none"  view="/user/storageChangeFormList.xhtml" >尾页
										 	<f:param name="pageNum" value="#{storageChangeFormList.PAGE_COUNT}" />
										 </s:link>
									</td>
									</s:decorate>
									<td class="td_t_b td_t_t" style=" color:#9a9a9c;">共#{storageChangeFormList.PAGE_COUNT}页</td>
		                            <td ><img src="#{request.contextPath}/asset/images/page_70.jpg" width="4" height="30" /></td>
		                    	</tr>
		                    </table>
		                    <!--翻页结束-->
                                </div>
                                <!--叶类结束-->    
                        <div class="clear"></div>
                        </div>
                    	<div class="clear"></div>
                    </div>

					<!--商品分类结束-->
                    <div class="clear"></div>
                </div><!--right_c结束-->
                <script type="text/javascript">
op = function(ind){
	if(ind.getAttribute("aa")=="1"){
		jquery(".gjs").show("fast");
		jquery(".gjss_a").attr("aa",2);
	}else{
		jquery(".gjs").hide("fast");
		jquery(".gjss_a").attr("aa",1);
	}
}
                
se = function(obj){
	jquery(".sel").each(function(){
		jquery(this).removeClass("current");
	});
	jquery("#sel"+obj).addClass("current");

	jquery(".box2 > div").each(function(index,domEle){
		if(index==obj){
			jquery(domEle).css("display","block");
		}else{
			jquery(domEle).css("display","none");
		}
	});
}
</script>
            </td>
</ui:define>
	</ui:composition>

