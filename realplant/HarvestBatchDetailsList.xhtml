<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	template="/layout/template_new.xhtml">
	<ui:define name="body">
       <td valign="top" >
		<div class="right_c">
                	<div class="r_title">
                    	<div class="r_t_l">生产
                    	
                    	&#160;&gt;&#160;&#160;<font size="3">采收管理</font></div>
                    </div>
					<br/>
                    <div class="sp_d_iv">
                    				<span class="spn_01">区域：#{realPlantHome.instance.tunnelInfoId.tunnelName}</span>
									<span class="spn_01">作物：#{realPlantHome.instance.breedBreedId.plant.name}</span>
								    <span class="spn_01">品种：#{realPlantHome.instance.breedBreedId.name}</span>
								</div>
                     <!--添加按钮开始-->
                    <div class="tjan_01">
                   	    <s:link styleClass="btn btn-success" value="添加" view="/realplant/HarvestBatchDetailsEdit.xhtml" propagation="none">
                    	<f:param name="harvestBatchDetailsId" />
                    	<f:param name="harvestId" />
                    	<f:param name="plantInfoPlantInfoId" value="#{realPlantHome.instance.realPlantId}"/>
                    	<f:param name="baseId" value="#{harvestBatchDetailsList.baseId}"/>
                    	<f:param name="pageNum" value="#{harvestBatchDetailsList.pageNum}"/>
                        <f:param name="pageNumh" value="#{harvestBatchDetailsList.pageNumh}"/>
                    	</s:link>
                    	
                    </div>
                    <!--添加按钮结束-->
                    <table width="100%" class="ze_table" cellpadding="0" cellspacing="0">
                    	<tr>
                    		<td width="5" height="4"><img src="#{request.contextPath}/asset/images/table_d_40.jpg" width="5" height="4" /></td>
                    		<td colspan="6" style="border-top:1px solid #e1e1e1; background:#f0f5fb;"></td>
                            <td width="5" height="4"><img src="#{request.contextPath}/asset/images/table_d_43.jpg" width="5" height="4" /></td>
                    	</tr>
                    	<tr>
                    		<th class="ze_bg ze_bt_le" width="5" height="4"></th>
                    		<th class="ze_bg" width="20%">编号</th>
                    		<th class="ze_bg" width="15%">采收重量</th>
                    		<th class="ze_bg" width="15%">单位</th>
                    		<th class="ze_bg" width="15%">采收人</th>
                    		<th class="ze_bg" width="20%">采收时间</th>
                    		<th class="ze_bg" width="15%">操作</th>
                            
                            <th class="ze_bg ze_bt_ri" width="5" height="4"></th>
                    	</tr>
						<ui:repeat value="#{harvestBatchDetailsList.resultList}" var="_hbd" rendered="#{not empty harvestBatchDetailsList.resultList}" rowKeyVar="_index">
                    	<tr>
                    		<td class="ze_bg2 ze_bt_le" width="5" height="4"></td>
                            <td class="ze_bg2"><h:outputText  value="#{_hbd.code}" /></td>
						    <td class="ze_bg2"><h:outputText  value="#{_hbd.weight}" /></td>
						    <td class="ze_bg2"><h:outputText  value="KG" /></td>
                            <td class="ze_bg2"><h:outputText  value="#{_hbd.productRecordTimesId.harvestId.operator}" /></td>
                    		<td class="ze_bg2">
                    		<h:outputText value="#{_hbd.productRecordTimesId.harvestId.operatorTime}">
								<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd" />
						    </h:outputText></td>
                    		<td class="ze_bg2">
                            	<s:link propagation="none"  view="/#{empty from ? 'realplant/HarvestBatchDetails' : from}.xhtml" styleClass="list_view"  id="plantInfoViewId" title="查看">
								<f:param name="harvestBatchDetailsId" value="#{_hbd.id}" />
								<f:param name="plantInfoPlantInfoId" value="#{realPlantHome.instance.realPlantId}"/>
								<f:param name="harvestId" value="#{_hbd.productRecordTimesId.harvestId.id}"/>
								<f:param name="baseId" value="#{harvestBatchDetailsList.baseId}"/>
								<f:param name="pageNum" value="#{harvestBatchDetailsList.pageNum}"/>
								<f:param name="pageNumh" value="#{harvestBatchDetailsList.pageNumh}"/>
								</s:link>&#160;
                                <s:link propagation="none"  view="/realplant/HarvestBatchDetailsEdit.xhtml"     styleClass="list_edit" id="plantInfoEdit" rendered="#{empty from}" title="编辑">
                                <f:param name="harvestBatchDetailsId" value="#{_hbd.id}" />
                                <f:param name="harvestId" value="#{_hbd.productRecordTimesId.harvestId.id}" />
                                <f:param name="baseId" value="#{harvestBatchDetailsList.baseId}"/>
                                <f:param name="pageNum" value="#{harvestBatchDetailsList.pageNum}"/>
                                <f:param name="pageNumh" value="#{harvestBatchDetailsList.pageNumh}"/>
								</s:link>&#160;
								<s:link propagation="none"  view="/realplant/HarvestBatchDetailsEdit.xhtml"   title="删除"  styleClass="list_delete" action="#{harvestBatchDetailsHome.remove}" onclick="return confirm('确定删除吗？');" id="plantInfoDelete" rendered="#{empty from}">
                                <f:param name="harvestBatchDetailsId" value="#{_hbd.id}" />
                                <f:param name="baseId" value="#{harvestBatchDetailsList.baseId}"/>
                                <f:param name="pageNum" value="#{harvestBatchDetailsList.pageNum}"/>
                                <f:param name="pageNumh" value="#{harvestBatchDetailsList.pageNumh}"/>
                                </s:link>
                            </td>
                            <td class="ze_bg2 ze_bt_ri" width="5" height="4"></td>
                    	</tr>
                    	</ui:repeat>
                    </table>
                    <!--翻页开始-->
                    <table style="height:30px; margin:40px auto 0 auto;" cellpadding="0" cellspacing="0">
                    	<tr>
                    	<s:div rendered="#{not empty harvestBatchDetailsList.resultList}"> 
			                <s:decorate rendered="#{!harvestBatchDetailsList.previousExists }">
			                <td><img src="#{request.contextPath}/asset/images/page_68.jpg" width="4" height="30" /></td>
			                </s:decorate>
			                 <s:decorate rendered="#{harvestBatchDetailsList.previousExists }">
			                <td><img src="#{request.contextPath}/asset/images/page_67.jpg" width="4" height="30" /></td>
			                </s:decorate>
			                <s:decorate rendered="#{harvestBatchDetailsList.previousExists }">
	                            <td class="td_t_b">
		                            <s:link propagation="none"  view="/realplant/HarvestBatchDetailsList.xhtml" >首页
		                            	<f:param name="pageNum" value="0" />
		                            </s:link>
	                            </td>
	                            <td class="td_t_b td_t_t" style="padding:0; width:30px;">
		                            <s:link propagation="none"  view="/realplant/HarvestBatchDetailsList.xhtml"  styleClass="no_n" >
		                            	<f:param name="pageNum" value="#{harvestBatchDetailsList.previousFirstResult}"/>&lt;
		                            </s:link>
	                            </td>
	                        </s:decorate>
					        <a4j:repeat var="_page" value="#{harvestBatchDetailsList.pageList}" rowKeyVar="_index">
								<td class="td_t_b #{harvestBatchDetailsList.previousExists or _index >0 ?'td_t_t':''} #{_page eq harvestBatchDetailsList.pageNum?'onp':''}">
									<s:link propagation="none"  view="/realplant/HarvestBatchDetailsList.xhtml" value="#{_page}" id="previousPage">
										<f:param name="pageNum" value="#{_page}" />
									</s:link>
								</td>
							</a4j:repeat>
							<s:decorate rendered="#{harvestBatchDetailsList.nextExists}">
                            <td class="td_t_b td_t_t">
	                            <s:link propagation="none"  view="/realplant/HarvestBatchDetailsList.xhtml"   styleClass="no_d" >
	                            	<f:param name="pageNum" value="#{harvestBatchDetailsList.nextFirstResult}" />&gt;
	                            </s:link>
                            </td>
                            <td class="td_t_b td_t_t">
								 <s:link propagation="none"  view="/realplant/HarvestBatchDetailsList.xhtml" >尾页
								 	<f:param name="pageNum" value="#{harvestBatchDetailsList.PAGE_COUNT}" />
								 </s:link>
							</td>
							</s:decorate>
							<td class="td_t_b td_t_t" style=" color:#9a9a9c;">共#{harvestBatchDetailsList.PAGE_COUNT}页</td>
                            <td ><img src="#{request.contextPath}/asset/images/page_70.jpg" width="4" height="30" /></td>
                            <td>
		    			       <s:link view="/archive/PlantInfoList.xhtml" styleClass="btn btn-default" value="返回" id="bn_left6" style="margin-left:10px" >
		    			       <f:param name="baseId" value="#{harvestBatchDetailsList.baseId}"></f:param>
		    			       <f:param name="pageNum" value="#{harvestBatchDetailsList.pageNumh}"></f:param>
		    			       </s:link>
                            </td>
                    	</s:div>
                    	</tr>
                    </table>
                    <!--翻页结束-->
                    <div class="clear"></div>
                </div><!--right_c结束-->
		
</td>
<style>
.tjan_01 {
    margin-top: -45px;
}

</style>
	</ui:define>

</ui:composition>
