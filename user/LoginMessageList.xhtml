<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	template="/layout/template_new.xhtml">

	<ui:define name="body">
	<td valign="top" width="210" style=" border-right:1px solid #e1e4eb;">
	
                <div class="left_c2">
                	<ul class="lt_c_ul">
                    	<li>
                        	<a href="#{request.contextPath}/user/EnterpriseInfoList.seam"><img class="tbimg" src="#{request.contextPath}/asset/images/enterpriseInfo_10.png"/>&#160;企业管理</a>
                        </li>
                    	<li><a href="#{request.contextPath}/user/UserList.seam"  ><img class="tbimg" src="#{request.contextPath}/asset/images/user_17.png"/>&#160;用户管理</a></li>
                    	<li><a href="#{request.contextPath}/user/EnterpriseGroupList.seam"><img class="tbimg" src="#{request.contextPath}/asset/images/en.png"/>&#160;企业组管理</a></li>
                    	<li><a href="#{request.contextPath}/user/CommunityList.seam"><img class="tbimg" src="#{request.contextPath}/asset/images/community_23.png"/>&#160;角色管理</a></li>
                    	<li>
                        	<a href="#{request.contextPath}/user/RoleList.seam"><img class="tbimg" src="#{request.contextPath}/asset/images/role.png"/>&#160;权限管理</a>
                        </li>
                        <li>
                        	<a href="#{request.contextPath}/user/AdministratorList.seam" ><img class="tbimg" src="#{request.contextPath}/asset/images/userqie.png"/>&#160;用户切换管理</a>
                        </li>
                        <li>
                        	<a href="#{request.contextPath}/user/DataDicList.seam"><img class="tbimg" src="#{request.contextPath}/asset/images/dataDic.png"/>&#160;字典管理</a>
                        </li>
                         <li>
                        	<a href="#{request.contextPath}/user/DeviceTypeList.seam"><img class="tbimg" src="#{request.contextPath}/asset/images/shebei.png"/>&#160;设备类型</a>
                        </li>
                        <li>
                        	<a href="#{request.contextPath}/user/SkinInfoList.seam" ><img class="tbimg" src="#{request.contextPath}/asset/images/pifu.png"/>&#160;皮肤管理</a>
                        </li>
                        <li>
                        	<a href="#{request.contextPath}/user/LoginMessageList.seam" class="fon_07" ><strong><img class="tbimg" src="#{request.contextPath}/asset/images/denglu.png"/>&#160;登录统计</strong></a>
                        </li>
                        <li>
                        	<a href="#{request.contextPath}/user/BugInfoList.seam"><img class="tbimg" src="#{request.contextPath}/asset/images/shouji.png"/>&#160;手机日志管理</a>
                        </li>
                        <li>
                        	<a href="#{request.contextPath}/system/RecycleInfoList_1.seam"><img class="tbimg" src="#{request.contextPath}/asset/images/huishouzhantupian.png"/>&#160;回收站</a>
                        </li>
                    </ul>
                    
                	<div class="clear"></div>
                </div>
            </td>
       <td valign="top" >
		<div class="right_c">
		<!-- #{loginMessageList.work()} -->
                	<div class="r_title">
                    	<div class="r_t_l"><font size="4">登录统计</font></div>
                    </div>
					<br/>
                    <div class="z_r_ser">
                    <h:form id="storageTypeSearch">
                    	<table cellpadding="0" cellspacing="0">
                           <tr>
                                <td>
                                <div class="public-search">   
                                	<span class="octicon-search02"></span>
                                	<h:inputText id="name" styleClass="form-control nw300 srarchfont" value="#{loginMessageList.searchParam}"/>
                                </div>
                                	<h:commandButton id="search" styleClass="btn btn-primary" value="搜索" action="/user/LoginMessageList.xhtml">                                	
	                                </h:commandButton>
                                </td>
                           </tr>
                       </table> 
                    </h:form>                         
                    </div>
                    <h:form id="storageType">
                    <h:panelGroup id="lmInfo">
                    <table width="100%" class="ze_table" cellpadding="0" cellspacing="0">
                    	<tr>
                    		<td width="5" height="4"><img src="#{request.contextPath}/asset/images/table_d_40.jpg" width="5" height="4" /></td>
                    		<td colspan="6" style="border-top:1px solid #e1e1e1; background:#f0f5fb;"></td>
                            <td width="5" height="4"><img src="#{request.contextPath}/asset/images/table_d_43.jpg" width="5" height="4" /></td>
                    	</tr>
                    	<tr>
                    		<th class="ze_bg ze_bt_le" width="5" height="4"></th>
                            
                    		<th class="ze_bg" width="10%">
                    			 <s:link  style="color:#6c6a6b;" value="用户名" view="/user/LoginMessageList.xhtml">
                    			 	<f:param name="objParam1" value=""/>
							        <f:param name="orderParam" value="1"/>
							        <f:param name="descOrAsc" value="#{loginMessageList.descOrAsc eq 'desc'?'asc':'desc'}"/>
							    </s:link>
							    <h:outputText value="↑" id="nameVal1"/>
                    		</th>
                    		<th class="ze_bg" width="20%">
                    		<s:link  style="color:#6c6a6b;" value="所属企业" view="/user/LoginMessageList.xhtml">
                    				<f:param name="objParam2" value=""/>
							        <f:param name="orderParam" value="2"/>
							        <f:param name="descOrAsc" value="#{loginMessageList.descOrAsc eq 'desc'?'asc':'desc'}"/>
							    </s:link>
							    <h:outputText value="↑" id="nameVal2"/>
                    		</th>
                    		<th class="ze_bg" width="10%">
                    		<s:link  style="color:#6c6a6b;" value="总登录次数" view="/user/LoginMessageList.xhtml">
                    		<f:param name="objParam3" value=""/>
							        <f:param name="orderParam" value="3"/>
							        <f:param name="descOrAsc" value="#{loginMessageList.descOrAsc eq 'desc'?'asc':'desc'}"/>
							    </s:link>
							    <h:outputText value="↑" id="nameVal3"/>
                    		</th>
                    		<th class="ze_bg" width="20%">
                    		<s:link  style="color:#6c6a6b;" value="最近一月登录次数" view="/user/LoginMessageList.xhtml">
                    		<f:param name="objParam4" value=""/>
							        <f:param name="orderParam" value="4"/>
							        <f:param name="descOrAsc" value="#{loginMessageList.descOrAsc eq 'desc'?'asc':'desc'}"/>
							    </s:link>
							    <h:outputText value="↑" id="nameVal4"/>
                    		</th>
                            <th class="ze_bg" width="20%">
                            <s:link  style="color:#6c6a6b;" value="最近一周登录次数" view="/user/LoginMessageList.xhtml">
                            <f:param name="objParam5" value=""/>
							        <f:param name="orderParam" value="5"/>
							        <f:param name="descOrAsc" value="#{loginMessageList.descOrAsc eq 'desc'?'asc':'desc'}"/>
							    </s:link>
							    <h:outputText value="↑" id="nameVal5"/>
                            </th>
                            <th class="ze_bg" width="20%">
                            <s:link  style="color:#6c6a6b;" value="最后一次登录时间" view="/user/LoginMessageList.xhtml">
                            <f:param name="objParam6" value=""/>
							        <f:param name="orderParam" value="6"/>
							        <f:param name="descOrAsc" value="#{loginMessageList.descOrAsc eq 'desc'?'asc':'desc'}"/>
							    </s:link>
							    <h:outputText value="↑" id="nameVal6"/>
                            </th>
                            <th class="ze_bg ze_bt_ri" width="5" height="4"></th>
                    	</tr>
						<ui:repeat value="#{loginMessageList.lmList}" var="_loginMessage" rendered="#{not empty loginMessageList.lmList}" rowKeyVar="_index">
                    	<tr>
                    		<td class="ze_bg2 ze_bt_le" width="5" height="4"></td>
                            
                    		<td class="ze_bg2" width="10%"><h:outputText value="#{_loginMessage[1]}"/></td>
                    		<td class="ze_bg2" width="20%"><h:outputText value="#{stringUtil.shortString(_loginMessage[2],15)}" /></td>
                    		<td class="ze_bg2" width="10%"><h:outputText value="#{_loginMessage[3] eq null?'0':_loginMessage[3]}"/></td>
                    		<td class="ze_bg2" width="20%"><h:outputText value="#{_loginMessage[4] eq null?'0':_loginMessage[4]}"/></td>
                    		<td class="ze_bg2" width="20%"><h:outputText value="#{_loginMessage[5] eq null?'0':_loginMessage[5]}"/></td>
                    		<td class="ze_bg2" width="20%"><h:outputText value="#{_loginMessage[6]}">
                    			<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd HH:mm" />
                    		</h:outputText></td>
                            
                            <td class="ze_bg2 ze_bt_ri" width="5" height="4"></td>
                    	</tr>
                    	</ui:repeat>
                    </table>
                    </h:panelGroup>
                     <h:panelGroup id="lmInfo2">
                    <!--翻页开始-->
                    <table style="height:30px; margin:40px auto 0 auto;" cellpadding="0" cellspacing="0">
                    	<tr>
                    	<s:div rendered="#{not empty loginMessageList.lmList}">
			               <s:decorate rendered="#{!loginMessageList.previousExists }">
			                <td><img src="#{request.contextPath}/asset/images/page_68.jpg" width="4" height="30" /></td>
			                </s:decorate>
			                 <s:decorate rendered="#{loginMessageList.previousExists }">
			                <td><img src="#{request.contextPath}/asset/images/page_67.jpg" width="4" height="30" /></td>
			                </s:decorate>
			                <s:decorate rendered="#{loginMessageList.previousExists }">
	                            <td class="td_t_b">
		                            <s:link propagation="none"  view="/user/LoginMessageList.xhtml" >首页
		                            	<f:param name="pageNum" value="0" />
		                            </s:link>
	                            </td>
	                            <td class="td_t_b td_t_t" style="padding:0; width:30px;">
		                            <s:link propagation="none"  view="/user/LoginMessageList.xhtml"  styleClass="no_n" >
		                            	<f:param name="pageNum" value="#{loginMessageList.previousFirstResult}"/>&lt;
		                            </s:link>
	                            </td>
	                        </s:decorate>
					        <a:repeat var="_page" value="#{loginMessageList.pageList}" rowKeyVar="_index">
								<td class="td_t_b #{loginMessageList.previousExists or _index >0 ?'td_t_t':''} #{_page eq loginMessageList.pageNum?'onp':''}">
									<s:link propagation="none"  view="/user/LoginMessageList.xhtml" value="#{_page}" id="previousPage">
										<f:param name="pageNum" value="#{_page}" />
									</s:link>
								</td>
							</a:repeat>
							<s:decorate rendered="#{loginMessageList.nextExists}">
                            <td class="td_t_b td_t_t">
	                            <s:link propagation="none"  view="/user/LoginMessageList.xhtml"   styleClass="no_d" >
	                            	<f:param name="pageNum" value="#{loginMessageList.nextFirstResult}" />&gt;
	                            </s:link>
                            </td>
                            <td class="td_t_b td_t_t">
								 <s:link propagation="none"  view="/user/LoginMessageList.xhtml" >尾页
								 	<f:param name="pageNum" value="#{loginMessageList.PAGE_COUNT}" />
								 </s:link>
							</td>
							</s:decorate>
							<td class="td_t_b td_t_t" style=" color:#9a9a9c;">共#{loginMessageList.PAGE_COUNT}页</td>
                            <td ><img src="#{request.contextPath}/asset/images/page_70.jpg" width="4" height="30" /></td>
                            </s:div>
                    	</tr>
                    </table>
                    <!--翻页结束-->
                    </h:panelGroup>
                     </h:form>
                    <div class="clear"></div>
                </div><!--right_c结束-->
                <script type="text/javascript">
					//<![CDATA[
						  jQuery(document).ready(function(){
							 var rpId = "#{loginMessageList.orderParam}";
							 var stu = "#{loginMessageList.descOrAsc}";
							 if(rpId != null && rpId != 0){
								 for(var i=1;i<7;i++){
									 if(i == rpId){
										 var str = jquery("#storageType\\:nameVal"+rpId).html()+"";
										 if(stu == "asc"){
											 jquery("#storageType\\:nameVal"+i).html("↓");

											 }else{
												 jquery("#storageType\\:nameVal"+i).html("↑");
												 }
										 }else{
											 jquery("#storageType\\:nameVal"+i).html("↑");
											 }
									 }
							 }
							});
					//]]>
			    </script>
		
</td>
	</ui:define>

</ui:composition>
