<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
    template="/layout/template_new.xhtml">
	<ui:define name="body">
	   <style>
	   .all_da table,.all_te table{table-layout: inherit;}
.ts_div2{width:240px; height: 125px; border: 1px solid #81C5E9; margin: 0px auto; padding: 0 15px 15px;  background: url(#{request.contextPath}/asset/images/tck_bg_14.jpg) #ffffff repeat-x scroll center top;}
.dr-mpnl-shadow{background:none;}
.dr-mpnl-pnl{background:none; border:none;}
.dr-mpnl-pnl-b{padding:0;}
.dr-mpnl-shadow{top:0; left:0;}
.all_d3 {
    margin-left: auto;
    margin-right: auto;
    margin-top: 50px;
    width: 862px;
}

</style>

		<td valign="top">
                <div class="right_c">
                	<div class="r_title">
                		<s:fragment rendered="#{purchaseMemberInfoTowHome.pageType eq '2'}">
							<div class="r_t_l cm_r_t_l"><span>采销存&#160;&gt;&#160;&#160;</span><a href="#{request.contextPath}/contract/PurchaseMemberInfoListOne.seam"><font size="3">客户管理</font></a></div>
						</s:fragment>
						<s:fragment rendered="#{purchaseMemberInfoTowHome.pageType ne '2'}">
                    	 	<div class="r_t_l cm_r_t_l">计划&#160;&gt;&#160;&#160;<span><a href="#{request.contextPath}/contract/PurchaseContractList.seam">外采</a></span><em>&gt;</em><a href="#{request.contextPath}/contract/PurchaseMemberInfoListOne.seam"><font size="3">供应商管理</font></a></div>
						</s:fragment>
                    </div>
                    <button id="divmyModal" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal" style="display: none;"/>
				    	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
							<div class="modal-dialog">
								<div class="modal-content">
							    	<div class="modal-header">
							        	<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
							        		<h4 class="modal-title" id="myModalLabel">提示信息</h4>
							      		</div>
							      	<div class="modal-body" id="productMsg"></div>
							      	<div class="modal-footer">
							        	<button type="button" class="btn btn-primary" data-dismiss="modal">关闭</button>
							      	</div>
						    	</div>
						  	</div>
						</div>
                    <h:form id="memberInfo" enctype="multipart/form-data">
                	<div class="all_d3">
                	<s:div styleClass="all_da all_w01" rendered="#{sessionTake.levelId lt dataDicConstant.getUserLevelBase()}">
                        	<table>
                                <tr>
                                    <td class="all_te">基地名称：</td>
                                    <td>
                                    	 <h:selectOneMenu id="basicId"  styleClass="selectpicker nw200" value="#{purchaseMemberInfoTowHome.baseId}">
												<s:selectItems value="#{sessionTake.baseModel.baseList}" var="var" label="#{var.name}" itemValue="#{var.id}"/>
										</h:selectOneMenu>
                                    </td>
                                </tr>
                            </table>
                        </s:div>
                        <s:div styleClass="all_da all_w01" rendered="#{sessionTake.levelId ge dataDicConstant.getUserLevelBase()}">
                        	<table>
                                <tr>
                                    <td class="all_te">基地名称：</td>
                                    <td>
                                       <h:outputText value="#{purchaseMemberInfoTowHome.baseName}" id="bName"/>
                                    </td>
                                </tr>
                            </table>
                        </s:div>
                		<div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">供应企业：</td>
                                    <td>
						                <h:inputText styleClass="form-control nw221" value="#{purchaseMemberInfoTowHome.instance.realname}" id="realname"/>
                                    </td>
                                </tr>
                            </table>
                        </div>
                         <div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">邮编：</td>
                                    <td>
						                <h:inputText styleClass="form-control nw221" value="#{purchaseMemberInfoTowHome.instance.homePort}" id="homePort"/>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">联系人：</td>
                                    <td>
						                 <h:inputText styleClass="form-control nw221" value="#{purchaseMemberInfoTowHome.instance.nickName}" id="nickName"/>
                                    </td>
                                </tr>
                            </table>
                        </div>
                         <div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">联系人电话：</td>
                                    <td>
						                <h:inputText styleClass="form-control nw221" value="#{purchaseMemberInfoTowHome.instance.phone}" id="phone"/>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">性&#160;&#160;&#160;&#160;&#160;&#160;别：</td>
                                    <td style="width: 243px;">
			                   			 <h:selectOneMenu  styleClass="selectpicker" id = "sex" value="#{purchaseMemberInfoTowHome.instance.sex}">
											<f:selectItem itemLabel="男" itemValue="1" />
			                   				<f:selectItem itemLabel="女" itemValue="2" />
			                   				<f:selectItem itemLabel="其它" itemValue="3" />
										</h:selectOneMenu>
                                    </td>
                                </tr>
                            </table>
                        </div>
                         <div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">Email：</td>
                                    <td>
						                <h:inputText styleClass="form-control nw221" value="#{purchaseMemberInfoTowHome.instance.email}" id="email"/>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="all_da" style="width:80%;">
                             <table>
                                <tr>
									<td class="all_te">地址：</td>
									<td>
										<h:inputTextarea id="workAddress"  styleClass="form-control nw420" rows="3" value="#{purchaseMemberInfoTowHome.instance.workAddress}" />
		                            </td>
								</tr>
								<tr>
									<td colspan="2" height="15"></td>
								</tr>
                            </table>
                        </div>
                         <div class="all_da all_w01" style="width:555px;">
                        	<table>
                                <tr>
									<td class="all_te">备&#160;&#160;&#160;&#160;&#160;&#160;注：</td>
									<td>
										<h:inputTextarea id="remark"  styleClass="form-control nw420" rows="3" value="#{purchaseMemberInfoTowHome.instance.remark}" />
		                            </td>
								</tr>
								<tr>
									<td colspan="2" height="5"></td>
								</tr>
                            </table>
                        </div>
                        <div></div>
                        <div class="clear"></div>
                   </div>
                   <table width="180" style="margin:5px auto 0 auto;">
						<tr>
							<td>
		            			<h:commandButton id="persist"  styleClass="btn btn-primary" value="保存" action="#{purchaseMemberInfoTowHome.persist}" rendered="#{!purchaseMemberInfoTowHome.managed}"  onclick="return checkSubmit()">
		            				<f:param name="baseId" value="#{purchaseMemberInfoTowHome.baseId}"/>
		            				<f:param name="pageNum" value="#{purchaseMemberInfoTowHome.pageNum}"/>
		            			</h:commandButton>
		            			<h:commandButton id="update" styleClass="btn btn-primary" value="保存"  action="#{purchaseMemberInfoTowHome.update}" rendered="#{purchaseMemberInfoTowHome.managed}"   onclick="return checkSubmit()">
		            				<f:param name="baseId" value="#{purchaseMemberInfoTowHome.baseId}"/>
		            				<f:param name="pageNum" value="#{purchaseMemberInfoTowHome.pageNum}"/>
		            			</h:commandButton>
		            			<s:fragment rendered="#{purchaseMemberInfoTowHome.pageType ne '2'}">
			    					<s:button view="/contract/PurchaseMemberInfoListOne.seam" styleClass="btn btn-default" id="bn_left6" style="margin-left:10px" rendered="#{purchaseMemberInfoTowHome.memberInfoType eq 1}" value="返回">
			    						<f:param name="baseId" value="#{purchaseMemberInfoTowHome.baseId}"/>
			    						<f:param name="pageNum" value="#{purchaseMemberInfoTowHome.pageNum}"/>
			    					</s:button>
			            			<s:button view="/contract/PurchaseMemberInfoList.seam" styleClass="btn btn-default" id="bn_left7" style="margin-left:10px" rendered="#{purchaseMemberInfoTowHome.memberInfoType ne 1}" value="返回">
			            				<f:param name="baseId" value="#{purchaseMemberInfoTowHome.baseId}"/>
			            				<f:param name="pageNum" value="#{purchaseMemberInfoTowHome.pageNum}"/>
			            				<f:param name="pageNumh" value="#{purchaseMemberInfoTowHome.pageNumh}"/>
			            			</s:button>
		            			</s:fragment>
		            			<s:fragment rendered="#{purchaseMemberInfoTowHome.pageType eq '2'}">
			    					<s:button view="/contract/PurchaseMemberList.seam" styleClass="btn btn-default" style="margin-left:10px" value="返回">
			    						<f:param name="baseId" value="#{purchaseMemberInfoTowHome.baseId}"/>
			    						<f:param name="pageNum" value="#{purchaseMemberInfoTowHome.pageNum}"/>
			    					</s:button>
		            			</s:fragment>
                            </td>
						</tr>
                   </table> 
                    <!--按钮结束-->
                    <div class="clear"></div>
                    </h:form>
                </div><!--right_c结束-->
               
				<!--入库订单列表结束-->
            </td>    
    <!--右边结束-->
 <!--添加按钮结束-->
<script type="text/javascript">
//<![CDATA[
	window.onload = function () {
	    jquery('.selectpicker').selectpicker();
	  };
  //]]>
	</script>
<!--鼠标移上去换色js开始-->
<script type="text/javascript">
//<![CDATA[
	function checkSubmit(){
	   //msg
	   var realname = document.getElementById("memberInfo:realname").value;
	   var phone = document.getElementById("memberInfo:phone").value;
	   var post = document.getElementById("memberInfo:homePort").value;
	   var nickName = document.getElementById("memberInfo:nickName").value;
	   var email = document.getElementById("memberInfo:email").value;
	   var workAddress = document.getElementById("memberInfo:workAddress").value;
	   var remark = document.getElementById("memberInfo:remark").value;
	   //var regPhone = /^(?:13\d|15\d|18\d|17\d)-?\d{5}(\d{3}|\*{3})$/;
	   var regPhone = /^\d{1,20}$/;
	   if(realname == ""){
		   document.getElementById("productMsg").innerHTML = "供应商名不能为空";
		   jQuery("#divmyModal").click();
		   return false;
		}
	   if(phone == ""){
		   document.getElementById("productMsg").innerHTML = "请输入手机号";
		   jQuery("#divmyModal").click();
		   return false;
		}
	   if(phone != "" && !regPhone.test(phone)){
		   document.getElementById("productMsg").innerHTML = "请输入正确的手机号";
		   jQuery("#divmyModal").click();
		   return false;
		}
	   if(post.length!=6 && post!=''){
			document.getElementById("productMsg").innerHTML = "请输入正确的邮编";
			jQuery("#divmyModal").click();
			return false;
		}
		if(nickName.length>45){
			document.getElementById("productMsg").innerHTML = "输入联系人过长";
			jQuery("#divmyModal").click();
			return false;
		}
		if(email.length>45){
			document.getElementById("productMsg").innerHTML = "输入Email地址过长";
			jQuery("#divmyModal").click();
			return false;
		}
		if(workAddress.length>100){
			document.getElementById("productMsg").innerHTML = "输入地址过长";
			jQuery("#divmyModal").click();
			return false;
		}
		if(remark.length>200){
			document.getElementById("productMsg").innerHTML = "输入备注过长";
			jQuery("#divmyModal").click();
			return false;
		}
		 return true;
	}

	//]]>
</script>

<style>
	.VMsgDiv{
		line-height: 85%;
		width: 100%;
		text-align: center;
		padding-top: 3px;
		color: red;
	}
	</style>
</ui:define>
</ui:composition>
