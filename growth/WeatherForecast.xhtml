<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	template="/layout/template_weather.xhtml">

	<ui:define name="body">
<!-- 		<script type="text/javascript" src="http://cdn.hcharts.cn/highcharts/highcharts.js"></script> -->
<!-- 		<script type="text/javascript" src="http://cdn.hcharts.cn/highcharts/exporting.js"></script> -->
<!-- 		<script type="text/javascript" src="http://cdn.hcharts.cn/highcharts/highcharts-more.js"></script> -->
<!-- 		<script type="text/javascript" src="http://cdn.hcharts.cn/highcharts/data.js"></script> -->
		<script type="text/javascript"
			src="#{request.contextPath}/asset/js/highcharts4/highcharts.js"></script>
		<script type="text/javascript"
			src="#{request.contextPath}/asset/js/highcharts4/highcharts-more.js"></script>
		<script type="text/javascript" 
			src="#{request.contextPath}/asset/js/highcharts4/data.js"></script>
					
		<script type="text/javascript" 
			src="#{request.contextPath}/asset/model/js/bootstrap.min.js"></script>
		<script type="text/javascript" 
			src="#{request.contextPath}/asset/new/bootstrap-select.min.js"></script>
 			
		
		<link type="text/css" rel="stylesheet" href="#{request.contextPath}/asset/css/weather/base.css"/>
		<link type="text/css" rel="stylesheet" href="#{request.contextPath}/asset/css/weather/bootstrap3.min.css" />
		<link type="text/css" rel="stylesheet" href="#{request.contextPath}/asset/css/weather/bootstrap-select.min.css" />	
		<link type="text/css" rel="stylesheet" href="#{request.contextPath}/asset/css/weather/tianqiyb.css" />

<script>
// <![CDATA[

jquery = jQuery.noConflict();
jquery(document).ready(function(){
	if(860 < jquery('.his_temperatureBd').width() && jquery('.his_temperatureBd').width() < 1000)
	 {
		
		 jquery('.his_temperatureBd').find('.test00').css("margin-left",jquery('.his_temperatureBd').width()*0.0395);
	     jquery('.his_temperatureBd').find('.test00').css("margin-right",jquery('.his_temperatureBd').width()*0.0);
	 
	}else if(1001 < jquery('.his_temperatureBd').width() && jquery('.his_temperatureBd').width() < 1280)
 {
	
	 jquery('.his_temperatureBd').find('.test00').css("margin-left",jquery('.his_temperatureBd').width()*0.0325);
     jquery('.his_temperatureBd').find('.test00').css("margin-right",jquery('.his_temperatureBd').width()*0.0);
 
}else if( 1281 <jquery('.his_temperatureBd').width() && jquery('.his_temperatureBd').width()< 1440)
 {

	jquery('.his_temperatureBd').find('.test00').css("margin-left",jquery('.his_temperatureBd').width()*0.0256);
jquery('.his_temperatureBd').find('.test00').css("margin-right",jquery('.his_temperatureBd').width()*0.0);
	
 }
 else if( 1440 <jquery('.his_temperatureBd').width() && jquery('.his_temperatureBd').width()< 1600)
 {

	jquery('.his_temperatureBd').find('.test00').css("margin-left",jquery('.his_temperatureBd').width()*0.0219);
jquery('.his_temperatureBd').find('.test00').css("margin-right",jquery('.his_temperatureBd').width()*0.0);
	
 }
 else if( 1600 <jquery('.his_temperatureBd').width() && jquery('.his_temperatureBd').width()< 1800)
 {

jquery('.his_temperatureBd').find('.test00').css("margin-left",jquery('.his_temperatureBd').width()*0.0175);
jquery('.his_temperatureBd').find('.test00').css("margin-right",jquery('.his_temperatureBd').width()*0.0);

 }
else{
	
	jquery('.his_temperatureBd').find('.test00').css("margin-left",jquery('.his_temperatureBd').width()*0.019);
	jquery('.his_temperatureBd').find('.test00').css("margin-right",jquery('.his_temperatureBd').width()*0.0);
	}
});
//]]>
</script>
<script>
//<![CDATA[  
           
jquery = jQuery.noConflict();
jquery(function(){
	var slidebarUl;
	/*计算左右距离*/

	/* 左侧菜单提示框 js */
	jquery('.left_cul > li').mouseover(function(){
		jquery(this).css('background','url(#{request.contextPath}/asset/images/weather/lef_hover2.jpg)');
		slidebarUl = jquery(this).find('ul.sidebarUl') ;
		if(slidebarUl){
			slidebarUl.show();	
			slidebarUl.mouseout(function(){
				jquery(this).hide();	
			});
		}
									
	});
	
	jquery('.left_cul > li').mouseout(function(){
		
		if(slidebarUl){
			slidebarUl.hide();
		}
		if(jquery(this).hasClass('on')){
			jquery(this).css('background','url("#{request.contextPath}/asset/images/weather/lef_hover.jpg")');	
		}else{
			jquery(this).css('background','url("#{request.contextPath}/asset/images/weather/lefbg.jpg") repeat-y');	
		}	
		
	});
	jquery('.sidebarUl li').mouseover(function(){
		jquery(this).addClass('hover');
		jquery(this).siblings().removeClass('hover');
	});
	jquery('.sidebarUl li').mouseout(function(){
		jquery(this).removeClass('hover');
		
	});
	
});
  //]]>
</script>
<script type="text/javascript">
//<![CDATA[ 
jquery = jQuery.noConflict();
  	jquery(function(){
	  jquery('.selectpicker').selectpicker();
	 });
 //]]>
</script>

<style>
.left_c{ background:url(#{request.contextPath}/asset/images/weather/lefbg.jpg) repeat-y;}
body{ background:#1542a7 url(#{request.contextPath}/asset/images/weather/bg_qizBig.jpg) no-repeat left bottom fixed; height:auto;}

/*  .highcharts-legend-item{ fill:white;}  */
/* .content{min-width:1280px;} */
.highcharts-background{ background:#fff; opacity:0; filter:alpha(opacity=0);}
/* .sunrise{margin-bottom:8px;}  */
/* .sunset{margin-bottom:8px;}  */
/* .sunriseTime{margin-left:4px;}  */
。sunriseTime2{display:block;}
。sunsetTime2{display:block;}
.meteorCon_ttl{font-family:'微软雅黑';margin-bottom:0px;}
.bootstrap-select{font-family:'微软雅黑';}
/* .temperature2{background: '';} */
.todayCon_body2 td>p{height: 12px;}
img{vertical-align: none;}
.rt_top{top: 0px;}
.todayCon_body2 p font{font-size:14px;}
.tomorrowCon_table td{font-size:14px;}
.message{ float:left; height:40px; line-height:40px; text-align:right;}
.message img {float:left; margin-right: 7px;vertical-align:baseline;margin-top: 12px;margin-left:45px;}
.message span{ vertical-align:baseline;float:left;  white-space:nowrap; /*width:360px;text-overflow: ellipsis; overflow:hidden;*/ font-size:12px; font-family:'宋体'}

/* .meteorCon_wp{ height:374px; position:relative;} */

</style>


  <td valign="top"  style="min-width:1000px; ">
	
	<!--右边开始-->
         <div class="right_c" style="min-height:30px; color:#fff;">
            <!-- 气象头部 开始 -->
            <div class="r_title">
                <div class="r_titleLt fl clear">
                    <h2 class="fl" style="font-size:20px;">气象 </h2>
                    <span class="qxz_select">
                    	<ui:fragment rendered="#{weatherForecastDay.getAreaList().size > 1}">
	                    	<h:selectOneMenu id="select_area_code"  value="#{weatherForecastDay.areaCode}"  autocomplate="off" onchange="window.location.href='#{request.contextPath}/growth/WeatherForecast.seam?areaCode='+this.value;" styleClass="selectpicker">
<!-- 			           			<f:selectItem itemLabel="地区" itemValue="0" /> -->
								<s:selectItems value="#{weatherForecastDay.getAreaList()}" var="_area" label="#{_area.districtCn} #{_area.nameCn}" itemValue="#{_area.areaId}" />
							</h:selectOneMenu>
	                    </ui:fragment>
<!-- 	                    <ui:fragment rendered="#{weatherForecastDay.getAreaList().size == 1}"> -->
							<ui:repeat value="#{weatherForecastDay.getAreaList()}" var="_area" rendered="#{weatherForecastDay.getAreaList().size ==1 }">
								<div class="btn-group bootstrap-select" >
									<button type="button" class="btn dropdown-toggle selectpicker btn-default" data-toggle="dropdown"  title="#{_area.districtCn} #{_area.nameCn}">
										<span class="filter-option pull-left" style="text-align: center;">
											<h:outputText  value="#{_area.districtCn}" />&#160;
											<h:outputText  value="#{_area.nameCn}" />
										</span>
									</button>
								</div>
							</ui:repeat>
<!-- 						</ui:fragment> -->
                    </span>
                </div>
            </div>
  
       
<!-- 调用后台方法 -->
 <!--
 	 #{weatherForecastDay.createTempJsonResult()};
 	 #{weatherForecastDay.getWindsMonth()};
	 #{weatherForecastDay.getWindDMonth()};
	 #{weatherForecastDay.createRainResult()};

 -->             
 <script type="text/javascript">
 $ = jQuery.noConflict();
 
 /*获取下拉*/   

 var areaCode =  $("#select_area_code").find("option:selected").val();
 </script>
            <!-- 气象头部 结束 -->
            <!-- 气象内容 开始 -->
            <div class="meteorCon_wp">
            <table width="100%" height="100%" cellpadding="0" cellspacing="0">
            	<tr>
                <td valign="top" style="padding-right:46px;">
                <h3 class="meteorCon_ttl" >今天</h3>
                <div class="todayCon">
                	<div class="todayCon_head">
                    	<table cellpadding="0" cellspacing="0">
                        	<tr>
                            	<td width="170" align="center">
                            		
	                            	<ui:fragment rendered="#{weatherForecastDay.weather.dayNight == 'd'}">
	                            		<img src="#{request.contextPath}/asset/images/weather/day/#{weatherForecastDay.weather.meteorologyTypeStr}.png" width="108" height="108" />
	                                </ui:fragment>
	                                <ui:fragment rendered="#{weatherForecastDay.weather.dayNight == 'n'}">
	                            		<img src="#{request.contextPath}/asset/images/weather/night/#{weatherForecastDay.weather.meteorologyTypeStr}.png" width="108" height="108" />
	                                </ui:fragment>
                            		
                            	</td>
                                <td style="padding-right:20px;">
                               		<span class="temperature">
                               			<h:outputText  value="#{weatherForecastDay.weather.airTempSub}" />
                               		</span>
                                </td>
                                <td>
                                
                                	<ui:fragment rendered="#{weatherForecastDay.weather.pm != 0}">
	                            		<em class="air_quality">空气质量 :&#160;
	                                	<span style="font-family:'宋体';color:#{weatherForecastDay.weather.PM25Color}" class="colorPm2">
	                                		<h:outputText  value="#{weatherForecastDay.weather.pm}" />&#160;<h:outputText  value="#{weatherForecastDay.weather.PM25Grade}" />
	                                	</span>
		                                </em>
		                                <br />
	                                </ui:fragment>
	                                
                                	
                                    <strong class="tianqi_situation">
<!--                                     	多云转晴 -->
										<h:outputText  value="#{weatherForecastDay.weather.theWeather}" />
                                    </strong>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="todayCon_body">
                    	<img class="sunrise" src="#{request.contextPath}/asset/images/weather/tianqi_img03.png" width="18" height="13" />
                        <span class="sunriseTime">
<!--                         	07:30 -->
<!--                         	日出 -->
                        	<h:outputText  value="#{weatherForecastDay.weather.daySunrise}" />
                        </span>
                        <img class="sunset" src="#{request.contextPath}/asset/images/weather/tianqi_img04.png" width="18" height="15" />
                        <span class="sunsetTime">
<!--                         	18:30 -->
<!--                         	日落 -->
                        	<h:outputText  value="#{weatherForecastDay.weather.daySunset}" />
                        </span>
                    </div>
                    <div class="todayCon_body2">
                    	<table width="100%" height="100%" cellpadding="0" >
                        	<tr>
                            	<td width="33.3%" style="border-right:1px solid #C0D0E0;">                                    
                                  	<div>
                                    	<table width="100%" cellpadding="0" cellspacing="0" >
                                        	<tr>
                                            	<td width="25%" align="center"><img src="#{request.contextPath}/asset/images/weather/tianqi_img08.png" width="18" height="42" /></td>
                                                <td>
                                                <p><font>最高温度</font>
                                                	<span>
	                                                	<ui:fragment rendered="#{weatherForecastDay.weather.dayHigh != ''}">
	                                                		<h:outputText  value="#{weatherForecastDay.weather.dayHigh}" />°
	                                                	</ui:fragment>
                                                	</span>
                                                </p>
                                                <p><font>最低温度</font>
													<span>
                        								<ui:fragment rendered="#{weatherForecastDay.weather.dayLow != ''}">
	                                                		<h:outputText  value="#{weatherForecastDay.weather.dayLow}" />°
	                                                	</ui:fragment>
                                                	</span>
                                                </p>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </td>
                                <td width="33.3%" style="border-right:1px solid #C0D0E0;">
                                	<div>
                                    	<table width="100%" cellpadding="0" cellspacing="0">
                                        	<tr>
                                            	<td width="25%" align="center"><img src="#{request.contextPath}/asset/images/weather/tianqi_img09.png" width="40" height="47" /></td>
                                                <td>
                                                <p><font>风力风向</font></p>
                                                <p><font>
<!--                                                 		北风二级 -->
														<h:outputText  value="#{weatherForecastDay.weather.winddStr}" />
														<h:outputText  value="#{weatherForecastDay.weather.windsStr}" />
                                                	</font>
                                                </p>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </td>
                                <td width="33.3%">
                                	<div>
                                    	<table width="100%" cellpadding="0" cellspacing="0">
                                        	<tr>
                                            	<td width="25%" align="center"><img src="#{request.contextPath}/asset/images/weather/tianqi_img10.png" width="37" height="38" /></td>
                                                <td>
                                                <p><font>降水量</font></p>
                                                <p><span>
														<h:outputText  value="#{weatherForecastDay.weather.rainfallSub}" />mm
                                                	</span>
                                                </p>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="todayCon_foot">
                    	<table width="100%" height="100%" cellpadding="0" cellspacing="0">
                        	<tr>
                            	<td width="8%" align="center"><img src="#{request.contextPath}/asset/images/weather/tianqi_img11.png" width="20" height="28" /></td>
                                <td width="10%" align="left" style="font-size:14px;">相对湿度</td>
                                <td>
                                <div class="humidity_pro">
                                    <div class="progress">
                                      <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" 
                                    	  style="width: #{weatherForecastDay.weather.airHumiditySub}%;">
<!--                                       		style="width: <h:outputText  value='#{weatherForecastDay.weather.airHumidity}' />%;"> -->
											<h:outputText  value='#{weatherForecastDay.weather.airHumiditySub}' />%
                                      </div>
                                    </div>
                                </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                </td>
                <td valign="top" width="460">
                <h3 class="meteorCon_ttl">明后天</h3>
                <div class="tomorrowCon">
                	<table width="100%" height="100%" cellpadding="0" cellspacing="0">
                    	<tr>
                        <td style="width:50%;">
<!--                         	明天 -->
                        	<div>
                            	<table class="tomorrowCon_table" width="100%" cellpadding="0" cellspacing="0">
                                    <tbody>
                                    	<tr>
                                        	<td colspan="2" height="56"> 
                                        		<span class="font14">
<!--                  	                       			12月27日 周五 -->
													<h:outputText  value='#{weatherForecastDay.weather.tomorrow}' />
                                        		</span>
                                        	</td>
                                        </tr>
                                    	<tr>
                                        	<td height="30" style="width:50%;">白天</td>
                                            <td>夜间</td>
                                        </tr>
                                        <tr>
                                        	<td height="48"><img src="#{request.contextPath}/asset/images/weather/day/#{weatherForecastDay.weather.day2p}.png" width="38" height="33" /></td>
                                            <td><img src="#{request.contextPath}/asset/images/weather/night/#{weatherForecastDay.weather.day2np}.png" width="25" height="27" /></td>
                                        </tr>
                                        <tr>
                                        	<td height="30">
<!--                                         		多云转晴 -->
												<h:outputText  value='#{weatherForecastDay.weather.day2dTheWeather}' />
                                        	</td>
                                            <td>
<!--                                     		晴 -->
												<h:outputText  value='#{weatherForecastDay.weather.day2nTheWeather}' />
                                            </td>
                                        </tr>
                                        <tr>
                                        	<td height="60" >
                                        		<span class="temperature">
<!--                                         			12 -->
													<h:outputText  value='#{weatherForecastDay.weather.day2High}' />
                                        		</span>
                                        	</td>
                                            <td height="60" >
                                        		<span class="temperature">
													<h:outputText  value='#{weatherForecastDay.weather.day2Low}' />
                                        		</span>
                                        	</td>
                                        </tr>
                                        <tr>
                                        	<td height="30">
<!--                                         		微风 -->
												<h:outputText  value='#{weatherForecastDay.weather.day2dWindd}' />
                                        	</td>
                                            <td >
												<h:outputText  value='#{weatherForecastDay.weather.day2nWindd}' />
                                        	</td>
                                        </tr>
                                        <tr>
                                        	<td height="60">                                            <img class="sunrise" src="#{request.contextPath}/asset/images/weather/tianqi_img03.png" width="18" height="13" />
                                            	<span class="sunriseTime2" >
                                            		<h:outputText  value='#{weatherForecastDay.weather.day2Sunrise}' />
                                            	</span>
                                            </td>
                                            <td>
                                            <img class="sunset" src="#{request.contextPath}/asset/images/weather/tianqi_img04.png" width="18" height="15" />
                                            	<span class="sunsetTime2" >
													<h:outputText  value='#{weatherForecastDay.weather.day2Sunset}' />
                                            	</span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </td>
                        <td>
<!--                         后天 -->
                        	<div>
                            	<table class="tomorrowCon_table" width="100%" cellpadding="0" cellspacing="0">
                                    <tbody>
                                    	<tr>
                                        	<td colspan="2" height="56">
                                        		<span class="font14">
													<h:outputText  value='#{weatherForecastDay.weather.afterTom}' />
                                        		</span>
                                        	</td>
                                        </tr>
                                    	<tr>
                                        	<td height="30" style="width:50%;">白天</td>
                                            <td>夜间</td>
                                        </tr>
                                        <tr>
                                        	<td height="48"><img src="#{request.contextPath}/asset/images/weather/day/#{weatherForecastDay.weather.day3p}.png" width="38" height="33" /></td>
                                            <td><img src="#{request.contextPath}/asset/images/weather/night/#{weatherForecastDay.weather.day3np}.png" width="25" height="27" /></td>
                                        </tr>
                                        <tr>
                                        	<td height="30">
												<h:outputText  value='#{weatherForecastDay.weather.day3dTheWeather}' />
                                        	</td>
                                            <td>
												<h:outputText  value='#{weatherForecastDay.weather.day3nTheWeather}' />
                                            </td>
                                        </tr>
                                        <tr>
                                        	<td height="60" >
                                        		<span class="temperature">
<!--                                         			12 -->
													<h:outputText  value='#{weatherForecastDay.weather.day3High}' />
                                        		</span>
                                        	</td>
                                            <td height="60" >
                                        		<span class="temperature">
													<h:outputText  value='#{weatherForecastDay.weather.day3Low}' />
                                        		</span>
                                        	</td>
                                        </tr>
                                        <tr>
                                        	<td height="30">
												<h:outputText  value='#{weatherForecastDay.weather.day3dWindd}' />
                                        	</td>
                                            <td >
												<h:outputText  value='#{weatherForecastDay.weather.day3nWindd}' />
                                        	</td>
                                        </tr>
                                        <tr>
                                        	<td height="60"> <img class="sunrise" src="#{request.contextPath}/asset/images/weather/tianqi_img03.png" width="18" height="13" />
                                            	<span class="sunriseTime2" >
                                            		<h:outputText  value='#{weatherForecastDay.weather.day3Sunrise}' />
                                            	</span>
                                            </td>
                                            <td>
                                            <img class="sunset" src="#{request.contextPath}/asset/images/weather/tianqi_img04.png" width="18" height="15" />
                                            	<span class="sunsetTime2" >
													<h:outputText  value='#{weatherForecastDay.weather.day3Sunset}' />
                                            	</span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </td>
                        </tr>
                    </table>
                </div>
                </td>
                </tr>
            </table>
            </div>
            <!-- 气象内容 结束 -->
            <!-- 历史天气头部 开始 -->
            <div class="r_title">
                <div class="r_titleLt fl clear">
                    <h2 class="fl">历史天气</h2>
                </div>
            </div>
            <!-- 历史天气头部 结束 -->
            <!-- 温度内容 开始 -->
            
 <!-- 温度： 30天和12月切换 a4j start -->
	 <a4j:form id="temp_formid" >
		<a4j:queue requestDelay="10" ignoreDupResponses="true" id="mainQueue" />
		<a4j:jsFunction status="ajaxStatus" eventsQueue="mainQueue" name="reTempDataDay" action="#{weatherForecastDay.createTempJsonResult()}" data="#{weatherForecastDay.tempJsonResult}"  oncomplete="tempChartsCreate(data,2);">
			<a4j:actionparam name="dateType" assignTo="#{weatherForecastDay.dateType}"/>
			<a4j:actionparam name="areaCode" assignTo="#{weatherForecastDay.areaCode}"/>
			
		</a4j:jsFunction>
		<a4j:jsFunction status="ajaxStatus" eventsQueue="mainQueue" name="reTempDataMon" action="#{weatherForecastDay.createTempJsonResult()}"  data="#{weatherForecastDay.tempJsonResult}"  oncomplete="tempChartsCreate(data,1);">
			<a4j:actionparam name="dateType"  assignTo="#{weatherForecastDay.dateType}"/>
			<a4j:actionparam name="areaCode"  assignTo="#{weatherForecastDay.areaCode}"/>
		</a4j:jsFunction>
	</a4j:form> 
	<a4j:status id="ajaxStatus" forceId="true" onstart="jquery('#login').show()" onstop="jquery('#login').hide()" />    
<!--  30天和12月切换 a4j end -->    

			<h3 class="his_temperatureHd" style="margin-top:24px;">温度</h3>   
            <div class="his_temperatureTab">
                <ul class="ul_tabList">
                    <li class="cur"><a href="javascript:void();" onclick="reTempDataDay(1,areaCode)" >过去30天</a><span>|</span></li>
                    <li><a href="javascript:;" onclick="reTempDataMon(2,areaCode)" >过去12个月</a></li>
<!--  					<li class="cur"><a href="javascript:;"  >过去30天</a><span>|</span></li> -->
<!--                     <li><a href="javascript:;"  >过去12个月</a></li> -->
                </ul>
                <div class="ul_tabDiv" style="display:block;">
                    <div class="his_temperatureBd">
                    	<div style="position:absolute; width:100%;">
                      <!--  <div style="padding:0 1.5% 0 3.7%;">-->
                           <!--<div style="margin-left:48px;margin-right:21px;">-->
                           <div class="test00">
                         <!--  0.03713  0.0165-->
                    	<table class="position_table" width="99%" cellpadding="0" cellspacing="0">
                        	<tr id="mete_day">
                            </tr>
                            <tr id="mete_empty">
                            </tr>
                            <tr  id="mete_night">
                            </tr>
                        </table>
                        </div>
                        </div>
                        <div id="container_temperMonth" style="position:relative; width:100%; padding:48px 0; top:0; z-index:2; min-width:700px; height:300px; /*zhz */ margin-left:-5px;"></div>
                    </div>
                </div>
                <div class="ul_tabDiv" style=" display:none;">
                	<div class="his_temperatureBd">
                        <div id="container_tempYear" style="min-width:700px; height:300px;"></div>
                    </div>
                </div>
            </div>
            <script>
//             <![CDATA[


			jquery = jQuery.noConflict();
            jquery(function(){
				jquery('.his_temperatureTab').find('.ul_tabList li').click(function(){
					
					jquery('.his_temperatureTab').find('.ul_tabList li').attr('class','');
					//jquery('.his_temperatureTab').find('.ul_tabDiv').css({display:'none'});
					
					jquery(this).attr('class','cur');
					//jquery('.his_temperatureTab').find('.ul_tabDiv').eq(jquery(this).index()).css({display:'block'});
				
				});	
				jquery('.his_rainTab').find('.ul_tabList li').click(function(){
					
					jquery('.his_rainTab').find('.ul_tabList li').attr('class','');
					//jquery('.his_rainTab').find('.ul_tabDiv').css({display:'none'});
					
					jquery(this).attr('class','cur');
					//jquery('.his_rainTab').find('.ul_tabDiv').eq(jquery(this).index()).css({display:'block'});
				
				});	
				var hwindow = jquery(window).width();
				if(hwindow<1280){
					jquery(".position_table img").css({width:'20px',height:'20px'});
				};

				scaleHei();
			});




          //等比例缩放图形高度
			function scaleHei(){
				//var temperMonthWid = jquery('#container_temperMonth').outerWidth();
				//var otemperMonthHei = temperMonthWid * 0.3;
				//jquery('#container_temperMonth').css({ height : otemperMonthHei });
				
				var rainMonthWid = jquery('#container_rainMonth').outerWidth();
				var orainMonthHei = rainMonthWid * 0.3;
				
				jquery('#container_rainMonth').css({ height : orainMonthHei });
				jquery('#container_windLt').css({ height : orainMonthHei });
				jquery('#container_windRt').css({ height : orainMonthHei });
				
			};

            jquery(window).resize(function(){
            	scaleHei();
//             	console.log("resize()执行。。。。。。。。。。。。");
				tempChartsCreate(tempJsonResult,tempType); 
				windChartsCreate(); 
				windfreqCreate();
				rainFallCreate(rainJsonResult,rainType);
// 				location=location 
			});
// 			window.onresize=function(){
// 				tempChartsCreate(tempJson); 
// 				windChartsCreate(); 
// 				windfreqCreate();
// 				rainFallCreate(rainJson,rainType);
// 				location=location 
// 			};
// 			]]>
            </script>

            <div style="overflow:hidden;">
              <p class="his_moreCon"><span>气象观测方法-气温：气温是地面气象观测规定高度上的空气温度温度温度</span><a href="javascript:;" data-toggle="modal" data-target="#myModal_temperature">更多>></a></p>
            </div>
            <!-- 温度内容 结束 -->
            <!-- 风力风向内容 开始 -->
            
            <h3 class="his_temperatureHd clear" style="margin-top:24px; margin-bottom:24px;">风力风向</h3>
           <div class="his_windBd">
				<table width="100%" cellpadding="0" cellspacing="0">
                	<tr>
                    	<td width="70%">
                			<div style="padding-right:105px;">
                            	<div id="container_windLt" style="position:relative; width:100%; min-width:500px; height:380px"></div>
                            </div>
                 		</td>
                        <td width="30%">
                        <div style="overflow:hidden;">
                            <div id="container_windRt" style="position:relative; width:100%; min-width:450px; height:380px"></div> 
                            
          <!-- 遍历极地风向chart数据   start -->
                            <div style="display:none"> 
								
								<table id="freq" border="0" cellspacing="0" cellpadding="0">
									<tr>
										<th colspan="" class="hdr">Table of Frequencies (percent)</th>
									</tr>
									<tr class="windLegend">
											<th class="freq">Direction</th>
											<ui:repeat value="#{weatherForecastDay.windLegend}" var="_winds" rendered="#{not empty weatherForecastDay.windLegend}">
								            		<th class="freq"><h:outputText  value="#{_winds}" />级风</th>
								           	</ui:repeat>	
							           	</tr>
							           	<ui:repeat value="#{weatherForecastDay.winddOrder}" var="_windd" rendered="#{not empty weatherForecastDay.winddOrder}" >
							       			<tr>
							       				<th class="dir"><h:outputText  value="#{_windd}" /></th>
							            		<ui:repeat value="#{weatherForecastDay.winddTable[_windd]}" var="_arrValue"  rendered="#{not empty weatherForecastDay.winddTable[_windd]}" >
							            			<th class="data"><h:outputText  value="#{_arrValue}" /></th>
									            </ui:repeat>
									            <ui:repeat value="#{weatherForecastDay.windLegend}" var="_nodata" rendered="#{empty weatherForecastDay.winddTable[_windd]}" >
								            			<th class="data">0</th>
							            		</ui:repeat>
							             	</tr>
							           	</ui:repeat>	
									</table>
					 			</div>
		 <!-- 遍历极地风向chart数据   end  -->
                    		</div>
                    	</td>
                   </tr>
                </table>
            </div>
            <div style="overflow:hidden;">
            	<p class="his_moreCon"><span>气象观测方法-风：风是空气的水平运动，是一个用方向（风向）（风向）</span><a href="javascript:;" data-toggle="modal" data-target="#myModal_theWind">更多>></a></p>
            </div>
            <!-- 风力风向内容 结束 -->
            <!-- 降水量内容 开始 -->
            
 <!-- 降水量： 30天和12月切换 a4j start -->
	 <a4j:form id="rain_formid" >
		<a4j:queue requestDelay="10" ignoreDupResponses="true" id="mainQueue" />
		<a4j:jsFunction status="ajaxStatus" eventsQueue="mainQueue" name="reRainDataDay" action="#{weatherForecastDay.createRainResult()}" data="#{weatherForecastDay.rainJsonResult}"  oncomplete="rainFallCreate(data,2);">
			<a4j:actionparam name="dateType" assignTo="#{weatherForecastDay.dateType}"/>
			<a4j:actionparam name="areaCode" assignTo="#{weatherForecastDay.areaCode}"/>
			
		</a4j:jsFunction>
		<a4j:jsFunction status="ajaxStatus" eventsQueue="mainQueue" name="reRainDataMon" action="#{weatherForecastDay.createRainResult()}"  data="#{weatherForecastDay.rainJsonResult}"  oncomplete="rainFallCreate(data,1);">
			<a4j:actionparam name="dateType"  assignTo="#{weatherForecastDay.dateType}"/>
			<a4j:actionparam name="areaCode"  assignTo="#{weatherForecastDay.areaCode}"/>
		</a4j:jsFunction>
	</a4j:form>     
<!--  30天和12月切换 a4j end -->    

            <h3 class="his_temperatureHd clear" style="margin-top:24px;">降水量</h3>
            <div class="his_rainTab">
                <ul class="ul_tabList">
                    <li class="cur"><a href="javascript:;" onclick="reRainDataDay(1,areaCode)" >过去30天</a><span>|</span></li>
                    <li><a href="javascript:;" onclick="reRainDataMon(2,areaCode)" >过去12个月</a></li>
                </ul>
                <div class="ul_tabDiv" style="display:block;">
                    <div class="his_rainBd">
                        <div id="container_rainMonth" style="min-width:500px; height:380px"></div>
                    </div>
                </div>
                <div class="ul_tabDiv" style="display:none;">
                	<div class="his_rainBd">
                        <div id="container_rainYear" style="min-width:500px; height:380px;">过去12个月图</div>
                        <img src="" alt="" width="108" height="108" style = "position: absolute;left: 50%;top:50%;margin-left: -54px;margin-top:-54px;" />
                    </div>
                </div>
            </div>
            <div style="overflow:hidden;">
            	<p class="message"><img src="#{request.contextPath}/asset/images/weather/tspng.png" />  <span>数据来自国家气象局网站，仅供参考使用!</span></p><p class="his_moreCon"><span>什么是降水量？：从天空降落到地面上的液态或固态（经融化后）水水水水水</span><a href="javascript:;" data-toggle="modal" data-target="#myModal_theRain">更多>></a></p>
            </div>
            <!-- 降水量内容 结束 -->
           
         </div>
        <!--右边结束-->
        
        
		        
		<!-- 更多温度模态框 开始 -->
		<div class="modal fade" id="myModal_temperature" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="overflow:hidden;">
		<div class="modal-dialog" style="width:600px; margin:0; left:50%; margin-left:-300px; top:50%; margin-top:-230px;">
		<div class="modal-content">
		    <div class="modal-header">
		      <button type="button" class="close" data-dismiss="modal"> </button>
		      <h4 class="modal-title font14" id="myModalLabel">气温(℃)<span>&#160;air temperature</span></h4>
		    </div>
		    <div class="modal-body">
		        <div class="modalheight">
		            <h3 class="modalH3" style="background-position:0 12px;">定义</h3>
		            <p class="modalSection">天气预报中所说的气温，指在野外空气流通、不受太阳直射下测得的空气温度(一般在百叶箱内测定)。最高气温是一日内气温的最高值，一般出现在14-15时，最低气温一般出现在早晨5-6时。中国用摄氏温标，以℃表示摄氏度。一般一天观测4次（02、08、14、20四个时次），部分测站根据实际情况，一天观测3次（08、14、20三个时次）。 </p>
		            <h3 class="modalH3">地面气温的测量</h3>
		            <p class="modalSection">气象台站用来测量近地面空气温度的主要仪器是装有水银或酒精的玻璃管温度表。因为温度表本身吸收太阳热量的能力比空气大，在太阳光直接曝晒下指示的读数往往高于它周围空气的实际温度，所以测量近地面空气温度时，通常都把温度表放在离地约1．5m处四面通风的百叶箱里。气象部门所说的地面气温，就是指高地面约1.5m处百叶箱中的温度。</p>
		        </div>
		    </div>
		    
		</div>
		</div>
		</div>
		<!-- 更多温度模态框 结束 -->
		
		<!-- 更多风力风向模态框 开始 -->
		<div class="modal fade" id="myModal_theWind" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="overflow:hidden;">
		<div class="modal-dialog" style="width:600px; margin:0; left:50%; margin-left:-300px; top:50%; margin-top:-230px;">
		<div class="modal-content">
		    <div class="modal-header">
		      <button type="button" class="close" data-dismiss="modal"> </button>
		      <h4 class="modal-title font14" id="myModalLabel">风力风向<span>&#160;the wind</span></h4>
		    </div>
		    <div class="modal-body">
		        <div class="modalheight">
		            <h3 class="modalH3" style="background-position:0 12px;">定义</h3>
		            <p class="modalSection">风资料是重要的气象资料之一，无论在理论研究上，还是在国民经济建设的各部门，如农业、运输业、建筑业、水利工程、疗养等部门都是不可缺少的。风是空气的水平运动，是一个用方向（风向）和速度（风速）表示的矢量（或称向量）。风向是指风来的方向，除静风外，用16方位表示。风速是指空气所经过的距离对经过的距离所需时间的比值，单位用米/秒表示，定时观测（基本站每日观测4次，基准站每日观测24次），取整数，自记记录，取小数一位。</p>
		            <h3 class="modalH3">风力等级</h3>
		            <p class="modalSection">风是矢量，用风向、风速(或风力等级)表示。 <br />风速在气象服务之中，常用风力等级来表示风速的大小。英国人F.蒲福于1805年所拟定的“蒲福风级”将风力分为 13个等级(0～12级)。自1946年，风力等级又增加到18个（0～17级）。即风力的大小分为18个等级，最小是0级，最大为17级。风速和风力等级的对应关系如下表所示。</p>
		            <div class="content_topp">
		            	<table class="table">
		                	<tr>
		                    	<td>等级</td>
		                        <td>风速（m/s）</td>
		                        <td>风速（km/h）</td>
		                        <td>等级</td>
		                        <td>风速（m/s）</td>
		                        <td>风速（km/h）</td>
		                        <td>等级</td>
		                        <td>风速（m/s）</td>
		                        <td>风速（km/h）</td>
		                    </tr>
		                    <tr>
		                    	<td>0</td>
		                        <td>0.0-0.2</td>
		                        <td> &lt;1 </td>
		                        <td>6</td>
		                        <td>10.8-13.8</td>
		                        <td>39-49</td>
		                        <td>12</td>
		                        <td>32.7-36.9</td>
		                        <td>118-133</td>
		                    </tr>
		                    <tr>
		                    	<td>1</td>
		                        <td>0.3-1.5</td>
		                        <td>1-5</td>
		                        <td>7</td>
		                        <td>13.9-17.1</td>
		                        <td>50-61</td>
		                        <td>13</td>
		                        <td>37.0-41.4</td>
		                        <td>134-149</td>
		                    </tr>
		                    <tr>
		                    	<td>2</td>
		                        <td>1.6-3.3</td>
		                        <td>6-11</td>
		                        <td>8</td>
		                        <td>17.2-20.7</td>
		                        <td>62-74</td>
		                        <td>14</td>
		                        <td>41.5-46.1</td>
		                        <td>150-166</td>
		                    </tr>
		                    <tr>
		                    	<td>3</td>
		                        <td>3.4-5.4</td>
		                        <td>12-19</td>
		                        <td>9</td>
		                        <td>20.8-24.4</td>
		                        <td>75-88 </td>
		                        <td>15</td>
		                        <td>46.2-50.9</td>
		                        <td>167-183</td>
		                    </tr>
		                    <tr>
		                    	<td>4</td>
		                        <td>5.5-7.9</td>
		                        <td>20-28</td>
		                        <td>10</td>
		                        <td>24.5-28.4</td>
		                        <td>89-102</td>
		                        <td>16</td>
		                        <td>51.0-56.0</td>
		                        <td>184-201</td>
		                    </tr>
		                    <tr>
		                    	<td>5</td>
		                        <td>8.0-10.7</td>
		                        <td>29-38</td>
		                        <td>11</td>
		                        <td>28.5-32.6</td>
		                        <td>103-117</td>
		                        <td>17</td>
		                        <td>56.1-61.2</td>
		                        <td>202-220</td>
		                    </tr>
		                </table>
		            </div>
		            <h3 class="modalH3">风级歌</h3>
		            <p class="modalSection">0级烟柱直冲天，1级青烟随风偏<br />2级风来吹脸面，3级叶动红旗展<br />4级风吹飞纸片，5级带叶小树摇<br />6级举伞步行艰，7级迎风走不便<br />8级风吹树枝断，9级屋顶飞瓦片<br />10级拔树又倒屋， <br />11,12级陆上很少见，<br />13,14级很恐怖。</p>
					<h3 class="modalH3">风的测量</h3>
		            <p class="modalSection">测量风向风速的仪器有EL型电接风向风速计，达因风向风速计等。测定的项目有平均风速和最多风向。配有自记仪器的，作了风向风速的连续记录并进行了整理。此外风的测量中还有以风力等级进行观察的，风力等级是根据风对地上物体所引起的现象将风的大小分成18级，以0～17级的等级数字表示。风力等级观察须在空气不受任何障碍物影响的地方进行。</p>
		        </div>
		    </div>
		    
		</div>
		</div>
		</div>
		<!-- 更多风力风向模态框 结束 -->
		
		<!-- 更多降水量模态框 开始 -->
		<div class="modal fade" id="myModal_theRain" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="overflow:hidden;">
		<div class="modal-dialog" style="width:600px; margin:0; left:50%; margin-left:-300px; top:50%; margin-top:-230px;">
		<div class="modal-content">
		    <div class="modal-header">
		      <button type="button" class="close" data-dismiss="modal"> </button>
		      <h4 class="modal-title font14" id="myModalLabel">降水量(mm)<span>&#160;precipitation</span></h4>
		    </div>
		    <div class="modal-body">
		        <div class="modalheight">
		            <h3 class="modalH3 mt10" style="background-position:0 12px;">定义</h3>
		            <p class="modalSection">从天空降落到地面上的液态或固态（经融化后）水，未经蒸发、渗透、流失，而在水平面上积聚的深度。降水量以mm为单位，气象观测中取一位小数。</p>
		            <h3 class="modalH3">简介</h3>
		            <p class="modalSection">气象台站用来测量近地面空气温度的主要仪器是装有水银或酒精的玻璃管温度表。因为温度表本身吸收太阳热量的能力比空气大，在太阳光直接曝晒下指示的读数往往高于它周围空气的实际温度，所以测量近地面空气温度时，通常都把温度表放在离地约1．5m处四面通风的百叶箱里。气象部门所说的地面气温，就是指高地面约1.5m处百叶箱中的温度。</p>
		            <h3 class="modalH3">测量仪器</h3>
		            <h4 class="modalH4">雨量器</h4>
		            <dl class="modalComdl">
		                <dt><img src="#{request.contextPath}/asset/images/weather/img_tqyubao01.jpg" /></dt>
		                <dd>雨量器是用于测量一段时间内累积降水量的仪器。外壳是金属圆筒分上下两节，上节是一个口径为20厘米的盛水漏斗，为防止雨水溅失，保持器口面积和形状，筒口用坚硬铜质做成内直外斜的刀刃状；下节筒内放一个储水瓶用来收集雨水。测量时，将雨水倒入特制的雨量杯内读取降水量毫米数。降雪季节将储水瓶取出，换上不带漏斗的筒口，雪花可直接收集在雨量筒内，待雪融化后再读数，也可将雪秤出重量然后根据筒口面积换算成毫米数。</dd>
		            </dl>
		            <h4 class="modalH4">虹吸雨量</h4>
		            <dl class="modalComdl">
		                <dt><img src="#{request.contextPath}/asset/images/weather/img_tqyubao02.jpg" /></dt>
		                <dd>虹吸雨量计是可连续记录降水量和降水时间的仪器。其上部盛水漏斗的形状和大小与雨量器相同。当雨水经过漏斗导入量筒后，量筒内的浮子将随水位升高而上浮，带动自记笔在自记纸上划出水位上升的曲线。当量筒内的水位达到10毫米时，借助虹吸管，使水迅速排出，笔尖回落到零位重新记录。自记钟给出降水量随时间的累积过程。</dd>
		            </dl>
		            <h4 class="modalH4">翻斗式雨量计</h4>
		            <dl class="modalComdl">
		                <dt><img src="#{request.contextPath}/asset/images/weather/img_tqyubao03.jpg" /></dt>
		                <dd>翻斗式雨量计是可连续记录降水量随时间变化和测量累积降水量的有线遥测仪器。分感应器和记录器两部分，其间用电缆连接。感应器用翻斗测量，它是用中间隔板间开的两个完全对称的三角形容器，中隔板可绕水平轴转动，从而使两侧容器轮流接水，当一侧容器装满一定量雨水时（0.1或0.2毫米），由于重心外移而翻转，将水倒出，随着降雨持续，将使翻斗左右翻转，接触开关将翻斗翻转次数变成电信号，送到记录器，在累积计数器和自记钟上读出降水资料。</dd>
		            </dl>
		        </div>
		    </div>
		    
		</div>
		</div>
		</div>
		<!-- 更多降水量模态框 结束 -->
        
        </td>   
        
         
<script type="text/javascript"> 
//<![CDATA[
var rainType = 2;
var tempType = 2;
$ = jQuery.noConflict();
var areaCode = "#{weatherForecastDay.areaCode}";
var weatherId = "#{weatherForecastDay.weatherId}";
 //无数据图片
var nodata = "<img src='#{request.contextPath}/asset/images/weather/nodata.png'  width='108' height='108' style = 'position: absolute;left: 50%;top:50%;margin-left: -54px;margin-top:-54px;'/>";       

//01-05 
$(document).ready(function(){
	 /*无数据*/
	 if(areaCode == "0"  || areaCode == ""|| isNaN(areaCode) ){
	 		$(".right_c").empty();
	 		$(".right_c").attr('style','height:800px');
	 		$(".right_c").append(nodata);
	 }else if( weatherId =="0" || weatherId ==""  || isNaN(weatherId) && areaCode != "0" && areaCode != "" && !isNaN(areaCode)){
		  $(".meteorCon_wp").empty();
// 	 	  $(".meteorCon_wp").append(nodata);
	 }
	
});    

//温度为空的  去除度数的样式
$ = jQuery.noConflict();
$(".temperature").each(function(){
	  if($.trim($(this).text()) == "" || $.trim($(this).text()) == null){		
		$(this).attr('style','background:url()');
	  }
	}	
);

 

Highcharts.setOptions({
// 	lang: {
// 		loading:'加载中。。。',
//         noData: '暂无数据!'
//     },
//     noData: {
//         style: {    
//             fontWeight: 'bold',     
//             fontSize: '15px',
//             color: '#303030'        
//         }
//     },
		global: { useUTC: false },//时区 (不设置北京时间少8小时)
 		lang: {
	            noData: "暂无数据!"
	        },
        noData: {
            style: {    
                fontWeight: 'bold',     
                fontSize: '15px',
                color: '#303030'        
            }
        },
	colors: ['#30e8f9'] ,
	legend: {
		itemStyle: {
			color:'white'
		}
	},
	xAxis: {
		labels:{
			//rotation:10,
			overflow:'justify',
			style: {
				color: 'white'
				//fontWeight: '500'
			}
		},
		lineColor :'white'
	},
	yAxis: {
		labels:{
			style: {
				color: 'white'
				//fontWeight: '500'
			}
		}
	},
	exporting:{
		enabled:false
	},
	credits:{
		enabled:false
	}
 });

	$ = jQuery.noConflict();


 var tempJsonResult =  #{weatherForecastDay.tempJsonResult};
 //var tempMonJson =  #{weatherForecastDay.tempMonJsonResult};
 var windsJson =  #{weatherForecastDay.winsJsonResult};
 var rainJsonResult =  #{weatherForecastDay.rainJsonResult};
 var winddJson =  #{weatherForecastDay.winddJsonResult};
 var winddTable =  #{weatherForecastDay.winddTable};


function checkEmpty(json){
	if(json == "" || json == {} || json == []){
		return true;
	}else{
		return false;
	}
	isEmptyValue(json);
	
}

var isEmptyValue = function(value) {
    var type;
    if(value == null) { // 等同于 value === undefined || value === null
        return true;
    }
    type = Object.prototype.toString.call(value).slice(8, -1);
    switch(type) {
    case 'String':
        return !$.trim(value);
    case 'Array':
        return !value.length;
    case 'Object':
        return $.isEmptyObject(value); // 普通对象使用 for...in 判断，有 key 即为 false
    default:
        return false; // 其他对象均视作非空
    }
};

/*遍历每天的气象*/
 function createMeteTable(tempJson){
	var meteN = tempJson.meteN;
	var meteD = tempJson.meteD;
	
	var mete_day = "day/";
	var mete_night = "night/"
	var mete_td = "<td class='temp_grid_img' height='50' ><img src='#{request.contextPath}/asset/images/weather/";
	var mete_empty_td = "<td class='temp_grid_img' height='50' ><img src='#{request.contextPath}/asset/images/weather/undefined.png' /></td>";
	var mete_end = ".png' /></td>";
	var mete_empty = "<td class='temp_grid' height='300'  >&#160;</td>";
	$("#mete_day").empty();
	$.each(meteD, function(i, item){ 
		if(item == -101)
			context = mete_empty_td;
		else
			context =  mete_td + mete_day + item + mete_end;
		
		$("#mete_day").append(context);   
	　}); 

	$("#mete_night").empty();
	$.each(meteN, function(i, item){ 
		if(item == -101)
			context = mete_empty_td;
		else
			context =  mete_td + mete_night + item + mete_end;
		$("#mete_night").append(context);   
	　}); 
	
	$("#mete_empty").empty();
	$.each(meteN, function(i, item){ 
		$("#mete_empty").append(mete_empty);   
	　}); 
 }

 function tempChartsCreate(tempJson,type){
	//缓存
	 tempJsonResult = tempJson;
	 tempType = type;
	 if(type == 2){
		 tempDayChartsCreate(tempJson);
	 }else{
		 tempMonthChartsCreate(tempJson);
	 }
}


 /*30天温度chart*/
 function tempDayChartsCreate(tempJson){ 
	 
	 
	 if(checkEmpty(tempJson) || checkEmpty(tempJson.averages) ||checkEmpty(tempJson.ranges)){
			//无数据
			jquery('#container_temperMonth').empty();
			jquery('#container_temperMonth').append(nodata);
		}else{
			jquery('#container_temperMonth').empty();
			 jquery('.his_temperatureBd').find('.test00').css({display:'block'});
			 jquery('.his_temperatureBd').find('#container_temperMonth').css({'height':'300px','padding':'48px 0px'});
			 
			 createMeteTable(tempJson);
			 
			 $('#container_temperMonth').highcharts({
	       		title: {
	       			text: ''
	       		},
	       		xAxis: {
	       			//categories: tempJson.categories
	       			//tickmarkPlacement: 'on',
	       			max:tempJson.max,
	       			min:tempJson.min,
	       			type:'datetime',
	       			step:1,
					labels: {    
						formatter: function () {  
							return Highcharts.dateFormat('%d日', this.value);  
						}  
					}  
	       		},
	       		yAxis: {
	    			title: {
	    				 text: null
	    			},
    				labels:{
    					formatter: function() {
		                    return this.value + '°C';
		             	},
						style: {
							color: 'white'
							//fontWeight: 'bold'
						}
					},
	    		},
	       		tooltip: {
	       			crosshairs: true,
	       			shared: true,
	       			valueSuffix: '°C',   
					dateTimeLabelFormats : {
						  day: '%m-%d日'
						} 
	       		},
// 			tooltip: {
// 					 crosshairs: true,
// 					 shared: true,
// 					 useHTML:true, //使用HTML
// 					 formatter: function () {
// 						 var formatterName = "<b>"+Highcharts.dateFormat('%d日', this.x)+"</b><br/>";//首先显示X坐标轴的值	

// 						 console.log(this);
// 						 console.log(this.points);
// 						 for(var i = 0;i<this.points.length;i++){
// 							 if(this.points[i].series.name  == 'Range'){
								
// 								 formatterName += "" + "<span>范围:"+ this.points[0].y + "°C ~" + this.points[1].y + "°C</span><br/>"; 
// 							 }else{
// 								 formatterName += "" + "<span>" + this.points[i].series.name + "："+ this.points[i].y + "°C</span><br/>";  
// 							 }
// 						 }
// 						 return formatterName;
// 					 }
// 				},
				legend: {
						enabled:false
					 },
	       		series: [{
	       			name: '平均温度',
	       			data: tempJson.averages,
	       			zIndex: 1,
	       			marker: {
	       				fillColor: '#e0deed',
	    				lineWidth: 2,
	    				lineColor: '#30e8f9'
	       			}
	       		}, {
	       			name: '范围',
	       			data: tempJson.ranges,
	       			type: 'arearange',
	       			lineWidth: 0,
	       			linkedTo: ':previous',
	       			color: '#e0deed',
	       			fillOpacity: 0.3,
	       			zIndex: 0
	       		}]
	       	});
		}
 } 

 /*12月温度chart*/
 function tempMonthChartsCreate(tempJson){ 
	 	 
	 if(checkEmpty(tempJson) || checkEmpty(tempJson.averages) ||checkEmpty(tempJson.ranges)){
			//无数据
			jquery('#container_temperMonth').empty();
			jquery('#container_temperMonth').append(nodata);
		}else{
			jquery('#container_temperMonth').empty();

			 jquery('.his_temperatureBd').find('.test00').css({display:'none'});
			 jquery('.his_temperatureBd').find('#container_temperMonth').css({'height':'365px','padding':'0px 0px'});
			 
			 $('#container_temperMonth').highcharts({
	       		title: {
	       			text: ''
	       		},
	       		xAxis: {
	       			max:tempJson.max,
	       			min:tempJson.min,
	       			//刻度间隔
					tickInterval: 24 * 3600 * 3600*10,
	       			type:'datetime',
					labels: {    
						formatter: function () {  
							return Highcharts.dateFormat('%m月', this.value);  
						}  
					}   
	       		},
	       		yAxis: {
	    			title: {
	    				 text: null
	    			},
    				labels:{
						style: {
							color: '#dddaeb'
							//fontWeight: 'bold'
						},
						formatter: function() {
		                    return this.value + '°C';
		                }
					},
	    		},
	       		tooltip: {
	       			crosshairs: true,
	       			shared: true,
	       			valueSuffix: '°C',
	       			dateTimeLabelFormats : {
						  day: '%m月'
						}
	       		},
// 			tooltip: {
// 					 crosshairs: true,
// 					 shared: true,
// 					 useHTML:true, //使用HTML
// 					 formatter: function () {
// 						 var formatterName = "<b>"+Highcharts.dateFormat('%m月', this.x)+"</b><br/>";//首先显示X坐标轴的值	

// 						 for(var i = 0;i<this.points.length;i++){
// 							 if(this.points[i].series.name  == 'Range'){
								
// 								 formatterName += "" + "<span>范围:"+ this.points[0].y + "°C ~" + this.points[1].y + "°C</span><br/>"; 
// 							 }else{
// 								 formatterName += "" + "<span>" + this.points[i].series.name + "："+ this.points[i].y + "°C</span><br/>";  
// 							 }
// 						 }
// 						 return formatterName;
// 					 }
// 				},
				legend: {
						enabled:false
					 },
	       		series: [{
	       			name: '平均温度',
	       			data: tempJson.averages,
	       			zIndex: 1,
	       			marker: {
	       				fillColor: '#30e8f9',
	    				lineWidth: 2,
	    				lineColor: '#30e8f9'
	       			}
	       		}, {
	       			name: '范围',
	       			data: tempJson.ranges,
	       			type: 'arearange',
	       			lineWidth: 0,
	       			linkedTo: ':previous',
	       			color: '#e0deed',
	       			fillOpacity: 0.3,
	       			zIndex: 0
	       		}]
	       	});
		}
 } 

 /* 风力风向的柱状图 */
function windChartsCreate(){ 
	 if(checkEmpty(windsJson) || checkEmpty(windsJson.categories) ||checkEmpty(windsJson.series)){
		//无数据
		jquery('#container_windLt').append(nodata);
		jquery('#container_windLt').empty();
	}else{
		jquery('#container_windLt').empty();
		$('#container_windLt').highcharts({
			colors:windsJson.colors,
	        chart: {
	            type: 'column'
	        },
	        title: {
	            text: ''
	        },
	        xAxis: {
	            categories: windsJson.categories
	        },
	        yAxis: {
	            min: 0,
	            title: {
	                text: ''
	            },
	            labels:{
					style: {
						color: 'white'
						//fontWeight: 'bold'
					},
					 formatter: function() {
		                    return this.value + '次';
	                }
				},
	        },
	        tooltip: {
	            headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
	            pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
	            	'<td style="padding:0"><b>{point.y} 次</b></td></tr>',
// 	                '<td style="padding:0"><b>{point.y:.1f} 次</b></td></tr>',
	            footerFormat: '</table>',
	            shared: true,
	            useHTML: true
	        },
	        plotOptions: {
	            column: {
	                pointPadding: 0.2,
	                borderWidth: 0
	            }
	        },
	        series: windsJson.series
	    });
	}
} 
 
/* 风力风向的级地图 */	
function windfreqCreate(){ 
	
	if(checkEmpty(winddJson) || checkEmpty(winddJson.windLegend) || checkEmpty(windsJson.winddTable) ){
		//无数据
		jquery('#container_windRt').append(nodata);
		jquery('#container_windRt').empty();
	}else{
		jquery('#container_windRt').empty();
    	$('#container_windRt').highcharts({
    		colors:winddJson.colors,
    	
        	data: {
    	    	table: 'freq',
    	    	startRow: 1,
    	    	endRow: 17,
    	    	endColumn: 7
    	    },
    	    chart: {
    	        polar: true,
    	        type: 'column'
    	    },
    	    title: {
	            text: ''
	        },
    	    pane: {
    	    	size: '85%'
    	    },
    	    legend: {
        	    enabled:false
    	    },
    	    xAxis: {
    	    	tickmarkPlacement: 'on'
    	    },
    	        
    	    yAxis: {
    	        min: 0,
    	        endOnTick: false,
    	        showLastLabel: true,
    	        title: {
    	        	text: ''
    	        },
    	        labels: {
    	        	formatter: function () {
    	        		return this.value + '%';
    	        	}
    	        }
    	    },
    	    
    	    tooltip: {
    	    	valueSuffix: '%',
    	    	followPointer: true
    	    },
    	        
    	    plotOptions: {
    	        series: {
    	        	stacking: 'normal',
    	        	shadow: false,
    	        	groupPadding: 0,
    	        	pointPlacement: 'on'
    	        }
    	    }
    	});
	}
} 

/* 降水量 */
function rainFallCreate(rainJson,step){
	//缓存
	 rainJsonResult = rainJson;
	 rainType = step;

	if(checkEmpty(rainJson) || checkEmpty(rainJson.categories) || checkEmpty(rainJson.rainFall)){
		//无数据
		jquery('#container_rainMonth').empty();
		jquery('#container_rainMonth').append(nodata);
	}else{
		jquery('#container_rainMonth').empty();

		$('#container_rainMonth').highcharts({
	        chart: {
	            zoomType: 'xy'
	        },
	        title: {
	            text: ''
	        },
	        xAxis:  {
	            categories: rainJson.categories,
	            labels: {  
					step: step,
	                formatter: function() {
						if(this.value.indexOf('-') > 0){
							return this.value.substr(3, 3);
							
						}else{
							return this.value
						}
					}
				}  
	        },
	        yAxis: [ { // Primary yAxis
	        	min: 0,
	        	max:rainJson.ymax + rainJson.ymax/95,
	            labels: {
// 	            	formatter: function() {
// 	                    return this.value + '';
// 	                }
	               
	            },
	            title: {
	                text: '降水量(mm)',
	                style: {
	                    color: 'white'
	                }
	            }
	        },{ // Secondary yAxis
	        	min: 0,
	        	max: rainJson.ysummax + rainJson.ysummax/95 ,
	            title: {
	                text: '累计降水量(mm)',
	                style: {
	                    color: 'white'
	                }
	            },
	            labels: {
	                //format: '{value} mm',
	                style: {
	                    color: 'white'
	                }
	            },
	            opposite: true
	        }],
	        tooltip: {
	            shared: true
	        },
	 		legend: {
				enabled:false
			 },
	        series: [{
	        	name: '累计降水量',
	            color: '#dddaeb',
	            type: 'spline',
	            data: rainJson.rainSum,
	            yAxis: 1,
	            tooltip: {
	                valueSuffix: 'mm'
	            }

	        }, {
	        	name: '降水量',
	            color: '#30e8f9',
	            type: 'column',
	            data: rainJson.rainFall,
	            tooltip: {
	                valueSuffix: 'mm'
	            }
	        }]
	    });
	}
}

	$ = jQuery.noConflict();
	$(document).ready(function(){
		tempChartsCreate(tempJsonResult,tempType); 
// 		tempMonthChartsCreate(tempJson);
		windChartsCreate(); 
		windfreqCreate();
		rainFallCreate(rainJsonResult,rainType);
	});

// ]]>
</script>

	</ui:define>
</ui:composition>
