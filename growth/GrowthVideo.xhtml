<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	template="/layout/template_growth_video.xhtml">

	<ui:define name="body">
		<td valign="top" width="100%">
			<!---作物生长情况开始-->
			<div class="zuowbg">
				<table cellpadding="0" cellspacing="0" width="100%"
					style="table-layout: fixed;">
					<tr>
						<td valign="top" class="zwleftmenu">
							<!--menu 开始-->
							<div class="menutree">
								<table width="100%" cellpadding="0" cellspacing="0">
									<tr>
										<td class="nav_span">
																			<div >
													<h:panelGroup rendered="#{sessionTake.baseModel.baseList.size eq 1}"> 
														<div style="height:31px;margin-top: 10px;"><font style="font-family:'宋体';color:#fff;font-size: 16px;margin-left:10px;font-weight: bold;display:block; height:18px;overflow:hidden;"> #{sessionTake.baseModel.baseList.get(0).name}</font></div>
													</h:panelGroup>
											</div>
											<div class="slist_2" style="#{cropGrowthHome.tunnelInfo.partition.base eq _base or cropGrowthHome.deviceInfo.baseId.id eq _base or cropGrowthHome.videoInfo.baseId.id eq _base?'display: block;':'display:none;'}">
												<a:repeat value="#{sessionTake.parList}" var="_par">
													<h2
														class="ltow #{cropGrowthHome.tunnelInfo.partition.id eq _par.id or cropGrowthHome.deviceInfo.pid eq _par.id or cropGrowthHome.videoInfo.partitionId.id eq _par.id?'currentltow':''}">
														<h:outputText value="#{_par.name}" />
													</h2>
													<ul class="sslist" style="#{cropGrowthHome.tunnelInfo.partition.id eq _par.id or cropGrowthHome.deviceInfo.pid eq _par.id or cropGrowthHome.videoInfo.partitionId.id eq _par.id?'display: block;':'display:none;'}">
														<a:repeat value="#{sessionTake.tiMap.get(_par.id)}"
															var="_tinfo">
															<li
																class="lthree #{cropGrowthHome.keyString eq _tinfo[0]?'currentlthree':''}">
																<h:outputText escape="false" value="#{_tinfo[1][0]}" />
															</li>
														</a:repeat>
													</ul>
												</a:repeat>
											</div>
										</td>
									</tr>
								</table>
							</div> <!--menu 结束-->
						</td>
						<td valign="top" class="charttd">
							<!--中间头部开始-->
							<table id="videoOne" width="100%" cellpadding="0" cellspacing="0" style="#{cropGrowthHome.videoInfo.accessWay eq 1 ?'display: none':''}">
								<tr>
									<td valign="top" class="videobox"
										style="width: auto; z-index: 0; position: relative;">
										<div class="videobg"
											style="background: none; z-index: 0; position: relative;">
											<div id="outDiv" class="videoimg"
												style="width: 680px; margin: 0 auto; right: 0;">
												<object classid="clsid:EE4EA829-B8DA-4229-AC72-585AF45AD778"
													style="z-index: 1; position: relative;"
													standby="Waiting..." id="ppvs" width="680" height="510"
													name="ocx1" title="&#35270;&#39057;">
													<param value="transparent" name="wmode" />
													<param value="_Version" name="65536" />
													<param value="_ExtentX" name="9155" />
													<param value="_ExtrntY" name="6800" />
													<param value="_StockProps" name="0" />
													<img src="#{request.contextPath}/asset/images/growth/shp02.png" width="690" height="510" style="margin-top:25px;"/>	
												</object>
											</div>
										</div>
										<div style="width:400px;margin-left:auto;margin-right:auto;">
										<div class="videobut">
											<table width="107" height="77" cellpadding="0"
												cellspacing="0" style="float: left;">
												<tr>
													<td width="41" valign="middle" align="right" id="vbtn">
														<a href="Javascript: void(0)"
														onmousedown="PTZControlOn(#{cropGrowthHome.videoInfo.channelNo},12)"
														onmouseup="PTZControlOff(#{cropGrowthHome.videoInfo.channelNo},12)"
														onmouseout="PTZControlOff(#{cropGrowthHome.videoInfo.channelNo},12)">
															<img id="v1"
															src="#{request.contextPath}/asset/images/growth/but_jian.png"
															width="14" height="14" />
													</a>
													</td>
													<td width="16"></td>
													<td width="50" valign="middle" align="right" id="vbut2">
														<a href="Javascript: void(0)"
														onmousedown="PTZControlOn(#{cropGrowthHome.videoInfo.channelNo},11)"
														onmouseup="PTZControlOff(#{cropGrowthHome.videoInfo.channelNo},11)"
														onmouseout="PTZControlOff(#{cropGrowthHome.videoInfo.channelNo},11)">
															<img id="v2"
															src="#{request.contextPath}/asset/images/growth/but_jia.png"
															width="14" height="14" />
													</a>
													</td>
												</tr>
											</table>
											<table width="66" height="77" cellpadding="0" cellspacing="0"
												style="float: left; margin-left: 28px;">
												<tr>
													<td width="22"></td>
													<td width="23" valign="bottom" id="vbut3"><a
														href="Javascript: void(0)"
														onmousedown="PTZControlOn(#{cropGrowthHome.videoInfo.channelNo},21)"
														onmouseup="PTZControlOff(#{cropGrowthHome.videoInfo.channelNo},21)"
														onmouseout="PTZControlOff(#{cropGrowthHome.videoInfo.channelNo},21)">
															<img id="v3"
															src="#{request.contextPath}/asset/images/growth/but_up.png"
															width="12" height="9" />
													</a></td>
													<td width="21"></td>
												</tr>
												<tr>
													<td valign="middle" id="vbut4"><a
														href="Javascript: void(0)"
														onmousedown="PTZControlOn(#{cropGrowthHome.videoInfo.channelNo},23)"
														onmouseup="PTZControlOff(#{cropGrowthHome.videoInfo.channelNo},23)"
														onmouseout="PTZControlOff(#{cropGrowthHome.videoInfo.channelNo},23)">
															<img id="v4"
															src="#{request.contextPath}/asset/images/growth/but_left.png"
															width="9" height="13" />
													</a></td>
													<td></td>
													<td valign="middle" id="vbut5"><a
														href="Javascript: void(0)"
														onmousedown="PTZControlOn(#{cropGrowthHome.videoInfo.channelNo},24)"
														onmouseup="PTZControlOff(#{cropGrowthHome.videoInfo.channelNo},24)"
														onmouseout="PTZControlOff(#{cropGrowthHome.videoInfo.channelNo},24)">
															<img id="v5"
															src="#{request.contextPath}/asset/images/growth/but_right.png"
															width="9" height="13" />
													</a></td>
												</tr>
												<tr>
													<td></td>
													<td valign="top" id="vbut6"><a
														href="Javascript: void(0)"
														onmousedown="PTZControlOn(#{cropGrowthHome.videoInfo.channelNo},22)"
														onmouseup="PTZControlOff(#{cropGrowthHome.videoInfo.channelNo},22)"
														onmouseout="PTZControlOff(#{cropGrowthHome.videoInfo.channelNo},22)">
															<img id="v6"
															src="#{request.contextPath}/asset/images/growth/but_down.png"
															width="12" height="9" />
													</a></td>
													<td></td>
												</tr>
											</table>
											<table width="105" height="77" cellpadding="0"
												cellspacing="0" style="float: right;">
												<tr>
													<td width="41" valign="middle" align="left" id="vbut7">
														<a href="Javascript: void(0)"
														onmousedown="PTZControlOn(#{cropGrowthHome.videoInfo.channelNo},14)"
														onmouseup="PTZControlOff(#{cropGrowthHome.videoInfo.channelNo},14)"
														onmouseout="PTZControlOff(#{cropGrowthHome.videoInfo.channelNo},14)">
															<img id="v7"
															src="#{request.contextPath}/asset/images/growth/but_jian.png"
															width="14" height="14" />
													</a>
													</td>
													<td width="24"></td>
													<td width="40" valign="middle" align="left" id="vbut8">
														<a href="Javascript: void(0)"
														onmousedown="PTZControlOn(#{cropGrowthHome.videoInfo.channelNo},13)"
														onmouseup="PTZControlOff(#{cropGrowthHome.videoInfo.channelNo},13)"
														onmouseout="PTZControlOff(#{cropGrowthHome.videoInfo.channelNo},13)">
															<img id="v8"
															src="#{request.contextPath}/asset/images/growth/but_jia.png"
															width="14" height="14" />
													</a>
													</td>
												</tr>
											</table>
											</div>
											<div class="videocj" style="float: left; margin-left: 330px; margin-top: -55px;">
												<a style="color: #ff0000; font-size: 14px; text-decoration: underline;"
													href="http://img1.farmeasy.cn/plugin/EHomeActiveX.exe">
													<img src="#{request.contextPath}/asset/images/xiazai.png" />
												</a>
											</div>
										</div>
										
									</td>
								</tr>
							</table>
							<table id="videoTwo" width="100%" cellpadding="0" cellspacing="0" style="#{cropGrowthHome.videoInfo.accessWay eq 2 ?'display: none':''}">
								<tr>
									<td valign="top" class="videobox"
										style="width: auto; z-index: 0; position: relative;">
										<div class="videobg"
											style="overflow: hidden; background: none; z-index: 99999; position: relative;">
											<div id="outDiv2" class="videoimg"
												style="overflow: hidden; width: 680px; height: 450px; right: 0px; margin-top: -35px; margin-right: auto; margin-bottom: 0px; margin-left: auto; position: static;">
												<object classid="clsid:D5E14042-7BF6-4E24-8B01-2F453E8154D7"
													id="PlayViewOCX" width="690" height="510" name="ocx"
													style="margin-left: -5px;"><img src="#{request.contextPath}/asset/images/growth/shp02.png" width="690" height="510" style="margin-top:25px;"/> </object>
											</div>
										</div>
										<div style="width:400px;margin-left:auto;margin-right:auto;">
										<div class="videobut" style="float:left;">
										
											<table width="107" height="77" cellpadding="0"
												cellspacing="0" style="float: left;">
												<tr>
													<td width="41" valign="middle" align="right" id="vbtn">
														<a id="v1" href="Javascript: void(0)"
														onmousedown="PTZMinusTimes()" onmouseup="PTZStop()"
														onmouseout="PTZStop()"><img
															src="#{request.contextPath}/asset/images/growth/but_jian.png"
															width="14" height="14" /></a> <a style="display: none"
														id="v2" href="Javascript: void(0)"
														onmousedown="PTZMinusTimes()" onmouseup="PTZStop()"
														onmouseout="PTZStop()"><img
															src="#{request.contextPath}/asset/images/growth/onbut_jian.png"
															width="14" height="14" /></a>
													</td>
													<td width="16"></td>
													<td width="50" valign="middle" align="right" id="vbut2">
														<a id="v3" href="Javascript: void(0)"
														onmousedown="PTZAddTimes()" onmouseup="PTZStop()"
														onmouseout="PTZStop()"><img
															src="#{request.contextPath}/asset/images/growth/but_jia.png"
															width="14" height="14" /></a> <a style="display: none"
														id="v4" href="Javascript: void(0)"
														onmousedown="PTZAddTimes()" onmouseup="PTZStop()"
														onmouseout="PTZStop()"><img
															src="#{request.contextPath}/asset/images/growth/onbut_jia.png"
															width="14" height="14" /></a>
													</td>
												</tr>
											</table>
											<table width="66" height="77" cellpadding="0" cellspacing="0"
												style="float: left; margin-left: 28px;">
												<tr>
													<td width="22"></td>
													<td width="23" valign="bottom" id="vbut3"><a id="v5"
														href="Javascript: void(0)" onmousedown="PTZUp()"
														onmouseup="PTZStop()" onmouseout="PTZStop()"><img
															src="#{request.contextPath}/asset/images/growth/but_up.png"
															width="12" height="9" /></a> <a style="display: none"
														id="v6" href="Javascript: void(0)" onmousedown="PTZUp()"
														onmouseup="PTZStop()" onmouseout="PTZStop()"><img
															src="#{request.contextPath}/asset/images/growth/onbut_up.png"
															width="12" height="9" /></a></td>
													<td width="21"></td>
												</tr>
												<tr>
													<td valign="middle" id="vbut4"><a id="v7"
														href="Javascript: void(0)" onmousedown="PTZLeft()"
														onmouseup="PTZStop()" onmouseout="PTZStop()"><img
															src="#{request.contextPath}/asset/images/growth/but_left.png"
															width="9" height="13" /></a> <a style="display: none"
														id="v8" href="Javascript: void(0)" onmousedown="PTZLeft()"
														onmouseup="PTZStop()" onmouseout="PTZStop()"><img
															src="#{request.contextPath}/asset/images/growth/onbut_left.png"
															width="9" height="13" /></a></td>
													<td></td>
													<td valign="middle" id="vbut5"><a id="v9"
														href="Javascript: void(0)" onmousedown="PTZRight()"
														onmouseup="PTZStop()" onmouseout="PTZStop()"><img
															src="#{request.contextPath}/asset/images/growth/but_right.png"
															width="9" height="13" /></a> <a style="display: none"
														id="v10" href="Javascript: void(0)"
														onmousedown="PTZRight()" onmouseup="PTZStop()"
														onmouseout="PTZStop()"><img
															src="#{request.contextPath}/asset/images/growth/onbut_right.png"
															width="9" height="13" /></a></td>
												</tr>
												<tr>
													<td></td>
													<td valign="top" id="vbut6"><a id="v11"
														href="Javascript: void(0)" onmousedown="PTZDown()"
														onmouseup="PTZStop()" onmouseout="PTZStop()"><img
															src="#{request.contextPath}/asset/images/growth/but_down.png"
															width="12" height="9" /></a> <a style="display: none"
														id="v12" href="Javascript: void(0)"
														onmousedown="PTZDown()" onmouseup="PTZStop()"
														onmouseout="PTZStop()"><img
															src="#{request.contextPath}/asset/images/growth/onbut_down.png"
															width="12" height="9" /></a></td>
													<td></td>
												</tr>
											</table>
											<table width="105" height="77" cellpadding="0"
												cellspacing="0" style="float: right;">
												<tr>
													<td width="41" valign="middle" align="left" id="vbut7">
														<a id="v13" href="Javascript: void(0)"
														onmousedown="PTZFarFocus()" onmouseup="PTZStop()"
														onmouseout="PTZStop()"><img
															src="#{request.contextPath}/asset/images/growth/but_jian.png"
															width="14" height="14" /></a> <a style="display: none"
														id="v14" href="Javascript: void(0)"
														onmousedown="PTZFarFocus()" onmouseup="PTZStop()"
														onmouseout="PTZStop()"><img
															src="#{request.contextPath}/asset/images/growth/onbut_jian.png"
															width="14" height="14" /></a>
													</td>
													<td width="24"></td>
													<td width="40" valign="middle" align="left" id="vbut8">
														<a id="v15" href="Javascript: void(0)"
														onmousedown="PTZNearFocus()" onmouseup="PTZStop()"
														onmouseout="PTZStop()"><img
															src="#{request.contextPath}/asset/images/growth/but_jia.png"
															width="14" height="14" /></a> <a style="display: none"
														id="v16" href="Javascript: void(0)"
														onmousedown="PTZNearFocus()" onmouseup="PTZStop()"
														onmouseout="PTZStop()"><img
															src="#{request.contextPath}/asset/images/growth/onbut_jia.png"
															width="14" height="14" /></a>

													</td>
												</tr>
											</table>
										</div>
										<div class="videocj" style="float: left; margin-left: 330px; margin-top: -55px;">
											<a style="color: #ff0000; font-size: 14px; text-decoration: underline;"
												href="http://img1.farmeasy.cn/plugin/cmsocx.exe"> <img
												src="#{request.contextPath}/asset/images/xiazai.png" />
											</a>
										</div></div>
									</td>
								</tr>
							</table>
							<!-- 非IE浏览器显示的视频插件 -->
							<table id="videoThree" width="100%" cellpadding="0" cellspacing="0" style="display: none;">
								<tr>
									<td valign="top" class="videobox"
										style="width: auto; z-index: 0; position: relative;">
										<div class="videobg"
											style="overflow: hidden; background: none; z-index: 99999; position: relative;">
											<div id="PlayViewThree" class="videoimg"
												style="overflow: hidden; width: 690px; height: 510px; top:50%; left:50%; margin:-255px 0 0 -345px; position: absolute;">
												<object classid="clsid:D5E14042-7BF6-4E24-8B01-2F453E8154D7"
													id="PlayViewOCX" width="690" height="510" name="ocx"
													style="margin-left: -5px;"><img src="#{request.contextPath}/asset/images/growth/shp02.png" width="690" height="510" style="margin-top:25px;"/> </object>
											</div>
										</div>
									</td>
								</tr>
							</table>
						</td>
					</tr>
				</table>
				<div class="clear"></div>
			</div> <!---作物生长情况结束-->
			<a:form>
				<a:queue requestDelay="10" ignoreDupResponses="true" />
				<a:jsFunction name="getTreeListMe" action="#{cropGrowthHome.getTreeList}" data="#{cropGrowthHome.urlString}" oncomplete="linkagebinfoid(data);">
		  			<a:actionparam name="baseId" assignTo="#{cropGrowthHome.baseId}"/>
				</a:jsFunction>
			</a:form>
		</td>
		<!--中间头部开始-->
		<script>
			//<![CDATA[
			function getTreeList(baseId){
					if(baseId > 0){
						getTreeListMe(baseId);
					}
				}
			 function linkagebinfoid (data){
					location.href = "#{request.contextPath}"+data;
				}
				
				var strIP = "#{cropGrowthHome.videoInfo.appIp}";
				var strPort = "#{cropGrowthHome.videoInfo.appPort}";
				var  strName1 = "#{cropGrowthHome.videoInfo.appUsername}";
				var strPwd1 = "#{cropGrowthHome.videoInfo.appPassword}";
				var ChanNum1 = "#{cropGrowthHome.videoInfo.appDeviceVideoChannelNo}";
				var cameraID1 = "#{cropGrowthHome.videoInfo.appDeviceVideoChannelNo}";
				var web_url = "#{cropGrowthHome.videoInfo.webcamUrl}";
				if(/msie/.test(navigator.userAgent.toLowerCase())){
					//IE浏览器
					if("#{cropGrowthHome.videoInfo.accessWay}" == "1"){
						window.onload = function StartPlayView(){
							var OCXobj = document.getElementById("PlayViewOCX");
							OCXobj.SetOcxMode(0);
							OCXobj.SetWndNum(1);
							strXML = "<?xml version='1.0'?><Parament><CameraID>" + cameraID1 + "</CameraID><DeviceIP>" + strIP + "</DeviceIP><DevicePort>" + strPort + "</DevicePort><User>"+ strName1 +"</User><Password>" + strPwd1 + "</Password><ChannelNum>"+ ChanNum1 +"</ChannelNum><ProtocolType>0</ProtocolType><StreamType>0</StreamType><Transmits></Transmits></Parament>";
					        	OCXobj.StartTask_Preview_InWnd(strXML,0);
					    }
					}
				}else{
					if(web_url != ""){
						jQuery("#videoOne").hide();
		                jQuery("#videoTwo").hide();
		                jQuery("#videoThree").show();
						 var vID        = "PlayViewThree"; 
		                 var vWidth     = 690;                //播放器宽度设置
		                 var vHeight    = 510;
		                 var vPlayer    = "#{request.contextPath}/document/player.swf"; //播放器文件
		                 var vHLSset    = "#{request.contextPath}/document/HLS.swf";             //HLS配置
		                 var vPic       = "#{request.contextPath}/asset/images/iphone/videosImg.jpg";    //视频缩略图
		                 var vCssurl    = "#{request.contextPath}/asset/css/mini.css";     //移动端CSS应用文件
		                 var  vHLSurl    = web_url;
					}
				}
				function StopPlayView(){
			        var OCXobj = document.getElementById("PlayViewOCX");
			        OCXobj.StopAllPreview();
			    }
			    /*****设置抓图格式为JPG******/
			    function CatchPicJPG(){
			        var OCXobj = document.getElementById("PlayViewOCX");
			        OCXobj.SetCapturParam("C:\\pic",0);
			    }
			    /*****设置抓图格式为BMP******/
			    function CatchPicBMP(){
			        var OCXobj = document.getElementById("PlayViewOCX");
			        OCXobj.SetCapturParam("C:\\pic",1);
			    }
			    /*****云台：左上******/
			    function PTZLeftUp(){
			        var OCXobj = document.getElementById("PlayViewOCX");
			        OCXobj.StartTask_PTZ(25,3);
			    }
			    /*****云台：上******/
			    function PTZUp(){
			        var OCXobj = document.getElementById("PlayViewOCX");
			        OCXobj.StartTask_PTZ(21,3);
			    }
			    /*****云台：右上******/
			    function PTZRightUp(){
			        var OCXobj = document.getElementById("PlayViewOCX");
			        OCXobj.StartTask_PTZ(26,3);
			    }
			    /*****云台：左******/
			    function PTZLeft(){
			        var OCXobj = document.getElementById("PlayViewOCX");
			        OCXobj.StartTask_PTZ(23,3);
			    }
			    /*****云台：自转******/
			    function PTZAuto(){
			        var OCXobj = document.getElementById("PlayViewOCX");
			        OCXobj.StartTask_PTZ(29,3);
			    }
			    /*****云台：右******/
			    function PTZRight(){
			        var OCXobj = document.getElementById("PlayViewOCX");
			        OCXobj.StartTask_PTZ(24,3);
			    }
			    /*****云台：左下******/
			    function PTZLeftDown(){
			        var OCXobj = document.getElementById("PlayViewOCX");
			        OCXobj.StartTask_PTZ(27,3);
			    }
			    /*****云台：下******/
			    function PTZDown()
			    {
			        var OCXobj = document.getElementById("PlayViewOCX");
			        OCXobj.StartTask_PTZ(22,3);
			    }
			    /*****云台：右下******/
			    function PTZRightDown()
			    {
			        var OCXobj = document.getElementById("PlayViewOCX");
			        OCXobj.StartTask_PTZ(28,3);
			    }
			    /*****云台：停止******/
			    function PTZStop()
			    {
			        var OCXobj = document.getElementById("PlayViewOCX");
			        OCXobj.StartTask_PTZ(-21,3);
			    }
			    /*****云台：焦距+******/
			    function PTZAddTimes()
			    {
			        var OCXobj = document.getElementById("PlayViewOCX");
			        OCXobj.StartTask_PTZ(11,3);
			    }
			    /*****云台：焦距-******/
			    function PTZMinusTimes()
			    {
			        var OCXobj = document.getElementById("PlayViewOCX");
			        OCXobj.StartTask_PTZ(12,3);
			    }
			    /*****云台：焦点+******/
			    function PTZFarFocus()
			    {
			        var OCXobj = document.getElementById("PlayViewOCX");
			        OCXobj.StartTask_PTZ(13,3);
			    }
			    /*****云台：焦点-******/
			    function PTZNearFocus()
			    {
			        var OCXobj = document.getElementById("PlayViewOCX");
			        OCXobj.StartTask_PTZ(14,3);
			    }
			    /*****云台：光圈+******/
			    function PTZLargeAperture()
			    {
			        var OCXobj = document.getElementById("PlayViewOCX");
			        OCXobj.StartTask_PTZ(15,3);
			    }
			    /*****云台：光圈-******/
			    function PTZSmallAperture()
			    {
			        var OCXobj = document.getElementById("PlayViewOCX");
			        OCXobj.StartTask_PTZ(16,3);
			    }
			    /*****云台：调用预置点******/
			    function GetPt()
			    {
			        var OCXobj = document.getElementById("PlayViewOCX");
			        ptNum = document.getElementById("SelectGetpt").value;
			        var ret = OCXobj.PTZCtrlGotoPreset(ptNum); 
			             
			    }
			    /*****云台：设置预置点******/
			    function SetPt()
			    {
			        var OCXobj = document.getElementById("PlayViewOCX");
			        ptNum = document.getElementById("SelectSetpt").value;
			        var ret = OCXobj.PTZCtrlSetPreset(parseInt(ptNum));
			    }
			//]]>
		  	</script>
		<script language="javascript" for="PlayViewOCX"
			event="FireWindowsNumber(iSel)">   
				szMsg = "窗口分割消息,窗口数" + iSel;  
			</script>
		<script language="javascript" for="PlayViewOCX"
			event="FireSelectWindow(iSel)"> 
				szMsg = "窗口选择消息,窗口" + iSel;  
			</script>
		<script language="javascript" for="PlayViewOCX"
			event="FireStartRealPlay(iSel)">
				szMsg = "开始预览消息" + iSel;  
			</script>
		<script language="javascript" for="PlayViewOCX"
			event="FireStopRealPlay(iSel)">   
				szMsg = "停止预览消息" + iSel ;  
			</script>
		<script language="javascript" for="PlayViewOCX"
			event="FireStopPreviewAll()">   
				szMsg = "停止所有预览消息" ;  
			</script>
		<script language="javascript" for="PlayViewOCX"
			event="FireOpenSound(iSel)">   
				szMsg = "打开声音消息" ;  
			</script>
		<script language="javascript" for="PlayViewOCX"
			event="FireCloseSound(iSel)">   
				szMsg = "关闭声音消息" ;  
			</script>
		<script language="javascript" for="PlayViewOCX"
			event="FireChangeWindow(iFrom,iTo)">   
				szMsg = "互换窗口消息"+ "从" +iFrom+"到"+iTo;  
			</script>
		<script language="javascript" for="PlayViewOCX"
			event="FirePTZCtrl(iWindowID,iCtrlID,iSpeed)">   
				szMsg = "云台控制消息:"+ "窗口:" +iWindowID+"控制:"+iCtrlID+"速度:"+ iSpeed;  
			</script>
		<script language="javascript" for="PlayViewOCX"
			event="FireStartRecord(iWindowID)">   
				szMsg = "开始录像"+ iWindowID;  
			</script>
		<script language="javascript" for="PlayViewOCX"
			event="FireStopRecord(iWindowID)">   
				szMsg = "停止录像"+ iWindowID;  
			</script>
		<script language="javascript" for="PlayViewOCX"
			event="FireCatchPic(szPath,iWindowID)">   
				szMsg = "抓图"+ "路径" +szPath+"窗口"+iWindowID;  
			</script>
		<script language="javascript" for="PlayViewOCX"
			event="FireStartPlayBack(lWindowID)">  
			</script>
		<script language="javascript" for="PlayViewOCX"
			event="FireStopPlayBack(lWindowID)">  
			</script>
		<script type="text/javascript" language="JavaScript">	
			//连接设备
			if(/msie/.test(navigator.userAgent.toLowerCase())){
				//IE浏览器
				if("#{cropGrowthHome.videoInfo.accessWay}" == "2"){
					window.onload = function ConnDevice(){
						//alert(noTemp);alert(passWord);alert(userName);alert(ip);
						var iConnHandle = -1;		//连接设备返回句柄
						var iPlayHandle = -1;		//播放视频返回句柄
						//var iChannel = 1;			//设备视频通道
						var iStreamType = 1;		//取设备流类型	0：主码流	1：子码流
						var szAccount= "#{cropGrowthHome.videoInfo.sn}";
						var szRegIP = "#{cropGrowthHome.videoInfo.ip}";
						var iRegPort = 7660;
						//7660
						//流媒体服务IP、端口
						var iStreamServerPort = 7554;//7554
						var iPlayConnMode = 0;		//取流方式	0：与设备直连取流	1：通过流媒体转发取流
						var PlayOCX = document.getElementById("ppvs");
						iConnHandle = PlayOCX.ConnectDeviceByACS(szAccount, szRegIP, iRegPort,"#{cropGrowthHome.videoInfo.username}", "#{cropGrowthHome.videoInfo.password}");
						if (  0 > iConnHandle)
						{
							alert("连接设备失败！");
						}else{
							if ( 0 > iConnHandle)	{
								alert("请先连接设备，并确保连接成功！");
								return;
							}
							var PlayOCX = document.getElementById("ppvs");
							PlayOCX.StreamPlayStartByTCP(szRegIP, iStreamServerPort, szAccount, "1", iStreamType, 1);
						}
					}
				}
			}else{
				if(web_url != ""){
					jQuery("#videoOne").hide();
	                jQuery("#videoTwo").hide();
	                jQuery("#videoThree").show();
					 var vID        = "PlayViewThree"; 
	                 var vWidth     = 690;                //播放器宽度设置
	                 var vHeight    = 510;                   //播放器宽度设置
	                 var vPlayer    = "#{request.contextPath}/document/player.swf"; //播放器文件
	                 var vHLSset    = "#{request.contextPath}/document/HLS.swf";             //HLS配置
	                 var vPic       = "#{request.contextPath}/asset/images/iphone/videosImg.jpg";    //视频缩略图
	                 var vCssurl    = "#{request.contextPath}/asset/css/mini.css";     //移动端CSS应用文件
	                 var  vHLSurl    = web_url;
				}
			}
			
			function PTZControlOn(channelNo,temp)
			{
				if(temp == 12){
				   jq("#v1").attr("src","#{request.contextPath}/asset/images/growth/onbut_jian.png");
				}
				if(temp == 11){
				   jq("#v2").attr("src","#{request.contextPath}/asset/images/growth/onbut_jia.png");
				}
				if(temp == 21){
				   jq("#v3").attr("src","#{request.contextPath}/asset/images/growth/onbut_up.png");
				}
				if(temp == 23){
				   jq("#v4").attr("src","#{request.contextPath}/asset/images/growth/onbut_left.png");
				}
				if(temp == 24){
				   jq("#v5").attr("src","#{request.contextPath}/asset/images/growth/onbut_right.png");
				}
				if(temp == 22){
				   jq("#v6").attr("src","#{request.contextPath}/asset/images/growth/onbut_down.png");
				}
				if(temp == 14){
				   jq("#v7").attr("src","#{request.contextPath}/asset/images/growth/onbut_jian.png");
				}
				if(temp == 13){
				   jq("#v8").attr("src","#{request.contextPath}/asset/images/growth/onbut_jia.png");
				}
				//channelNo:函数设备通道号
				//temp：命令控制号（11 - 焦距变大，12 - 焦距变小 ，13 - 焦点变大  ，14 - 焦点变小 ， 15 - 光圈变大，16 - 光圈变小 ，21 - 云台向上， 22 - 云台向下， 23 - 云台左转， 24 - 云台右转）
				//alert(channelNo+'  '+temp);	
				var PlayOCX = document.getElementById("ppvs");
				PlayOCX.PTZControl(channelNo,temp,0,1);
			}

			function PTZControlOff(channelNo,temp)
			{
				if(temp == 12){
					   jq("#v1").attr("src","#{request.contextPath}/asset/images/growth/but_jian.png");
					}
					if(temp == 11){
					   jq("#v2").attr("src","#{request.contextPath}/asset/images/growth/but_jia.png");
					}
					if(temp == 21){
					   jq("#v3").attr("src","#{request.contextPath}/asset/images/growth/but_up.png");
					}
					if(temp == 23){
					   jq("#v4").attr("src","#{request.contextPath}/asset/images/growth/but_left.png");
					}
					if(temp == 24){
					   jq("#v5").attr("src","#{request.contextPath}/asset/images/growth/but_right.png");
					}
					if(temp == 22){
					   jq("#v6").attr("src","#{request.contextPath}/asset/images/growth/but_down.png");
					}
					if(temp == 14){
					   jq("#v7").attr("src","#{request.contextPath}/asset/images/growth/but_jian.png");
					}
					if(temp == 13){
					   jq("#v8").attr("src","#{request.contextPath}/asset/images/growth/but_jia.png");
					}
				//channelNo:函数设备通道号
				//temp：命令控制号（11 - 焦距变大，12 - 焦距变小 ，13 - 焦点变大  ，14 - 焦点变小 ， 15 - 光圈变大，16 - 光圈变小 ，21 - 云台向上， 22 - 云台向下， 23 - 云台左转， 24 - 云台右转）
				//alert('    ');
				var PlayOCX = document.getElementById("ppvs");
				PlayOCX.PTZControl(channelNo,temp,1,1);
			}
			 jq(document).ready(function () {
			 	jq("#CuPlayerVideo_video_object").remove();
	         });

			 window.onload = function removeObj(){
				 jq("#CuPlayerVideo_video_object").remove();
				 }
		</script>
		
		<script type="text/javascript" src="#{request.contextPath}/asset/js/hls.min.js"></script>
	</ui:define>
</ui:composition>
