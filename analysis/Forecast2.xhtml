<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<f:view xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:s="http://jboss.com/products/seam/taglib"
   xmlns:rich="http://richfaces.org/rich"
   xmlns:a="http://richfaces.org/a4j"
   contentType="text/html">
   <html>
   <head>
   <script src="../asset/js/javascripts/Grid.js" type="text/javascript"></script>
<link href="../asset/js/javascripts/Grid.css" rel="stylesheet" type="text/css" />
   <style type="text/css">
			BODY{margin:0px;padding:0px;font-family:"Droid Sans",sans-serif;-webkit-font-smoothing:antialiased;overflow-x : hidden; overflow-y : hidden;}
			#hdr{display:block;margin:40px 0px 0px 80px;padding:0px;line-height:1.2em;font-size:28px;color:#fff;text-shadow:0px 1px 1px rgba(51, 51, 51, 0.1);}
			#demoLinks{margin:0px 0px 0px 80px;line-height:1.5em;font-size:12px;}
			#demoDiv{margin:20px 0px 40px 80px;padding:16px;border:1px solid #ccc;border-radius:16px;width:800px;height:360px;background-color:#eee;background-image:-webkit-linear-gradient(top, #fff 0%, rgba(255, 255, 255, 0) 2%);background-image:-moz-linear-gradient(top, #fff 0%, rgba(255, 255, 255, 0) 2%);background-image:-ms-linear-gradient(top, #fff 0%, rgba(255, 255, 255, 0) 2%);background-image:-o-linear-gradient(top, #fff 0%, rgba(255, 255, 255, 0) 2%);background-image:linear-gradient(top, #fff 0%, rgba(255, 255, 255, 0) 2%);box-shadow:1px 1px 1px rgba(51, 51, 51, 0.1);}
			#demoGrid{width:100%;height:100%;background-color:#fff;color:#1a2731;overflow:auto;}
			#demoTable{border-spacing:0px;border-collapse:collapse;line-height:1.5em;font-size:12px;color:#333;}
			#demoTable TH{padding:4px 12px 4px 6px;text-align:left;border-width:0px 1px 1px 0px;border-style:solid;border-color:#ccc;background-color:#eee;height:1.5em;white-space:nowrap;}
			#demoTable TD{padding:6px 12px 6px 6px;text-align:right;border-width:0px 0px 1px 0px;border-style:solid;border-color:#eee;height:1.5em;white-space:nowrap;}
			#demoTableCol1{background-color:#fafafa;}
			.txt{text-align:left !important;}
			.num{text-align:right !important;}
			@media print{#demoDiv,#demoGrid{width:auto;height:auto;overflow:visible;}}
			.fakeContainer{
			    padding: 0px;
			    border: none;
				min-width:950px;
				height:600px;
			 	overflow: auto; 
			}
			.fakeContainer .g_HR{ background:#e3f1fc; border :1px solid #CADDEC !important; margin-right:-1px; font-weight:normal; font-size:14px; color:#65666a;}
			.fakeContainer .g_BR{border:1px solid #CADDEC ; margin-top:-1px; margin-right:-1px; background:#f8fbfe; font-size:12px; corlor:#666;}
			.g_HeadStatic .g_Cl:last-child .g_HR{ margin-right:0;}
			.g_BodyStatic .g_Cl:last-child .g_BR{ margin-right:0;}
	
				/* 通用无数据样式  */
			.farming_nodata{ overflow:hidden;}
			.warning_noData{ width:508px; padding-top:60px; margin:125px auto 220px; text-align:center; background:url(../asset/images/farmingIco20.png) no-repeat center top;}
			.warning_noData em{ font-style:normal; font-family:'微软雅黑'; font-size:18px; color:#333;}
			.warning_noData p{ line-height:26px; margin-top:24px; font-size:14px; font-family:'黑体'; color:#5c5c5c;}
			 .g_Cl01{
				width:110px;
				text-align:center;
			}
			 .g_Cl03{
				width:110px;
				text-align:center;
			}
		</style>
		
		</head>
		
		<body>
<h:panelGroup rendered="#{forecastHome.realList ne '[]'}">
                        <div class="fakeContainer" id="fakeContainer1" name="fakeContainer1" >
                        <table id="demoTable" class="sDefault sDefault-Main">
                        <thead>
                                <tr>
                                    <td class="zpth_td zplan" >区域</td>
                                	<td class="zpth_td zplan" >作物</td>
                                    <td class="zpth_td zplan" >种植环境</td>
                                    <td class="zpth_td zplan" >种植/占地面积</td>
                                    <td class="zpth_td zplan" >种植标准</td>
                                    <td class="zpth_td zplan" >定植时间 </td>
                                	<td class="zpth_td zplan" >采收开始</td>
                                	<td class="zpth_td zplan" >采收结束</td>
                                	<td class="zpth_td zplan" >预计产量</td>
                                </tr>
                                </thead>
                            	<a:repeat value="#{forecastHome.realList}" var="_real" rowKeyVar="_index"> 
                                <tr>		   
                                    <td class="zp_tdleft kh_td_font kh_leftbg" >#{_real.tunnelInfoId.tunnelName}</td><td class="zp_tdleft kh_td_font kh_leftbg" title="#{_real.breedBreedId.name}">#{_real.breedBreedId.plant.name}</td><td class="zp_tdleft kh_td_font kh_leftbg" >#{forecastHome.getPlantEnvType(_real.tunnelInfoId.plantEnvTypeId).name}</td><td class="zp_tdleft kh_td_font kh_leftbg "><h:outputText value="#{_real.cropArea}"><f:convertNumber pattern="#0.00"/></h:outputText>/<h:outputText value="#{_real.tunnelInfoId.area}"><f:convertNumber pattern="#0.00"/></h:outputText>亩</td><td class="zp_tdleft kh_td_font kh_leftbg">#{_real.schedulingModelId.plantingPattern.name}</td><td class="zp_tdleft kh_td_font kh_leftbg">#{_real.schedulingModelId.valueTime}月份<h:outputText  rendered="#{_real.schedulingModelId.valueTenDays eq 1}" value="上旬"/><h:outputText  rendered="#{_real.schedulingModelId.valueTenDays eq 2}" value="中旬"/><h:outputText  rendered="#{_real.schedulingModelId.valueTenDays eq 3}" value="下旬"/></td><td class="zp_tdleft kh_td_font kh_leftbg">#{_real.schedulingModelId.plantBeginTime}月份<h:outputText  rendered="#{_real.schedulingModelId.plantBeginTenDays eq 1}" value="上旬"/><h:outputText  rendered="#{_real.schedulingModelId.plantBeginTenDays eq 2}" value="中旬"/><h:outputText  rendered="#{_real.schedulingModelId.plantBeginTenDays eq 3}" value="下旬"/></td><td class="zp_tdleft kh_td_font kh_leftbg">#{_real.schedulingModelId.plantEndTime}月份<h:outputText  rendered="#{_real.schedulingModelId.plantEndTenDays eq 1}" value="上旬"/><h:outputText  rendered="#{_real.schedulingModelId.plantEndTenDays eq 2}" value="中旬"/><h:outputText  rendered="#{_real.schedulingModelId.plantEndTenDays eq 3}" value="下旬"/>                                	</td><td class="zp_tdleft kh_td_font kh_leftbg"><h:outputText value="#{_real.allYield}"><f:convertNumber pattern="#0.00"/></h:outputText></td>
                                </tr>
                                </a:repeat>
                             </table>
                             </div>
                             <div class="fakeContainer "  id="fakeContainer2" name="fakeContainer"  >
                        <table id="demoTable1" class="sDefault sDefault-Main">                     
                        <thead>
                                <tr>
                                	<td class="zpth_td zplan">区域</td>
                                	<td class="zpth_td zplan">作物</td>
                                    <td class="zpth_td zplan">种植环境</td>
                                    <td class="zpth_td zplan">种植/占地面积</td> 
                                	<a:repeat value="#{forecastHome.dateTime}" var="_date" rowKeyVar="_index"> 
										<td class="zpth_td zplan">
                                           <div style="width:91px"><h:outputText value="#{_date.substring(2, _date.length())}"></h:outputText>月</div>
                                        </td>
                                    </a:repeat>
                                	<td class="zpth_td zplan"><div style="width:91px">预计产量</div></td>
                                </tr>
                                </thead>
                            	<a:repeat value="#{forecastHome.realList}" var="_real" rowKeyVar="_index"> 
                                <tr>
                                    <td class="zp_tdleft kh_td_font kh_leftbg" >#{_real.tunnelInfoId.tunnelName}</td>
                                    <td class="zp_tdleft kh_td_font kh_leftbg" title="#{_real.breedBreedId.name}">#{_real.breedBreedId.plant.name}</td>
                                    <td class="zp_tdleft kh_td_font kh_leftbg" >#{forecastHome.getPlantEnvType(_real.tunnelInfoId.plantEnvTypeId).name}</td>
                                    <td class="zp_tdleft kh_td_font kh_leftbg "><h:outputText value="#{_real.cropArea}"><f:convertNumber pattern="#0.00"/></h:outputText>/<h:outputText value="#{_real.tunnelInfoId.area}"><f:convertNumber pattern="#0.00"/></h:outputText>亩</td>
                                	<s:formattedText value="#{_real.tempStr}"/>
                                	<td class="zp_tdleft kh_td_font kh_leftbg"><h:outputText value="#{_real.allYield}"><f:convertNumber pattern="#0.00"/></h:outputText></td>
                                </tr>
                                </a:repeat>
                             </table>
                             </div>
                             <!-- #{forecastHome.resetAllNull()} -->
                             <script type="text/javascript">
                           //<![CDATA[
                             window.onload = function(){
                            	 //
                            	 //console.log(window.parent.iframeWidth)
                            	 //console.log(document.getElementById("fakeContainer1").clientWidth)
                            	 //console.log(document.getElementById("fakeContainer1").offsetWidth)
                            	 var trlength = "#{forecastHome.realList.size()}";
                            	 var frame = window.parent.iframeWidth;
                            	 /* if(parseInt(trlength,10)>15){
                            		 frame -= 16;
                            	 } */
                            	 frame = frame-2;
                            	 var arr = new Array();
                            	 var avg = frame/9;
                            	 avg = avg.toFixed(2);
                            	 for(var i = 0;i<9;i++){
                            		 //console.log(avg)
                            		 arr.push(avg);                           		 
                            	 }
                            	 var myGrid = new Grid("fakeContainer1", {
             				    	srcType : "dom", 
             				    	srcData : "demoTable", 
             				    	allowGridResize : true, 
             				    	allowSelections : true, 
             				    	colBGColors : ["#fafafa"], 
             				    	fixedCols : 4,
             				    	colWidths : arr,
             				    	viewId:1
             				    }); 
                            	 var arr2 = new Array();
                            	 for(var i = 0;i<17;i++){
                            		 if(i==1){
                                		 arr2[1]=110;   
                                     }else if(i==3){
                                		 arr2[i]=110;   
                                     }else{
                                    	arr2[i]=90;   
                                     }
                            		                     		 
                            	 }                           	 
                            	 var myGrid = new Grid("fakeContainer2", {
              				    	srcType : "dom", 
              				    	srcData : "demoTable1", 
              				    	allowGridResize : true, 
              				    	allowSelections : true, 
              				    	colBGColors : ["#fafafa"], 
              				    	fixedCols : 4,
              				    	colWidths : arr2,
              				    	viewId:0
              				    });              				    
                             }
                           //]]>
                             </script>
                        </h:panelGroup>
                        <s:div styleClass="farming_nodata" rendered="#{forecastHome.realList eq '[]'}">
                                    	<div class="warning_noData">
                                        	<em>很遗憾，没有查询到有关数据</em>
                                        </div>
                                    </s:div>
                        </body>
</html>
</f:view>
