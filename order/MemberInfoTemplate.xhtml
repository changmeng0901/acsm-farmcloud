<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich" 
    xmlns:a="http://richfaces.org/a4j">
	<table width="100%" cellpadding="0" cellspacing="0" style=" margin-top:-3px; *margin-top:-3px; _margin-top:-9px;">
   		<tr>
   			<td align="center" valign="top" >
   				<div class="rigtjr">
   					
							<div>
							<div class="list_block" style="overflow:hidden;">
								<div >
									<rich:panel style="width:100%; " id="showTable">
							    		<table cellspacing="0" cellpadding="0" width="100%" class="lis2_table" style="border-left: 1px solid #DADADA; border-bottom: 1px solid #DADADA; ">
											<tr>
                                               	  <td width="8%" align="right" class="calldt" style="border-left:#e677ob solid 1px;" >客户编号:</td>
												  <td width="12%" class="calldt call_rtd call_f1">
												  	<h:outputText value="#{memberInfoTemplate.memberInfo.memberCode}"/>
												  </td>
												  <td width="8%" align="right"  class="calldt">客户姓名:</td>
												  <td width="12%" class="calldt call_rtd call_f1" id="cname" style="word-wrap: break-word;word-break:break-all;cursor:pointer;" onmouseover="this.style.color='#D7D7D7'" onmouseout="this.style.color=''" ondblclick="setName(#{memberInfoTemplate.memberInfo.memberInfoId}); return false;">
												  	<h:outputText rendered="#{memberInfoTemplate.memberInfo.realname != ''}" value="#{memberInfoTemplate.memberInfo.realname}"/>
		                                        	<h:outputText rendered="#{memberInfoTemplate.memberInfo.sex == 1}" value=""/>
		                                        	<h:outputText rendered="#{memberInfoTemplate.memberInfo.sex == 2}" value=""/>
		                                        	<h:outputText rendered="#{memberInfoTemplate.memberInfo.sex == 3}" value=""/>
												  </td>
												  <td width="8%" align="right"  class="calldt">性<span style="padding:0 12px;"></span>别: </td>
	                                            <td width="12%" class="calldt call_rtd call_f1" id="csex" style="width:300px;word-wrap: break-word;word-break:break-all;cursor:pointer;" onmouseover="this.style.color='#D7D7D7'" onmouseout="this.style.color=''" ondblclick="setSex(#{memberInfoTemplate.memberInfo.memberInfoId}); return false;">
	                                            	<h:outputText rendered="#{memberInfoTemplate.memberInfo.sex == 1}" value="男"/>
		                                        	<h:outputText rendered="#{memberInfoTemplate.memberInfo.sex == 2}" value="女"/>
		                                        	<h:outputText rendered="#{memberInfoTemplate.memberInfo.sex == 3}" value="其它"/>
	                                            </td>
												  <td width="8%" align="right" class="calldt"> 客户类别:</td>
												  <td width="12%" class="calldt call_rtd call_f1" id="cgenre" style="width:300px;word-wrap: break-word;word-break:break-all;cursor:pointer;" onmouseover="this.style.color='#D7D7D7'" onmouseout="this.style.color=''" ondblclick="setGenre(#{memberInfoTemplate.memberInfo.memberInfoId}); return false;">
												  	<h:outputText rendered="#{memberInfoTemplate.memberInfo.memberType == 1}" value="个人"/>
                                        			<h:outputText rendered="#{memberInfoTemplate.memberInfo.memberType == 2}" value="企业代表"/>
												  </td>
												  <td width="8%" align="right" class="calldt">客户等级:</td>
												  <td width="12%" class="calldt call_rtd call_f1">
												  	<h:outputText value="#{memberInfoTemplate.memberInfo.memberLevel.name}"/>
												  </td>
										  	</tr>
										  	<tr>
	                                            <td width="8%" align="right" class="calldt">客户来源:</td>
	                                            <td width="12%" class="calldt call_rtd call_f1">
	                                            	<h:outputText value="朋友介绍" rendered="#{memberInfoTemplate.memberInfo.memberSource == 74}"/>
	                                            	<h:outputText value="网上注册" rendered="#{memberInfoTemplate.memberInfo.memberSource == 75}"/>
	                                            </td>
	                                            <td width="8%" align="right"  class="calldt">手<span style="padding:0 12px;"></span>机: </td>
	                                            
	                                           <td width="12%" class="calldt call_rtd call_f1" id="cphone" style="width:300px;word-wrap: break-word;word-break:break-all;cursor:pointer;" onmouseover="this.style.color='#D7D7D7'" onmouseout="this.style.color=''" ondblclick="setPhone(#{memberInfoTemplate.memberInfo.memberInfoId}); return false;">
												  	<h:outputText value="#{memberInfoTemplate.memberInfo.phone}"/>
												  </td>
	                                            
	                                             <td width="8%" align="right"  class="calldt">座<span style="padding:0 12px;"></span>机:</td>
												  <td width="12%" class="calldt call_rtd call_f1" id="zphone" style="width:300px;word-wrap: break-word;word-break:break-all;cursor:pointer;" onmouseover="this.style.color='#D7D7D7'" onmouseout="this.style.color=''" ondblclick="setZphone(#{memberInfoTemplate.memberInfo.memberInfoId}); return false;">
												  	<h:outputText value="#{null != memberInfoTemplate.telStr ? memberInfoTemplate.telStr : ''}"/>
												  </td>
	                                            <td width="8%" align="right" class="calldt">QQ:</td>
	                                            <td width="12%" class="calldt call_rtd call_f1" id="zQQ" style="width:50px;word-wrap: break-word;word-break:break-all;cursor:pointer;" onmouseover="this.style.color='#D7D7D7'" onmouseout="this.style.color=''" ondblclick="setZQQ(#{memberInfoTemplate.memberInfo.memberInfoId}); return false;">
	                                            <h:outputText value="#{memberInfoTemplate.qq}"></h:outputText>
	                                            </td>
	                                            <td width="8%" align="right" class="calldt">邮<span style="padding:0 12px;"></span>箱:</td>
	                                            <td width="12%" class="calldt call_rtd call_f1" id="zEmail" style="width:300px;word-wrap: break-word;word-break:break-all;cursor:pointer;" onmouseover="this.style.color='#D7D7D7'" onmouseout="this.style.color=''" ondblclick="setZemail(#{memberInfoTemplate.memberInfo.memberInfoId}); return false;">
	                                            	<h:outputText value="#{memberInfoTemplate.email}">
													</h:outputText>
	                                            </td>
										  	</tr>
										  	<tr>
                                                <td width="8%" align="right" class="calldt">生<span style="padding:0 12px;"></span>日:</td>
                                                <td width="12%" class="calldt call_rtd call_f1" id="cbrithday" style="width:300px;word-wrap: break-word;word-break:break-all;cursor:pointer;" onmouseover="this.style.color='#D7D7D7'" onmouseout="this.style.color=''" ondblclick="setCBrithday(#{memberInfoTemplate.memberInfo.memberInfoId}); return false;">
                                                	<h:outputText value="#{memberInfoTemplate.memberInfo.birthday}"></h:outputText>
                                                </td>
                                                <td width="8%" align="right"  class="calldt">卡<span style="padding:0 12px;"></span>号: </td>
                                                <td width="12%" class="calldt call_rtd call_f1" id="cardCode" style="word-wrap: break-word;word-break:break-all;cursor:pointer;" onmouseover="this.style.color='#D7D7D7'" onmouseout="this.style.color=''" ondblclick="setCardCode(#{memberInfoTemplate.memberInfo.memberInfoId}); return false;">
                                                <h:outputText value="#{memberInfoTemplate.memberInfo.memberCardCode}"></h:outputText>
                                                </td>
                                                <td width="8%" align="right" class="calldt">余<span style="padding:0 12px;"></span>额:</td>
                                                <td width="12%" class="calldt call_rtd call_f1">
                                                #{null != memberInfoTemplate.memberInfo.balance ? '￥' : ''}<h:outputText value="#{memberInfoTemplate.memberInfo.balance}"></h:outputText>
                                                </td>
                                                <td width="8%" align="right" class="calldt">消费积分:</td>	
                                                <td width="12%" class="calldt call_rtd call_f1">
                                                 <h:outputText value="#{memberInfoTemplate.memberInfo.expendIntegral}"></h:outputText>
                                                </td>
                                                 <td width="8%" align="right"  class="calldt">等级积分:</td>
												  <td width="12%" class="calldt call_rtd call_f1">
												  <h:outputText value="#{memberInfoTemplate.memberInfo.gradeIntegral}"></h:outputText>
												  </td>
										  	</tr>
										  	<tr>
                                                <td width="8%" align="center" class="calldt" colspan="1" >住宅地址:</td>
                                                <td width="12%" class="calldt call_rtd call_f1" align="left" colspan="7" id="homeAddress" style="width:300px;word-wrap: break-word;word-break:break-all;cursor:pointer;" onmouseover="this.style.color='#D7D7D7'" onmouseout="this.style.color=''" ondblclick="setHomeAddress(#{memberInfoTemplate.memberInfo.memberInfoId}); return false;">
                                                <h:outputText value="#{memberInfoTemplate.memberInfo.homeAddress}"></h:outputText>
                                                </td>
                                                 <td width="8%" align="right"  class="calldt">邮<span style="padding:0 12px;"></span>编:</td>
												  <td width="12%" class="calldt call_rtd call_f1" id="cpost" style="width:300px;word-wrap: break-word;word-break:break-all;cursor:pointer;" onmouseover="this.style.color='#D7D7D7'" onmouseout="this.style.color=''" ondblclick="setPost(#{memberInfoTemplate.memberInfo.memberInfoId}); return false;">
												   <h:outputText value="#{memberInfoTemplate.memberInfo.homePort}"></h:outputText>
												  </td>
										  	</tr>
										  	<tr>
										  	 <td width="8%" align="center" class="calldt" colspan="1" >工作地址:</td>
                                                <td width="12%" class="calldt call_rtd call_f1" align="left" colspan="7" id="workAddress"  style="width:300px;word-wrap: break-word;word-break:break-all;cursor:pointer;" onmouseover="this.style.color='#D7D7D7'" onmouseout="this.style.color=''" ondblclick="setWorkAddress(#{memberInfoTemplate.memberInfo.memberInfoId}); return false;">
                                                <h:outputText value="#{memberInfoTemplate.memberInfo.workAddress}"></h:outputText>
                                                </td>
                                                <td width="8%" align="right"  class="calldt"></td>
												  <td width="12%" class="calldt call_rtd call_f1">
												  </td>
										  	</tr>
										  	<tr>
                                                <td width="8%" align="center" class="calldt" colspan="1">忌<span style="padding:0 12px;"></span>口:</td>
                                                <td width="12%" class="calldt call_rtd call_f1" align="left" colspan="4" id="tabooTD" style="width:300px;word-wrap: break-word;word-break:break-all;cursor:pointer;" onmouseover="this.style.color='#D7D7D7'" onmouseout="this.style.color=''" ondblclick="setProjectTS(#{memberInfoTemplate.memberInfo.memberInfoId}); return false;">
                                                <h:outputText value="#{memberInfoTemplate.memberInfo.taboo}"></h:outputText>
                                                </td>
                                                <td width="8%" align="center" class="calldt" colspan="1">爱<span style="padding:0 12px;"></span>好:</td>
                                                <td width="12%" class="calldt call_rtd call_f1" align="left" colspan="4" id="hobbyTD" style="width:300px;word-wrap: break-word;word-break:break-all;cursor:pointer;" onmouseover="this.style.color='#D7D7D7'" onmouseout="this.style.color=''" ondblclick="setHobbyTS(#{memberInfoTemplate.memberInfo.memberInfoId}); return false;">
                                                <h:outputText value="#{memberInfoTemplate.memberInfo.hobby}"></h:outputText>
                                                </td>
										  	</tr>
										  	<tr>
                                                <td width="8%" align="center" class="calldt" colspan="1">备<span style="padding:0 12px;"></span>注:</td>
                                                <td width="12%" class="calldt call_rtd call_f1" align="left" colspan="9" id="cremark" style="width:300px;word-wrap: break-word;word-break:break-all;cursor:pointer;" onmouseover="this.style.color='#D7D7D7'" onmouseout="this.style.color=''" ondblclick="setCremark(#{memberInfoTemplate.memberInfo.memberInfoId}); return false;">
                                                <h:outputText value="#{memberInfoTemplate.memberInfo.remark}"></h:outputText>
                                                </td>
                                                
										  	</tr>
										</table>
										</rich:panel>
									</div>
								</div>
	                      
	                   </div>
	                   	<div class="clear"></div>
					</div>
   			</td>
   			
   		</tr>
   		
   	</table>
   <!-- moban Form -->
  
   	<!-- 修改客户姓名 -->
   	<f:subview id="showNameDialog">
   	<!-- Modal -->
<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="namePanel" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">客户姓名</h4>
      </div>
      <div class="modal-body">
       <table cellspacing="0" cellpadding="0" style="margin-top: 25px" border="0" width="100%" >
		  <tr style="margin-top: 20px" >
		  	<td width="35%" style="text-align: right;">客户姓名：</td>
		  	<td width="65%" colspan="2" style="text-align: left;padding:5px 0">
		  		<input class="form-control nw180"  id="cname_text" name="name_text"></input>
		  	</td>
		  </tr>
		  <tr>
		  	<td></td>
		  	<td></td>
		  	
	  	</tr>
		</table>
      </div>
       <div class="modal-footer" style="text-align: center;">
        <a href="#" onclick="jquery('#namePanel').modal('hide');updatCname();" class="btn btn-primary">保存</a>
		<a href="#" onclick="jquery('#namePanel').modal('hide');" class="btn btn-default" >取消</a>
      </div>
    </div>
  </div>
</div>
</f:subview>
	<!-- 注册客户 -->
   	<f:subview id="showRegisterDialog">
   	<!-- Modal -->
<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="registerPanel" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">客户姓名</h4>
      </div>
      <div class="modal-body">
       <table cellspacing="0" cellpadding="0" style="margin-top: 25px" border="0" width="100%" >
		 <tr style="margin-top: 20px" >
		  	<td width="35%" style="text-align: right;">客户姓名：</td>
		  	<td width="65%" colspan="2" style="text-align: left;padding:5px 0">
		  		<input class="form-control nw180"  id="cregister_text" name="cregister"></input>
		  	</td>
		  </tr>
		  <tr>
		  	<td></td>
		  	<td></td>
	  	</tr>
		</table>
      </div>
      <div class="modal-footer" style="text-align: center;">
        <a href="#" onclick="jquery('#registerPanel').modal('hide');register();" class="btn btn-primary">保存</a>
		<a href="#" onclick="jquery('#registerPanel').modal('hide');" class="btn btn-default" >取消</a>
      </div>
    </div>
  </div>
</div>
</f:subview>
<!-- 修改客户性别 -->
   	<f:subview id="showSexDialog">
   		<!-- Modal -->
<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="sexPanel" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">客户性别</h4>
      </div>
      <div class="modal-body">
       <table cellspacing="0" cellpadding="0" style="margin-top: 25px" border="0" width="100%" >
		  <tr style="margin-top: 20px" >
		  	<td width="35%" style="text-align: right;">客户性别：</td>
		  	<td width="65%" colspan="2" style="text-align: left;padding:5px 0">
		  		<select id="csex_text" name="csex_text" class="selectpicker nw180">
		  			<option value="1">男</option>
		  			<option value="2">女</option>
		  			<option value="3">其它</option>
		  		</select>
		  	</td>
		  </tr>
		  <tr>
		  	<td></td>
		  	<td></td>
	  	</tr>
		</table>
      </div>
       <div class="modal-footer" style="text-align: center;">
        <a href="#" onclick="jquery('#sexPanel').modal('hide');updatCSex();" class="btn btn-primary">保存</a>
		<a href="#" onclick="jquery('#sexPanel').modal('hide');" class="btn btn-default" >取消</a>
      </div>
    </div>
  </div>
</div>
</f:subview>
<!-- 修改客户类别 -->
   	<f:subview id="showGenreDialog">
   	<!-- Modal -->
<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="genrePanel" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">客户类别</h4>
      </div>
      <div class="modal-body">
       <table cellspacing="0" cellpadding="0" style="margin-top: 25px" border="0" width="100%" >
		  <tr style="margin-top: 20px" >
		  	<td width="35%" style="text-align: right;">客户类别：</td>
		  	<td width="65%" colspan="2" style="text-align: left;padding:5px 0">
		  		<select id="cgenre_text" name="cgenre_text" class="selectpicker nw180">
		  			<option value="1">个人</option>
		  			<option value="2">企业代表</option>
		  		</select>
		  	</td>
		  </tr>
		  <tr>
		  	<td></td>
		  	<td></td>
	  	</tr>
		</table>
      </div>
       <div class="modal-footer" style="text-align: center;">
        <a href="#" onclick="jquery('#genrePanel').modal('hide');updatCGenre();" class="btn btn-primary">保存</a>
		<a href="#" onclick="jquery('#genrePanel').modal('hide');" class="btn btn-default" >取消</a>
      </div>
    </div>
  </div>
</div>
</f:subview>
	<!-- 修改家庭住址 -->
<f:subview id="showAddressDialog">
	<!-- Modal -->
<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="homeAddressPanel" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">住宅地址</h4>
      </div>
      <div class="modal-body">
       <table cellspacing="0" cellpadding="0" style="margin-top: 25px" border="0" width="100%" >
		  <tr style="margin-top: 20px" >
		  	<td width="16%" style="text-align: right;">住宅住址：</td>
		  	<td width="84%" colspan="2" style="text-align: left;padding:5px 0">
		  		<textarea rows="5" cols="60" id="homeAddress_textarea" name="description" style="resize:none;" class="big2"></textarea>
		  	</td>
		  </tr>
		  <tr>
		  	<td></td>
		  	<td></td>
	  	</tr>
		</table>
      </div>
       <div class="modal-footer" style="text-align: center;">
        <a href="#" onclick="updatHomeAddress();" class="btn btn-primary">保存</a>
		<a href="#" onclick="jquery('#homeAddressPanel').modal('hide');" class="btn btn-default" >取消</a>
      </div>
    </div>
  </div>
</div>
</f:subview>
	<!-- 修改忌口 -->
<f:subview id="showTrackDialog">
<!-- Modal -->
<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="statePanel" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">忌口</h4>
      </div>
      <div class="modal-body">
       <table cellspacing="0" cellpadding="0" style="margin-top: 25px" border="0" width="100%" >
		  <tr style="margin-top: 20px" >
		  	<td width="14%" style="text-align: right;">忌口：</td>
		  	<td width="86" colspan="2" style="text-align: left;padding:5px 0">
		  		<textarea rows="5" cols="60" id="taboo_textarea" name="description" style="resize:none;" class="big2"></textarea>
		  	</td>
		  </tr>
		  <tr>
		  	<td></td>
		  	<td></td>
	  	</tr>
		</table>
      </div>
      <div class="modal-footer" style="text-align: center;">
        <a href="#" onclick="updateTaboo(); " class="btn btn-primary">保存</a>
		<a href="#" onclick="jquery('#statePanel').modal('hide');" class="btn btn-default" >取消</a>
      </div>
    </div>
  </div>
</div>
</f:subview>
	<!-- 修改爱好 -->
<f:subview id="showHobbyDialog">
<!-- Modal -->
<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="hobbyPanel" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">爱好</h4>
      </div>
      <div class="modal-body">
       <table cellspacing="0" cellpadding="0" style="margin-top: 25px" border="0" width="100%" >
		  <tr>
		  	<td width="14%" style="text-align: right;">爱好：</td>
		  	<td width="86%" colspan="2" style="text-align: left;padding:5px 0">
		  		<textarea rows="5" cols="60" id="hobby_textarea" name="description" style="resize:none;" class="big2"></textarea>
		  	</td>
		  </tr>
		  <tr>
		  	<td></td>
		  	<td></td>
	  	</tr>
		</table>
      </div>
        <div class="modal-footer" style="text-align: center;">
        <a href="#" onclick="jquery('#hobbyPanel').modal('hide'); updateHobby(); " class="btn btn-primary">保存</a>
		<a href="#" onclick="jquery('#hobbyPanel').modal('hide');" class="btn btn-default" >取消</a>
      </div>
    </div>
  </div>
</div>


</f:subview>
<!-- 修改客户生日-->
   	<f:subview id="showCBrithdayDialog">
   	<!-- Modal -->
<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="cbirthdayPanel" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">生日</h4>
      </div>
      <div class="modal-body">
       <table cellspacing="0" cellpadding="0" style="margin-top: 25px" border="0" width="100%" >
		  <tr>
		  	<td width="34%" style="text-align: right;">生日：</td>
		  	<td width="66%" colspan="2" style="text-align: left;padding:5px 0">
		  		 <div class="input-append date form_datetime " >
			    <h:inputText id="cbrithdaytext" name="cbrithdaytext" styleClass="new_time" style="width:165px;"/>
			    
			    <span class="add-on"><i class="icon-th"></i></span>
			    </div>
		  	</td>
		  </tr>
		  <tr>
		  	<td></td>
		  	<td></td>
	  	</tr>
		</table>
      </div>
      
       <div class="modal-footer" style="text-align: center;">
        <a href="#" onclick="jquery('#cbirthdayPanel').modal('hide');updatCBrithday();" class="btn btn-primary">保存</a>
		<a href="#" onclick="jquery('#cbirthdayPanel').modal('hide');" class="btn btn-default" >取消</a>
      </div>
    </div>
  </div>
</div>
</f:subview>
	<!-- 修改备注 -->
<f:subview id="showRemarkDialog">
<!-- Modal -->
<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="remarkPanel" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">备注</h4>
      </div>
      <div class="modal-body">
       <table cellspacing="0" cellpadding="0" style="margin-top: 25px" border="0" width="100%" >
		  <tr>
		  	<td width="14%" style="text-align: right;">备注：</td>
		  	<td width="86%" colspan="2" style="text-align: left;padding:5px 0">
		  		<textarea rows="5" cols="60" id="cremark_text" name="cremark_text" style="resize:none;" class="big2"></textarea>
		  	</td>
		  </tr>
		  <tr>
		  	<td></td>
		  	<td></td>
	  	</tr>
		</table>
      </div>
      
      <div class="modal-footer" style="text-align: center;">
        <a href="#" onclick="jquery('#remarkPanel').modal('hide'); updatCremark(); " class="btn btn-primary">保存</a>
		<a href="#" onclick="jquery('#remarkPanel').modal('hide');" class="btn btn-default" >取消</a>
      </div>
    </div>
  </div>
</div>
</f:subview>
	<!-- 修改邮编 -->
   	<f:subview id="showPostDialog">
   	<!-- Modal -->
<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="postPanel" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">邮编</h4>
      </div>
      <div class="modal-body">
       <table cellspacing="0" cellpadding="0" style="margin-top: 25px" border="0" width="100%" >
		  <tr>
		  	<td width="35%" style="text-align: right;">客户邮编：</td>
		  	<td width="65%" colspan="2" style="text-align: left;padding:5px 0">
		  		<input class="form-control nw180"  id="cpost_text" name="post_text"></input>
		  	</td>
		  </tr>
		  <tr>
		  	<td></td>
		  	<td></td>
	  	</tr>
		</table>
      </div>
      
       <div class="modal-footer" style="text-align: center;">
        <a href="#" onclick="jquery('#postPanel').modal('hide');updatCPost();" class="btn btn-primary">保存</a>
		<a href="#" onclick="jquery('#postPanel').modal('hide');" class="btn btn-default" >取消</a>
      </div>
    </div>
  </div>
</div>
</f:subview>
<!-- 修改卡号 -->
   	<f:subview id="showCardCodeDialog">
   		<!-- Modal -->
<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="cardCodePanel" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">卡号</h4>
      </div>
      <div class="modal-body">
       <table cellspacing="0" cellpadding="0" style="margin-top: 25px" border="0" width="100%" >
		  <tr>
		  	<td width="35%" style="text-align: right;">客户卡号：</td>
		  	<td width="65%" colspan="2" style="text-align: left;padding:5px 0">
		  		<input class="form-control nw180"  id="cardCode_text" name="cardCode_text"></input>
		  	</td>
		  </tr>
		  <tr>
		  	<td></td>
		  	<td></td>
	  	</tr>
		</table>
      </div>
      
       <div class="modal-footer" style="text-align: center;">
        <a href="#" onclick="jquery('#cardCodePanel').modal('hide');updatCardCode();" class="btn btn-primary">保存</a>
		<a href="#" onclick="jquery('#cardCodePanel').modal('hide');" class="btn btn-default" >取消</a>
      </div>
    </div>
  </div>
</div>
</f:subview>
<!-- 修改客户手机 -->
   	<f:subview id="showphoneDialog">
   		<!-- Modal -->
<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="phonePanel" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">客户手机</h4>
      </div>
      <div class="modal-body">
       <table cellspacing="0" cellpadding="0" style="margin-top: 25px" border="0" width="100%" >
		  <tr>
		  	<td width="35%" style="text-align: right;">手机：</td>
		  	<td width="65%" colspan="2" style="text-align: left;padding:5px 0">
		  		<input class="form-control nw180"  id="cphone_text" name="cphone_text"></input>
		  	</td>
		  </tr>
		  <tr>
		  	<td></td>
		  	<td></td>
	  	</tr>
		</table>
      </div>
      
       <div class="modal-footer" style="text-align: center;">
        <a href="#" onclick="jquery('#phonePanel').modal('hide');updatePhone();" class="btn btn-primary">保存</a>
		<a href="#" onclick="jquery('#phonePanel').modal('hide');" class="btn btn-default" >取消</a>
      </div>
    </div>
  </div>
</div>
	</f:subview>
	<!-- 修改客户座机 -->
   	<f:subview id="showZphoneDialog">
   	<!-- Modal -->
<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="zphonePanel" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">座机</h4>
      </div>
      <div class="modal-body">
       <table cellspacing="0" cellpadding="0" style="margin-top: 25px" border="0" width="100%" >
		  <tr>
		  <td width="35%" style="text-align: right;">座机：</td>
		  	<td width="65%" colspan="2" style="text-align: left;padding:5px 0">
		  		<input class="form-control nw180"  id="zphone_text" name="zphone_text"></input>
		  	</td>
		  </tr>
		  <tr>
		  	<td></td>
		  	<td></td>
	  	</tr>
		</table>
      </div>
      
       <div class="modal-footer" style="text-align: center;">
        <a href="#" onclick="jquery('#zphonePanel').modal('hide');updatZphone();" class="btn btn-primary">保存</a>
		<a href="#" onclick="jquery('#zphonePanel').modal('hide');" class="btn btn-default" >取消</a>
      </div>
    </div>
  </div>
</div>
</f:subview>
<!-- 修改邮箱 -->
   	<f:subview id="showEmailDialog">
   	<!-- Modal -->
<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="zEmailPanel" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">邮箱</h4>
      </div>
      <div class="modal-body">
       <table cellspacing="0" cellpadding="0" style="margin-top: 25px" border="0" width="100%" >
		  <tr>
		  <td width="35%" style="text-align: right;">客户邮箱：</td>
		  	<td width="65%" colspan="2" style="text-align: left;padding:5px 0">
		  		<input class="form-control nw180"  id="zEmail_text" name="zEmail_text"></input>
		  	</td>
		  </tr>
		  <tr>
		  	<td></td>
		  	<td></td>
	  	</tr>
		</table>
      </div>
      
      <div class="modal-footer" style="text-align: center;">
        <a href="#" onclick="jquery('#zEmailPanel').modal('hide');updateZemail();" class="btn btn-primary">保存</a>
		<a href="#" onclick="jquery('#zEmailPanel').modal('hide');" class="btn btn-default" >取消</a>
      </div>
    </div>
  </div>
</div>
</f:subview>
<!-- 修改QQ -->
   	<f:subview id="showQQDialog">
   	<!-- Modal -->
<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="zQQPanel" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">QQ</h4>
      </div>
      <div class="modal-body">
       <table cellspacing="0" cellpadding="0" style="margin-top: 25px" border="0" width="100%" >
		  <tr>
		 <td width="35%" style="text-align: right;">客户QQ：</td>
		  	<td width="65%" colspan="2" style="text-align: left;padding:5px 0">
		  		<input class="form-control nw180"  id="zQQ_text" name="zQQ_text"></input>
		  	</td>
		  </tr>
		  <tr>
		  	<td></td>
		  	<td></td>

	  	</tr>
		</table>
      </div>
      
      <div class="modal-footer" style="text-align: center;">
        <a href="#" onclick="jquery('#zQQPanel').modal('hide');updateZQQ();" class="btn btn-primary">保存</a>
		<a href="#" onclick="jquery('#zQQPanel').modal('hide');" class="btn btn-default" >取消</a>
      </div>
    </div>
  </div>
</div>
</f:subview>
	<!-- 修改工作地址 -->
<f:subview id="showWorkAddressDialog">
<!-- Modal -->
<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="workAddressPanel" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">工作地址</h4>
      </div>
      <div class="modal-body">
       <table cellspacing="0" cellpadding="0" style="margin-top: 25px" border="0" width="100%" >
		  <tr>
		<td width="16%" style="text-align: right;">工作地址：</td>
		  	<td width="84%" colspan="2" style="text-align: left;padding:5px 0">
		  		<textarea rows="5" cols="60" id="workAddress_textarea" name="description" style="resize:none;" class="big2"></textarea>
		  	</td>
		  </tr>
		  <tr>
		  	<td></td>
		  	<td></td>
	  	</tr>
		</table>
      </div>
      <div class="modal-footer" style="text-align: center;">
        <a href="#" onclick="updatWorkAddress();" class="btn btn-primary">保存</a>
		<a href="#" onclick="jquery('#workAddressPanel').modal('hide');" class="btn btn-default" >取消</a>
      </div>
    </div>
  </div>
</div>
</f:subview>
   		<a:form style="display: none;height: 20px;">
		<a:queue requestDelay="10" ignoreDupResponses="true"/>
		<a:jsFunction name="registerMember" action="#{memberInfoTemplate.registerMember}" data="#{memberInfoTemplate.callInId}" oncomplete="registerCallback(data);" >
				<a:actionparam name="nameValue" assignTo="#{memberInfoTemplate.nameValue}"/>
		</a:jsFunction>
	   	<a:jsFunction name="modifyCname1" action="#{memberInfoTemplate.updateCname}" data="#{memberInfoTemplate.nameValue}" oncomplete="updateCnameCallback(data);initAddress();"  reRender="mydel">
				<a:actionparam name="memberId" assignTo="#{memberInfoTemplate.memberInfoId}"/>
				<a:actionparam name="nameValue" assignTo="#{memberInfoTemplate.nameValue}"/>
		</a:jsFunction>
		<a:jsFunction name="modifyCSex" action="#{memberInfoTemplate.updateCSex}" data="#{memberInfoTemplate.sexValue}" oncomplete="updateCsexCallback(data);" >
				<a:actionparam name="memberId" assignTo="#{memberInfoTemplate.memberInfoId}"/>
				<a:actionparam name="sexValue" assignTo="#{memberInfoTemplate.sexValue}"/>
		</a:jsFunction>
		<a:jsFunction name="modifyCGenre" action="#{memberInfoTemplate.updateCGenre}" data="#{memberInfoTemplate. genreValue}" oncomplete="updateCGenreCallback(data);" >
				<a:actionparam name="memberId" assignTo="#{memberInfoTemplate.memberInfoId}"/>
				<a:actionparam name="genreValue" assignTo="#{memberInfoTemplate.genreValue}"/>
		</a:jsFunction>
		<a:jsFunction name="modifyCPhone" action="#{memberInfoTemplate.updateCPhone}" data="#{memberInfoTemplate.phoneValue}" oncomplete="updateCPhoneCallback(data);" >
				<a:actionparam name="memberId" assignTo="#{memberInfoTemplate.memberInfoId}"/>
				<a:actionparam name="phoneValue" assignTo="#{memberInfoTemplate.phoneValue}"/>
				<a:actionparam name="oldPhone" assignTo="#{memberInfoTemplate.oldPhone}"/>
		</a:jsFunction>
		<a:jsFunction name="modifyZphone" action="#{memberInfoTemplate.updateZPhone}" data="#{memberInfoTemplate.zphoneValue}" oncomplete="updateZPhoneCallback(data);" >
				<a:actionparam name="memberId" assignTo="#{memberInfoTemplate.memberInfoId}"/>
				<a:actionparam name="zphoneValue" assignTo="#{memberInfoTemplate.zphoneValue}"/>
		</a:jsFunction>
		<a:jsFunction name="modifyHomeAddress" action="#{memberInfoTemplate.updateHomeAddress}" data="#{memberInfoTemplate.homeAddressValue}" oncomplete="updateHomeAddressCallback(data);initAddress();" reRender="mydel">
				<a:actionparam name="memberId" assignTo="#{memberInfoTemplate.memberInfoId}"/>
				<a:actionparam name="zphoneValue" assignTo="#{memberInfoTemplate.homeAddressValue}"/>
		</a:jsFunction>
		<a:jsFunction name="modifyTaboo" action="#{memberInfoTemplate.updateTaboo}" data="#{memberInfoTemplate.taboValue}" oncomplete="tabooBack(data);" >
			<a:actionparam name="memberId" assignTo="#{memberInfoTemplate.memberInfoId}"/>
			<a:actionparam name="taboValue" assignTo="#{memberInfoTemplate.taboValue}"/>
		</a:jsFunction>
		<a:jsFunction name="modifyHobby" action="#{memberInfoTemplate.updateHobby}" data="#{memberInfoTemplate.hobbyValue}" oncomplete="hobbyBack(data);" >
			<a:actionparam name="memberId" assignTo="#{memberInfoTemplate.memberInfoId}"/>
			<a:actionparam name="hobbyValue" assignTo="#{memberInfoTemplate.hobbyValue}"/>
		</a:jsFunction>
		<a:jsFunction name="modifyCBcbrithday" action="#{memberInfoTemplate.updateCbirthday}" data="#{memberInfoTemplate.brithdayValue}" oncomplete="updateCBrithdayCallback(data);" >
			<a:actionparam name="memberId" assignTo="#{memberInfoTemplate.memberInfoId}"/>
			<a:actionparam name="cbrithdayValue" assignTo="#{memberInfoTemplate.cbrithdayValue}"/>
		</a:jsFunction>
		<a:jsFunction name="modifyCremark" action="#{memberInfoTemplate.updateCremark}" data="#{memberInfoTemplate.cremarkValue}" oncomplete="updateCremarkCallback(data);" >
			<a:actionparam name="memberId" assignTo="#{memberInfoTemplate.memberInfoId}"/>
			<a:actionparam name="cremarkValue" assignTo="#{memberInfoTemplate.cremarkValue}"/>
		</a:jsFunction>
		<a:jsFunction name="modifyCPost" action="#{memberInfoTemplate.updateCPost}" data="#{memberInfoTemplate.cpostValue}" oncomplete="updateCpostCallback(data);" >
			<a:actionparam name="memberId" assignTo="#{memberInfoTemplate.memberInfoId}"/>
			<a:actionparam name="cremarkValue" assignTo="#{memberInfoTemplate.cpostValue}"/>
		</a:jsFunction>
		<a:jsFunction name="modifyCardCodeValue" action="#{memberInfoTemplate.updateCardCode}" data="#{memberInfoTemplate.carCode}" oncomplete="updateCardCodeCallback(data);" >
			<a:actionparam name="memberId" assignTo="#{memberInfoTemplate.memberInfoId}"/>
			<a:actionparam name="cremarkValue" assignTo="#{memberInfoTemplate.carCode}"/>
		</a:jsFunction>
		<a:jsFunction name="modifyZQQ" action="#{memberInfoTemplate.updateCQQ}" data="#{memberInfoTemplate.qq}" oncomplete="updateZQQCallback(data);" >
				<a:actionparam name="memberId" assignTo="#{memberInfoTemplate.memberInfoId}"/>
				<a:actionparam name="zQQValue" assignTo="#{memberInfoTemplate.qq}"/>
		</a:jsFunction>
		<a:jsFunction name="modifyZemail" action="#{memberInfoTemplate.updateCEmail}" data="#{memberInfoTemplate.email}" oncomplete="updateZemailCallback(data);" >
				<a:actionparam name="memberId" assignTo="#{memberInfoTemplate.memberInfoId}"/>
				<a:actionparam name="zemailValue" assignTo="#{memberInfoTemplate.email}"/>
		</a:jsFunction>
		<a:jsFunction name="modifyWorkAddress" action="#{memberInfoTemplate.updateCWorkAddress}" data="#{memberInfoTemplate.workAddress}" oncomplete="updateWorkAddressCallback(data);initAddress();" reRender="mydel">
				<a:actionparam name="memberId" assignTo="#{memberInfoTemplate.memberInfoId}"/>
				<a:actionparam name="workAddressValue" assignTo="#{memberInfoTemplate.workAddress}"/>
		</a:jsFunction>
		<a:jsFunction name="checkPhone" action="#{memberInfoTemplate.checkCPhone}" data="#{memberInfoTemplate.phoneFlag}" oncomplete="callBack(data);" >
			<a:actionparam name="cphoneText" assignTo="#{memberInfoTemplate.phone}"/>
		</a:jsFunction>
		<a:jsFunction name="checkTel" action="#{memberInfoTemplate.checkCPhone}" data="#{memberInfoTemplate.phoneFlag}" oncomplete="checkTelCallBack(data);" >
			<a:actionparam name="cphoneText" assignTo="#{memberInfoTemplate.phone}"/>
		</a:jsFunction>
		<a:jsFunction name="checkEmail" action="#{memberInfoTemplate.checkCPhone}" data="#{memberInfoTemplate.phoneFlag}" oncomplete="checkEmailCallBack(data);" >
			<a:actionparam name="cphoneText" assignTo="#{memberInfoTemplate.phone}"/>
		</a:jsFunction>
		<a:jsFunction name="checkQQ" action="#{memberInfoTemplate.checkCPhone}" data="#{memberInfoTemplate.phoneFlag}" oncomplete="checkZQQCallback(data);" >
			<a:actionparam name="cphoneText" assignTo="#{memberInfoTemplate.phone}"/>
		</a:jsFunction>
	</a:form>
	<style>
	.dr-mpnl-ovf-hd{overflow:visible;}
	.dr-mpnl-pnl-b {
    font-size: 12px;
}
	</style>
   	<script type="text/javascript">
//<![CDATA[
//修改客户姓名单击td弹出div层
	var memberId;
	function setName(id){
		if(null == id || "" == id){
			id = 0;
		}
		if(null != id && "" != id){
			//#{rich:component('registerPanel')}.show();
			jquery("#namePanel").modal('show');
			var cnameText = document.getElementById("cname").innerHTML.replace(/(^\s*)|(\s*$)/g,'');
			document.getElementById("cname_text").value = cnameText.replace(/[ ]/g,"") ;
		}else{
			jquery("#registerPanel").modal('show');
			
		}
		memberId = id;
	}
	//修改客户姓名
	function updatCname(){
		var nameValue = document.getElementById("cname_text").value.replace(/(\n)+|(\r\n)+/g, "");
		if('' == nameValue){
			alert("客户姓名不能为空...");
			return;
		}
		var ch = checkNameLeng();
		if('0' == ch){
			alert("客户姓名最多可输入20个汉字...");
			return;
		}
		modifyCname1(Number(memberId),nameValue);
	}
	//修改客户姓名回调
	function updateCnameCallback(data){
		document.getElementById("cname").innerHTML = data;
		//if(null == memberId || "" == memberId){
			//window.location.href="../callcenter/callin.seam?callInId="+data+"&nvaid=1";
		//}
		//document.getElementById("refreshFrom:refresh").onclick();
	}
	//校验客户姓名长度
	function checkNameLeng(){
		var nameData = document.getElementById("cname_text").value.replace(/(^\s*)|(\s*$)/g,'');
		if (nameData.length > 20) {
			return '0';
		}
		return '1';
	}
	//注册客户
	function register(){
		var nameValue = document.getElementById("cregister_text").value;
		if('' == nameValue){
			alert("客户姓名不能为空...");
			return;
		}
		registerMember(nameValue);
	}
	//注册客户回调
	function registerCallback(data){
		if(0 == data || "0" == data){
			alert("该会员卡号已存在...");
			window.location.href="../callcenter/callin.seam?callInId=&nvaid=1";
			return;
		}
		var newcallsheetIdVar;
		var str= window.location.href;
		var stra = str.substr(str.lastIndexOf('&'));
		stra = stra.substr(0,stra.length-1);
		window.location.href="../callcenter/callin.seam?callInId="+data+"&nvaid=1"+stra
		//document.getElementById("cname").innerHTML = data;
		//document.getElementById("refreshFrom:refresh").onclick();
		
	}
	//修改客户性别单击td弹出div层
	function setSex(id){
		if(null == id || "" == id){
			alert("请先双击客户姓名,注册会员...");
			//window.location.href="../member/MemberInfoEdit.seam?memberInfoMemberInfoId=&flag=true&marriageState=0&nvaid=1&emailStr=&imStr=&telStr=";
			return;
		}
		var csexText = document.getElementById("csex").innerHTML;
		if('男' == csexText.replace(/[ ]/g,"")){
			jQuery("#csex_text").val("1");
		}
		if('女' == csexText.replace(/[ ]/g,"")){
			jQuery("#csex_text").val("2");
		}
		if('' == csexText){
			jQuery("#csex_text").val("3");
		}
		jquery("#sexPanel").modal('show');
		//document.getElementById("csex_text").value = csexText;
		memberId = id;
	}
	//修改客户性别
	function updatCSex(){
		var sexmeValue = document.getElementById("csex_text").value.replace(/(\n)+|(\r\n)+/g, "");
		modifyCSex(Number(memberId),sexmeValue);
	}
	//修改客户性别回调
	function updateCsexCallback(data){
		if(data == '1'){
			document.getElementById("csex").innerHTML = '男';
		 }
		if(data == '2'){
			document.getElementById("csex").innerHTML = '女';
		 }
		if(data == ''){
			document.getElementById("csex").innerHTML = '未知';
		 }
		//document.getElementById("refreshFrom:refreshShow").onclick();
	}
	//修改客户类别单击td弹出div层
	function setGenre(id){
		if(null == id || "" == id){
			alert("请先双击客户姓名,注册会员...");
			return;
		}
		var cgenreText = document.getElementById("cgenre").innerHTML;
		if('个人' == cgenreText.replace(/[ ]/g,"")){
			jQuery("#cgenre_text").val("1");
		}
		if('企业代表' == cgenreText.replace(/[ ]/g,"")){
			jQuery("#cgenre_text").val("2");
		}
		jquery("#genrePanel").modal('show');
		memberId = id;
	}
	//修改客户类别
	function updatCGenre(){
		var genreValue = document.getElementById("cgenre_text").value.replace(/(\n)+|(\r\n)+/g, "");
		modifyCGenre(Number(memberId),genreValue);
	}
	//修改客户类别回调
	function updateCGenreCallback(data){
		if('1' == data.replace(/[ ]/g,"")){
			document.getElementById("cgenre").innerHTML = '个人';
		}
		if('2' == data.replace(/[ ]/g,"")){
			document.getElementById("cgenre").innerHTML = '企业代表';
		}
		//document.getElementById("refreshFrom:refresh").onclick();
	}
	
	//修改忌口单击td弹出div层
	var memId;
	function setProjectTS(id){
		if(null == id || "" == id){
			alert("请先双击客户姓名,注册会员...");
			//window.location.href="../member/MemberInfoEdit.seam?memberInfoMemberInfoId=&flag=true&marriageState=0&nvaid=1&emailStr=&imStr=&telStr=";
			return;
		}
		jquery("#statePanel").modal('show');
		var tabooText = document.getElementById("tabooTD").innerHTML.replace(/(^\s*)|(\s*$)/g,'');;
		document.getElementById("taboo_textarea").value = tabooText;
		memId = id;
	}
	//修改忌口
	function updateTaboo(){
		var ch = checkTabooLen();
		if('1' == ch){
			alert("忌口最多只能输入100个汉字");
			return;
		}
		jquery("#statePanel").modal('hide');
		var value = document.getElementById("taboo_textarea").value.replace(/(\n)+|(\r\n)+/g, "");
		modifyTaboo(Number(memId),value);
	}
	//修改忌口回调
	function tabooBack(data){
		document.getElementById("tabooTD").innerHTML = data.replace(/(^\s*)|(\s*$)/g,'');;
		//document.getElementById("refreshFrom:refresh").onclick();
	}
	//修改爱好单击td弹出div层
	var memId;
	function setHobbyTS(id){
		if(null == id || "" == id){
			alert("请先双击客户姓名,注册会员...");
			//window.location.href="../member/MemberInfoEdit.seam?memberInfoMemberInfoId=&flag=true&marriageState=0&nvaid=1&emailStr=&imStr=&telStr=";
			return;
		}
		jquery("#hobbyPanel").modal('show');
		var hobbText = document.getElementById("hobbyTD").innerHTML.replace(/(^\s*)|(\s*$)/g,'');
		document.getElementById("hobby_textarea").value = hobbText;
		memId = id;
	}
	//修改爱好
	function updateHobby(){

		var ch = checkhobbyLen();
		if('1' == ch){
			alert("爱好最多只能输入100个汉字");
			return;
		}
		jquery("#hobbyPanel").modal('hide');
		var value = document.getElementById("hobby_textarea").value.replace(/(\n)+|(\r\n)+/g, "");
		modifyHobby(Number(memId),value);
	}
	//修改爱好回调
	function hobbyBack(data){
		document.getElementById("hobbyTD").innerHTML = data.replace(/(^\s*)|(\s*$)/g,'');
		//document.getElementById("refreshFrom:refresh").onclick();
	}
	//修改客户生日单击td弹出div层
	function setCBrithday(id){
		if(null == id || "" == id){
			alert("请先双击客户姓名,注册会员...");
			//window.location.href="../member/MemberInfoEdit.seam?memberInfoMemberInfoId=&flag=true&marriageState=0&nvaid=1&emailStr=&imStr=&telStr=";
			return;
		}
		jquery("#cbirthdayPanel").modal('show');
		var cbrithday = document.getElementById("cbrithday").innerHTML;
		document.getElementById("showCBrithdayDialog:cbrithdaytext").value = cbrithday;
		memberId = id;
	}
	
	//修改客户生日
	function updatCBrithday(){
		var cbrithdayValue = document.getElementById("showCBrithdayDialog:cbrithdaytext").value;
		modifyCBcbrithday(Number(memberId),cbrithdayValue);
	}
	//修改客户生日回调
	function updateCBrithdayCallback(data){
		document.getElementById("cbrithday").innerHTML = data.replace(/(^\s*)|(\s*$)/g,'');
		//document.getElementById("refreshFrom:refresh").onclick();
	}
	//修改备注单击td弹出div层
	function setCremark(id){
		if(null == id || "" == id){
			alert("请先双击客户姓名,注册会员...");
			//window.location.href="../member/MemberInfoEdit.seam?memberInfoMemberInfoId=&flag=true&marriageState=0&nvaid=1&emailStr=&imStr=&telStr=";
			return;
		}
		jquery("#remarkPanel").modal('show');
		var cremark = document.getElementById("cremark").innerHTML.replace(/(^\s*)|(\s*$)/g,'');
		document.getElementById("cremark_text").value = cremark;
		memberId = id;
	}
	//修改客户备注
	function updatCremark(){
		var ch = checkremarkLen();
		if('1' == ch){
			alert("备注只能输入100个汉字");
			return;
		}
		jquery("#remarkPanel").modal('hide');
		var cremarkValue = document.getElementById("cremark_text").value.replace(/(\n)+|(\r\n)+/g, "");
		modifyCremark(Number(memberId),cremarkValue);
	}
	//修改客户备注回调
	function updateCremarkCallback(data){
		document.getElementById("cremark").innerHTML = data;
		//document.getElementById("refreshFrom:refresh").onclick();
	}
	//修改客户邮编单击td弹出div层
	var memberId;
	function setPost(id){
		if(null == id || "" == id){
			alert("请先双击客户姓名,注册会员...");
			return;
		}
		if(null != id && "" != id){
			jquery("#postPanel").modal('show');
			var cpostText = document.getElementById("cpost").innerHTML.replace(/(^\s*)|(\s*$)/g,'');;
			document.getElementById("cpost_text").value = cpostText.replace(/[ ]/g,"") ;;
		}
		
		memberId = id;
	}
	//修改客户邮编
	function updatCPost(){
		var ch = checkHomePort();
		if('0' == ch){
			alert("邮编最多可输入6个字符...");
			return;
		}
		var postValue = document.getElementById("cpost_text").value;
		modifyCPost(Number(memberId),postValue);
	}
	//修改客户邮编回调
	function updateCpostCallback(data){
		document.getElementById("cpost").innerHTML = data;
		//document.getElementById("refreshFrom:refresh").onclick();
	}
	//校验邮编长度
	function checkHomePort(phone){
		var portData = document.getElementById("cpost_text").value.replace(/(^\s*)|(\s*$)/g,'');
		if (portData.length > 6) {
			return '0';
		}
		return '1';
	}
	//修改客户卡号单击td弹出div层
	function setCardCode(id){
		if(null == id || "" == id){
			alert("请先双击客户姓名,注册会员...");
			return;
		}
		if(null != id && "" != id){
			jquery("#cardCodePanel").modal('show');
			var cardCodeText = document.getElementById("cardCode").innerHTML.replace(/(^\s*)|(\s*$)/g,'');;
			document.getElementById("cardCode_text").value = cardCodeText;
		}
		
		memberId = id;
	}
	//修改客户卡号
	function updatCardCode(){
		var cardCodeValue = document.getElementById("cardCode_text").value;
		if(null == cardCodeValue || "" == cardCodeValue){
			alert("卡号不可为空...");
			return;
		}
		var ch = checkCardCode();
		if('0' == ch){
			alert("卡号最多可输入50个字符...");
			return;
		}
		modifyCardCodeValue(Number(memberId),cardCodeValue);
	}
	//修改客户卡号回调
	function updateCardCodeCallback(data){
		if(null == data || "" == data){
			alert("卡号已存在...");
			return;
		}
		document.getElementById("cardCode").innerHTML = data;
		//document.getElementById("refreshFrom:refresh").onclick();
	}
	//校验卡号长度
	function checkCardCode(phone){
		var cardCodeData = document.getElementById("cardCode_text").value.replace(/(^\s*)|(\s*$)/g,'');
		if (cardCodeData.length > 50) {
			return '0';
		}
		return '1';
	}
	//修改客户住宅住址单击td弹出div层
	function setHomeAddress(id){
		if(null == id || "" == id){
			alert("请先双击客户姓名,注册会员...");
			//window.location.href="../member/MemberInfoEdit.seam?memberInfoMemberInfoId=&flag=true&marriageState=0&nvaid=1&emailStr=&imStr=&telStr=";
			return;
		}
		jquery("#homeAddressPanel").modal('show');
		var homeAddressText = document.getElementById("homeAddress").innerHTML.replace(/(^\s*)|(\s*$)/g,'');
		document.getElementById("homeAddress_textarea").value = homeAddressText;
		memberId = id;
	}
	//修改客户住宅住址
	function updatHomeAddress(){
		var ch = checkHomeAddressLen();
		if('1' == ch){
			alert("住宅地址最多只能输入50个汉字");
			return;
		}
		jquery("#homeAddressPanel").modal('hide');
		var homeAddressValue = document.getElementById("homeAddress_textarea").value.replace(/(\n)+|(\r\n)+/g, "");
		modifyHomeAddress(Number(memberId),homeAddressValue);
		
	}
	//修改客户住宅住址回调
	function updateHomeAddressCallback(data){
		document.getElementById("homeAddress").innerHTML = data;
		//document.getElementById("refreshFrom:refresh").onclick();
	}
	//住址地址校验
	function checkHomeAddressLen(){
		var homeAddressText = document.getElementById("homeAddress_textarea").value.replace(/(^\s*)|(\s*$)/g,'');
		if(homeAddressText != ""){
		    if(homeAddressText.length > 50){
		       return "1";
		    }

		}
		  return "0"
	}   

	function checkTabooLen(){
		var tabooText = document.getElementById("taboo_textarea").value.replace(/(^\s*)|(\s*$)/g,'');
		if(tabooText != ""){
		    if(tabooText.length > 200){
		      
		       return '1';
		    }
		}

		return '0';
	}

	function checkhobbyLen(){
		var hobbyText = document.getElementById("hobby_textarea").value.replace(/(^\s*)|(\s*$)/g,'');
		if(hobbyText != ""){
		    if(hobbyText.length > 200){
		       return '1';
		    }
		}

		return '0';
	}
	function checkremarkLen(){
		var remarkText = document.getElementById("cremark_text").value.replace(/(^\s*)|(\s*$)/g,'');
		if(remarkText != ""){
		    if(remarkText.length > 200){
		       return '1';
		    }
		}
		return '0';
	}
	//校验手机号是否唯一
	function setPhone(id){
		var cphoneText = document.getElementById("cphone").innerHTML.replace(/(^\s*)|(\s*$)/g,'');
		if(cphoneText != ''){
			jQuery("#cphone").removeAttr("ondblclick"); 
			jQuery("#cphone").removeAttr("style");
			jQuery("#cphone").removeAttr("onmouseover");
			jQuery("#cphone").removeAttr("onmouseout"); 
			return;
		}
		document.getElementById("cphone_text").value = cphoneText;
		memberId = id;
		jquery("#phonePanel").modal('show');
	}
	//修改客户手机  校验手机唯一
	function updatePhone(){
		if (document.getElementById("cphone_text").value.replace(/(\n)+|(\r\n)+/g, "") == ''){
			alert("手机号码不能为空...");
			return;
		}
		var phoneFormat = checkPhoneFormat(document.getElementById("cphone_text").value.replace(/(\n)+|(\r\n)+/g, ""));
		if(phoneFormat != '0'){
			var phoneValue = document.getElementById("cphone_text").value.replace(/(\n)+|(\r\n)+/g, "");
			checkPhone(phoneValue);
		}else{
			alert("手机号码格式不正确...");
			return;
		}
	}
	//校验手机回调
	function callBack(data){
		if('0' == data){
			var phoneValue = document.getElementById("cphone_text").value.replace(/(\n)+|(\r\n)+/g, "");
			modifyCPhone(Number(memberId),phoneValue);
		}else{
			alert("手机号已存在...");
		}
	}
	//修改手机回调
	function updateCPhoneCallback(data){
		document.getElementById("cphone").innerHTML = data;
		jQuery("#cphone").removeAttr("ondblclick"); 
		jQuery("#cphone").removeAttr("style");
		jQuery("#cphone").removeAttr("onmouseover");
		jQuery("#cphone").removeAttr("onmouseout"); 
	}
	//修改客户座机单击td弹出div层
	function setZphone(id){
		var zphoneText = document.getElementById("zphone").innerHTML.replace(/(^\s*)|(\s*$)/g,'');
		if(zphoneText != ''){
			jQuery("#zphone").removeAttr("ondblclick"); 
			jQuery("#zphone").removeAttr("style"); 
			jQuery("#zphone").removeAttr("onmouseover");
			jQuery("#zphone").removeAttr("onmouseout"); 
			return;
		}
		document.getElementById("zphone_text").value = zphoneText;
		memberId = id;
		jquery("#zphonePanel").modal('show');
	}
	//修改客户座机
	function updatZphone(){
		if (document.getElementById("zphone_text").value.replace(/(\n)+|(\r\n)+/g, "") == ''){
			alert("座机号码不能为空...");
			return;
		}
		var ch = checkZPhone();
		if('0' == ch){
			alert("座机号码最多可输入20个字符...");
			return;
		}
		var zphoneValue = document.getElementById("zphone_text").value.replace(/(\n)+|(\r\n)+/g, "");
		checkTel(zphoneValue);
	}
	//校验座机号码长度
	function checkZPhone(phone){
		var zPhoneData = document.getElementById("zphone_text").value.replace(/(^\s*)|(\s*$)/g,'');
		if (zPhoneData.length > 20) {
			return '0';
		}
		return '1';
	}
	//校验座机回调
	function checkTelCallBack(data){
		if('0' == data){
			var zphoneValue = document.getElementById("zphone_text").value.replace(/(\n)+|(\r\n)+/g, "");
			modifyZphone(Number(memberId),zphoneValue);
		}else{
			alert("座机号已存在...");
		}
	}
	//修改客户座机回调
	function updateZPhoneCallback(data){
		document.getElementById("zphone").innerHTML = data;
		jQuery("#zphone").removeAttr("ondblclick"); 
		jQuery("#zphone").removeAttr("style"); 
		jQuery("#zphone").removeAttr("onmouseover");
		jQuery("#zphone").removeAttr("onmouseout"); 
		//document.getElementById("refreshFrom:refresh").onclick();
	}
	//修改客户email单击td弹出div层
	function setZemail(id){
		var zemailText = document.getElementById("zEmail").innerHTML.replace(/(^\s*)|(\s*$)/g,'');
		if(zemailText != ''){
			jQuery("#zEmail").removeAttr("ondblclick"); 
			jQuery("#zEmail").removeAttr("style"); 
			jQuery("#zEmail").removeAttr("onmouseover");
			jQuery("#zEmail").removeAttr("onmouseout"); 
			return;
		}
		document.getElementById("zEmail_text").value = zemailText;
		memberId = id;
		jquery("#zEmailPanel").modal('show');
	}
	//修改客户email
	function updateZemail(){
		if (document.getElementById("zEmail_text").value.replace(/(\n)+|(\r\n)+/g, "") == ''){
			alert("邮箱不能为空...");
			return;
		}
		var emailFormat = checkEmailFormat(document.getElementById("zEmail_text").value.replace(/(\n)+|(\r\n)+/g, ""));
		if(emailFormat != '0'){
			var zemailValue = document.getElementById("zEmail_text").value.replace(/(\n)+|(\r\n)+/g, "");
			checkEmail(zemailValue);
		}else{
			alert("邮箱格式不正确...");
			return;
		}
		
	}
	function checkEmailCallBack(data){
		if('0' == data){
			var zemailValue = document.getElementById("zEmail_text").value.replace(/(\n)+|(\r\n)+/g, "");
			modifyZemail(Number(memberId),zemailValue);
		}else{
			alert("邮箱已存在...");
		}
	}
	//修改客户座机email回调
	function updateZemailCallback(data){
		document.getElementById("zEmail").innerHTML = data;
		jQuery("#zEmail").removeAttr("ondblclick"); 
		jQuery("#zEmail").removeAttr("style"); 
		jQuery("#zEmail").removeAttr("onmouseover");
		jQuery("#zEmail").removeAttr("onmouseout"); 
		//document.getElementById("refreshFrom:refresh").onclick();
	}
	//修改客户QQ单击td弹出div层
	function setZQQ(id){
		var zQQText = document.getElementById("zQQ").innerHTML.replace(/(^\s*)|(\s*$)/g,'');
		if(zQQText != ''){
			jQuery("#zQQ").removeAttr("ondblclick"); 
			jQuery("#zQQ").removeAttr("style"); 
			jQuery("#zQQ").removeAttr("onmouseover");
			jQuery("#zQQ").removeAttr("onmouseout"); 
			return;
		}
		document.getElementById("zQQ_text").value = zQQText;
		memberId = id;
		jquery("#zQQPanel").modal('show');
	}
	//修改客户QQ
	function updateZQQ(){
		if (document.getElementById("zQQ_text").value.replace(/(\n)+|(\r\n)+/g, "") == ''){
			alert("QQ不能为空...");
			return;
		}
		var ch = checkQQLeng();
		if('0' == ch){
			alert("QQ最多可输入20个字符...");
			return;
		}
		var zQQValue = document.getElementById("zQQ_text").value.replace(/(\n)+|(\r\n)+/g, "");
		checkQQ(zQQValue);
	}
	//校验QQ回调
	function checkZQQCallback(data){		
		if('0' == data){
			var zQQValue = document.getElementById("zQQ_text").value.replace(/(\n)+|(\r\n)+/g, "");
			modifyZQQ(Number(memberId),zQQValue);
		}else{
			alert("QQ已存在...");
		}
	}
	//修改客户QQ回调
	function updateZQQCallback(data){
		document.getElementById("zQQ").innerHTML = data;
		jQuery("#zQQ").removeAttr("ondblclick"); 
		jQuery("#zQQ").removeAttr("style"); 
		jQuery("#zQQ").removeAttr("onmouseover");
		jQuery("#zQQ").removeAttr("onmouseout"); 
		//document.getElementById("refreshFrom:refresh").onclick();
	}
	//校验QQ号码长度
	function checkQQLeng(){
		var QQData = document.getElementById("zQQ_text").value.replace(/(^\s*)|(\s*$)/g,'');
		if (QQData.length >20) {
			return '0';
		}
		return '1';
	}
	//修改客户工作住址单击td弹出div层
	function setWorkAddress(id){
		if(null == id || "" == id){
			alert("请先双击客户姓名,注册会员...");
			return;
		}
		var worldAddressText = document.getElementById("workAddress").innerHTML.replace(/(^\s*)|(\s*$)/g,'');
		document.getElementById("workAddress_textarea").value = worldAddressText;
		memberId = id;
		jquery("#workAddressPanel").modal('show');
		
	}
	//修改客户工作住址
	function updatWorkAddress(){
		var ch = checkWorkAddressLen();
		if('1' == checkWorkAddressLen()){
            alert("工作地址最多只能输入50个汉字");
			return;
		}
		jquery("#workAddressPanel").modal('hide');
		var workAddressValue = document.getElementById("workAddress_textarea").value.replace(/(\n)+|(\r\n)+/g, "");
		modifyWorkAddress(Number(memberId),workAddressValue);
	}
	//修改客户住址工作回调
	function updateWorkAddressCallback(data){
		document.getElementById("workAddress").innerHTML = data;
	}
	function checkWorkAddressLen(){
		var homeAddressText = document.getElementById("workAddress_textarea").value.replace(/(^\s*)|(\s*$)/g,'');
		if(homeAddressText != ""){
		    if(homeAddressText.length > 50){
		       return '1';
		    }
		}
		return '0';
	}

	function checkPhoneFormat(phone){
		var mobileData = /^((0{0,1}(14[0-9]|13[0-9]|15[0-9]|18[6-9])[0-9]{8})+)$/;
		var phoneFlag = mobileData.test(phone);
		if (!phoneFlag) {
			return '0';
		}

		return '1';
	}
	function checkEmailFormat(phone){
		var mobileData = /^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;
		var phoneFlag = mobileData.test(phone);
		if (!phoneFlag) {
			return '0';
		}
		return '1';
	}
	window.onload = removeTdStyle;
	function removeTdStyle(){
		if(document.getElementById("cphone").innerHTML.replace(/(^\s*)|(\s*$)/g,'') != ''){
			jQuery("#cphone").removeAttr("ondblclick"); 
			jQuery("#cphone").removeAttr("style");
			jQuery("#cphone").removeAttr("onmouseover");
			jQuery("#cphone").removeAttr("onmouseout"); 
		}
		if(document.getElementById("zphone").innerHTML.replace(/(^\s*)|(\s*$)/g,'') != ''){
			jQuery("#zphone").removeAttr("ondblclick"); 
			jQuery("#zphone").removeAttr("style"); 
			jQuery("#zphone").removeAttr("onmouseover");
			jQuery("#zphone").removeAttr("onmouseout"); 
		}
		if(document.getElementById("zQQ").innerHTML.replace(/(^\s*)|(\s*$)/g,'') != ''){
			jQuery("#zQQ").removeAttr("ondblclick"); 
			jQuery("#zQQ").removeAttr("style"); 
			jQuery("#zQQ").removeAttr("onmouseover");
			jQuery("#zQQ").removeAttr("onmouseout"); 
		}
		if(document.getElementById("zEmail").innerHTML.replace(/(^\s*)|(\s*$)/g,'') != ''){
			jQuery("#zEmail").removeAttr("ondblclick"); 
			jQuery("#zEmail").removeAttr("style"); 
			jQuery("#zEmail").removeAttr("onmouseover");
			jQuery("#zEmail").removeAttr("onmouseout"); 
		}
	}
//]]>
</script>
<script type="text/javascript">
				jquery(".form_datetime").datetimepicker({
			    format: "yyyy-mm-dd",
			    autoclose: true,
				 weekStart: 1,
				  //startDate: "2014-08-14 10:00",
				 language:  'zh-CN',
				 minView:2,
			    pickerPosition: "bottom-left"
			    });
			    jquery('.selectpicker').selectpicker();
			</script>
</ui:composition>
