<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
    xmlns:a4j="http://richfaces.org/a4j"
	template="/layout/template.xhtml">

	<ui:define name="body">
		<!--鼠标移上去换色js开始-->
		<script type="text/javascript">
			jquery(document).ready(function(){  //这个就是传说的ready
				jquery(".str_t tr:even").addClass("alt");
			                //给class为stripe的表格的偶数行添加class值为alt
			});
		</script>
<style>
.r_title_orderView {
    border-bottom: 1px solid #DDDDDD;
    height: 45px;
    line-height: 45px;
    margin-top: 0px;
    width: 100%;

}


/*弹出框样式开始*/
.tck_div_ifr{ border:1px solid #FFFFFF; }
.tck_title{ color:#474747; font-family:"微软雅黑"; font-size:14px; text-align:left; height:30px;  margin-top:15px;}
.tck_table{ width:405px; }
.tck_table td{  padding:5px 0; *padding:6px 0;}

 .dr-mpnl-pnl{padding:0;}
 .dr-mpnl-pnl-b{color:none;padding:0; font-family:"微软雅黑";}
 .dr-insldr td{padding:0;}
 .font_td{font-size:14px;}
 
 .fr{float:right;}
 .r_ulli1{float:right;}
 
 
 

 </style>   
 
		<!--右边开始-->
		<td valign="top">
		<div class="right_c clear" style="padding-top:20px;">
			 <div class="r_title clear" style="margin-top:0;">
               <div class="r_t_l">采销存<span style="padding:0 5px;">&gt;</span>订单管理<span style="padding:0 5px;">&gt;</span><a href="#{request.contextPath}/order/MemberInfoListOne.seam"><strong>客户信息</strong></a></div>
               <div class="fr" style="margin-bottom:-1px;">
                   <ul class="cm_resumeList clear">
                       <li>
	                            <a href="#{request.contextPath}/orderManage/OrderOperateList.seam"><img src="../asset/images/orderManage/resumeIco50.jpg" /><span>订单管理</span></a>
	                        </li>
	                        <li>
	                    		<a class="borderBt" href="#{request.contextPath}/order/MemberInfoListOne.seam"><img src="../asset/images/orderManage/resumeIco51.jpg" /><span>客户管理</span></a>
	                        </li>
	                        <li>
	                    		<a href="#{request.contextPath}/card/CardInfoList.seam?cardType=0"><img src="../asset/images/orderManage/resumeIco51.jpg" /><span>会员卡管理</span></a>
	                        </li>
                   </ul>
               </div>
           </div>

		<!--表格开始-->
		<div class="str_box">
		
		<table width="100%" cellpadding="0" cellspacing="0" class="str_t">
			<tr>
				<td valign="middle" class="str_td">客户编码：</td>
				<td valign="middle" class="str_text"><h:outputText
					value="#{memberInfoHome.instance.memberCode}" /></td>
				<td class="str_td">客户类别：</td>
				<td class="str_text">
					<h:outputText value="#{memberInfoHome.instance.memberType==1?'个人':''}"/>
					<h:outputText value="#{memberInfoHome.instance.memberType==2?'企业代表':''}"/>
				</td>
			</tr>
			<tr>
				<td valign="middle" class="str_td">客户名称：</td>
				<td valign="middle" class="str_text"><h:outputText
					value="#{memberInfoHome.instance.realname}" /></td>
				<td class="str_td">销售人：</td>
				<td class="str_text">
					<h:outputText value="#{memberInfoHome.instance.farmerInfoId.name}" rendered="#{!memberInfoHome.instance.farmerInfoId.deleted}"/>
					
				</td>
			</tr>
			<tr>
				<td valign="middle" class="str_td">匿&#160;&#160;&#160;&#160;&#160;&#160;&#160;名：</td>
				<td valign="middle" class="str_text"><h:outputText
					value="#{memberInfoHome.instance.nickName}" /></td>
				<td class="str_td">姓名拼音：</td>
				<td class="str_text"><h:outputText
					value="#{memberInfoHome.instance.realnamePy}" /></td>
				
			</tr>
			<tr>
				<td valign="middle" class="str_td">性&#160;&#160;&#160;&#160;&#160;&#160;&#160;别：</td>
				<td valign="middle" class="str_text">
					<h:outputText value="#{memberInfoHome.instance.sex==1?'男':''}"/>
					<h:outputText value="#{memberInfoHome.instance.sex==2?'女':''}"/>
					<h:outputText value="#{memberInfoHome.instance.sex==3?'其它':''}"/>
				</td>
				<td class="str_td">手&#160;&#160;&#160;&#160;&#160;&#160;&#160;机：</td>
				<td class="str_text"><h:outputText
					value="#{memberInfoHome.instance.phone}" /></td>
			</tr>	
			<tr>
				<td valign="middle" class="str_td">出生日期：</td>
				<td valign="middle" class="str_text">
					<h:outputText value="#{memberInfoHome.instance.birthday}"/></td>
				<td class="str_td">学&#160;&#160;&#160;&#160;&#160;&#160;&#160;历：</td>
				<td class="str_text">
					<h:outputText value="#{memberInfoHome.instance.education==5?'中专及以下':''}"/>
					<h:outputText value="#{memberInfoHome.instance.education==4?'大专':''}"/>
					<h:outputText value="#{memberInfoHome.instance.education==3?'本科':''}"/>
					<h:outputText value="#{memberInfoHome.instance.education==2?'硕士':''}"/>
					<h:outputText value="#{memberInfoHome.instance.education==1?'博士':''}"/></td>
				
			</tr>
			<tr>
				<td valign="middle" class="str_td">身份证号码：</td>
				<td valign="middle" class="str_text"><h:outputText
					value="#{memberInfoHome.instance.idCard}" /></td>
				<td class="str_td">月&#160;&#160;收&#160;&#160;入：</td>
				<td class="str_text">
					<h:outputText value="#{memberInfoHome.instance.income}元"/></td>
			</tr>
			<tr>
				<td valign="middle" class="str_td">住宅邮编：</td>
				<td valign="middle" class="str_text"><h:outputText
					value="#{memberInfoHome.instance.homePort}" /></td>
				<td class="str_td">婚姻状况：</td>
				<td class="str_text">
					<h:outputText value="#{memberInfoHome.instance.marriageState?'已婚':''}"/>
					<h:outputText value="#{!memberInfoHome.instance.marriageState?'未婚':''}"/></td>
			</tr>
			<tr>
				<td valign="middle" class="str_td">住宅地址：</td>
				<td valign="middle" class="str_text" colspan="3"><h:outputText
					value="#{memberInfoHome.instance.homeAddress}" /></td>
			</tr>
			<tr>
				<td valign="middle" class="str_td">工作地址：</td>
				<td valign="middle" class="str_text" colspan="3"><h:outputText
					value="#{memberInfoHome.instance.workAddress}" /></td>
			</tr>
			<tr>
				<td valign="middle" class="str_td">头&#160;&#160;&#160;&#160;&#160;&#160;&#160;像：</td>
				<td valign="middle" class="str_text" colspan="3">
					<img src="#{memberInfoHome.instance.icon==''?'../asset/images/141.jpg':memberInfoHome.instance.icon}"  width="150" height="180" />
				</td>
			</tr>
			<tr>
				<td valign="middle" class="str_td">卡&#160;&#160;&#160;&#160;&#160;&#160;&#160;号：</td>
				<td valign="middle" class="str_text">
					<h:outputText value="#{memberInfoHome.instance.memberCardCode}"/></td>
				<td class="str_td">折&#160;&#160;&#160;&#160;&#160;&#160;&#160;扣：</td>
				<td class="str_text">
					<h:outputText value="#{memberInfoHome.instance.discount}%"/></td>
			</tr>
			<tr>
				<td valign="middle" class="str_td">等级积分：</td>
				<td valign="middle" class="str_text"><h:outputText
					value="#{memberInfoHome.instance.gradeIntegral}" /></td>
				<td class="str_td">消费积分：</td>
				<td class="str_text">
					<h:outputText value="#{memberInfoHome.instance.expendIntegral}"/></td>
			</tr>
			<tr>
				<td class="str_td">账户余额：</td>
				<td class="str_text" colspan="3">
					<h:outputText value="#{memberInfoHome.instance.balance}"/></td>
			</tr>
			<tr>
				<td valign="middle" class="str_td">忌&#160;&#160;&#160;&#160;&#160;&#160;&#160;口：</td>
				<td valign="middle" class="str_text" colspan="3"><h:outputText
					value="#{memberInfoHome.instance.taboo}" /></td>
			</tr>
			<tr>
				<td valign="middle" class="str_td">爱&#160;&#160;&#160;&#160;&#160;&#160;&#160;好：</td>
				<td valign="middle" class="str_text" colspan="3"><h:outputText
					value="#{memberInfoHome.instance.hobby}" /></td>
			</tr>
			<tr>
				<td valign="middle" class="str_td">备&#160;&#160;&#160;&#160;&#160;&#160;&#160;注：</td>
				<td valign="middle" class="str_text" colspan="3"><h:outputText
					value="#{memberInfoHome.instance.remark}" /></td>
			</tr>
			
		</table>
		
		
		<table width="100%" cellpadding="0" cellspacing="0" style=" margin-top:20px;">
		<tr>
			<td>
                    
		<!---tab页开始-->
           <div class="">
                 <!-- tab页内容 -->
                 <div class="erbox" style="height:auto; padding-top:10px;">
                  <!-- 第一个tab1开始 -->
                     <div >
                     
                      <!-- 商品分类开始 -->	
                     <rich:panel id="memberOrderInfoPanel">
                    
                    <div class="tree_dis">
                        <div class="box2">
                       <!-- 全部开始 --> 	
                        	<div>
                                <!-- 添加按钮结束 -->
                    <table width="100%" class="ze_table" cellpadding="0" cellspacing="0">
                    	<tr>
                    		<td width="5" height="4"><img src="#{request.contextPath}/asset/images/table_d_40.jpg" width="5" height="4" /></td>
                    		<td colspan="6" style="border-top:1px solid #e1e1e1; background:#f0f5fb;"></td>
                            <td width="5" height="4"><img src="#{request.contextPath}/asset/images/table_d_43.jpg" width="5" height="4" /></td>
                    	</tr>
                    	<tr>
                    		<th class="ze_bg ze_bt_le" width="5" height="4"></th>
                            <th class="ze_bg" width="15%">订单编号</th>
                    		<th class="ze_bg" width="20%">收货人</th>
                    		<th class="ze_bg" width="20%">收货地址</th>
                    		<th class="ze_bg" width="15%">收货手机</th>
                    		<th class="ze_bg" width="15%">收货方式</th>
                    		<th class="ze_bg" width="15%">操作</th>
                            <th class="ze_bg ze_bt_ri" width="5" height="4"></th>
                    	</tr>
                    	<s:decorate rendered="#{empty memberOrderInfoList.resultList}">
	                    	<tr>
	                    		<td class="ze_bg2" colspan="13"><h:outputText value="没有找到符合条件的记录" /></td>
	                    	</tr>
						</s:decorate>
						<a4j:repeat value="#{memberOrderInfoList.resultList}" var="_orderInfo" rendered="#{not empty memberOrderInfoList.resultList}" rowKeyVar="_index">
                    	<tr>
                    		<td class="ze_bg2 ze_bt_le" width="5" height="4"></td>
                            <td class="ze_bg2"><h:outputText  value="#{_orderInfo.orderCode}" /></td>
                            <td class="ze_bg2"><h:outputText  value="#{_orderInfo.receiveName}" /></td>
                            <td class="ze_bg2"><h:outputText  value="#{_orderInfo.receiveAddress}" /></td>
                            <td class="ze_bg2"><h:outputText  value="#{_orderInfo.receivePhone}" /></td>
                            <td class="ze_bg2">
                            	<h:outputText  value="#{orderConstant.getPayTypeLabel(_orderInfo.paymentMode)}" />
                            </td>
                            
                    		<td class="ze_bg2">
								<s:link view="/orderManage/OrderView.xhtml" title="查看" style="text-decoration:none;" propagation="#{empty from ? 'none' : 'default'}" id="orderViewId">
	                                <img src="#{request.contextPath}/asset/images/02_63.png" width="18" height="18" />
					                <f:param name="orderInfoId" value="#{_orderInfo.orderInfoId}"/>
					                <f:param name="orderStatus" value="0"/>
					            </s:link>&#160;
                            </td>
                            <td class="ze_bg2 ze_bt_ri" width="5" height="4"></td>
                    	</tr>
                    	</a4j:repeat>
                    </table>
                    <h:form id="orderFrom">
    					<!-- 翻页开始 -->
    					<s:decorate rendered="#{not empty memberOrderInfoList.resultList}">
	                    <table style="height:30px; margin:40px auto 0 auto;" cellpadding="0" cellspacing="0">
	                    	<tr>
			                	<td>
			                		<img src="#{request.contextPath}/asset/images/page_67.jpg" width="4" height="30" />
			                	</td>
	                            <td class="td_t_b"  style="#{memberOrderInfoList.previousExists?'':'display:none'}">
	                            	<a4j:commandLink style="color:#333333;" id="firstPage9" action="#{memberOrderInfoList.pages(0)}" reRender="memberOrderInfoPanel" >首页</a4j:commandLink>
	                            </td>
	                            <td class="td_t_b td_t_t"  style="#{memberOrderInfoList.previousExists?'':'display:none'}">
	                            	<a4j:commandLink style="color:#333333;"  id="previousPage9" action="#{memberOrderInfoList.pages(memberOrderInfoList.previousFirstResult)}" reRender="memberOrderInfoPanel">&lt;</a4j:commandLink>
	                            </td>
		                        <a4j:repeat var="_page" value="#{memberOrderInfoList.pageList}" rowKeyVar="_index">
									<td class="td_t_b #{memberOrderInfoList.previousExists or _index >0 ?'td_t_t':''} #{_page eq memberOrderInfoList.pageNum?'onp':''}">
										
										<a4j:commandLink  id="nextPage9" 
												action="#{memberOrderInfoList.pages(_page)}" 
												reRender="memberOrderInfoPanel">
											#{_page}
										</a4j:commandLink>
									</td>
								</a4j:repeat>
	                            <td class="td_t_b td_t_t" style="#{memberOrderInfoList.nextExists?'':'display:none'}">
	                            	<a4j:commandLink style="color:#333333;"  id="nextPage9" action="#{memberOrderInfoList.pages(memberOrderInfoList.nextFirstResult)}" reRender="memberOrderInfoPanel">&gt;</a4j:commandLink>
	                            </td>
	                            <td class="td_t_b td_t_t" style="#{memberOrderInfoList.nextExists?'':'display:none'}">
	                            	<a4j:commandLink style="color:#333333;"  id="lastPage9" action="#{memberOrderInfoList.pages(memberOrderInfoList.lastFirstResult)}" reRender="memberOrderInfoPanel">尾页 </a4j:commandLink>
								</td>
								
	                            <td class="td_t_b td_t_t" style=" color:#9a9a9c;">
	                            
	                            	共#{memberOrderInfoList.PAGE_COUNT}页
	                            </td>
                         				<td ><img src="#{request.contextPath}/asset/images/page_70.jpg" width="4" height="30" /></td>
	                    	</tr>
	                    </table>
	                    </s:decorate>
					<!-- 翻页结束-->
    				</h:form>
                    <!-- 第一个table结束-->
                    </div>
                              <!--  叶类结束    -->
                        <div class="clear"></div>
                        </div>
                    	<div class="clear"></div>
                    </div>
					</rich:panel>
                     <!--商品分类结束-->
                     
                     <!-- 弹出窗体开始 -->
					<rich:modalPanel id="memberOrderDetailPanel" autosized="true" headerClass="modalHeader" >
								<div class="tck_div" style="width: 600px; height: 550px;">
							       <div class="tck_ti" >
							       <h:outputLink value="#"
							                onclick="#{rich:component('memberOrderDetailPanel')}.hide(); return false;">
							                    <img src="../images/close_17.jpg" width="20" height="20"/>
							                </h:outputLink>
							                </div>
							               	<table width="100%" >
							                    <tr>
							                    	<td align="center" width="100%">
							                    	<iframe id="orderInfoIframe"  frameborder="0" name="orderInfoIframe" src="" width="100%" height="430">
													</iframe>
							                        </td>
							                    </tr>
							                    <tr>
							                    	<td width="100%" style="padding-left: 0px;" align="center" valign="bottom">
							                    	<a style="margin-top:10px; text-align:center; width:70px; height:25px; background:#1c497e; line-height:25px; display:block; color:#ffffff;" onclick="#{rich:component('memberOrderDetailPanel')}.hide();" href="javascript:void(0);">关闭</a></td>
							                    </tr>
							                </table>
							       </div>
						
						
					</rich:modalPanel>
 					<!-- 弹出窗体结束 --> 
               </div>
                     
                     
                     
                     <!-- 第二个tab2开始 -->	
                     	<div>
										    <rich:panel id="addressPanel">
										    	<table cellpadding="0" cellspacing="0" class="stripe" style="width: 100%;">
										    		<tr>
				   										<td >
				   											<table cellpadding="0" cellspacing="0" style="margin-left:10px;">
				                                        		<tr>
						                                            <td align="center">
					                                            	</td>
						                                            <td align="left" style="padding-left:2px;">
						                                             <div class="tjan_02" style="margin-top: 0px;text-align: right;">
						                                            	<a onclick="openAddressPanel(null,'','','','','',null,null,null);" href="javascript:void(0);"><img src="#{request.contextPath}/asset/images/tj_03.jpg" width="44" height="30" /></a>
					                                            	</div>
						                                            	
					                                            	</td>
						                                            <td width="15" align="center">
					                                            	</td>
						                                            <td align="center"></td>
						                                            <td align="center"></td>
				                                        		</tr>
				                                    		</table>
				   										</td>
				   									</tr>
													<tr>
	  													<td align="center" style="background-color:#ffffff;">                             
														        <table width="100%" class="ze_table" cellpadding="0" cellspacing="0">
											                    	<tr>
											                    		<td width="5" height="4"><img src="#{request.contextPath}/asset/images/table_d_40.jpg" width="5" height="4" /></td>
											                    		<td colspan="6" style="border-top:1px solid #e1e1e1; background:#f0f5fb;"></td>
											                            <td width="5" height="4"><img src="#{request.contextPath}/asset/images/table_d_43.jpg" width="5" height="4" /></td>
											                    	</tr>
											                    	<tr>
											                    		<th class="ze_bg ze_bt_le" width="5" height="4"></th>
											                    		<th class="ze_bg" width="15%">收货人</th>
											                    		<th class="ze_bg" width="20%">手机号码</th>
											                    		<th class="ze_bg" width="15%">邮编</th>
											                    		<th class="ze_bg" width="15%">固定电话</th>
											                    		<th class="ze_bg" width="25%">地址</th>
											                    		<th class="ze_bg" width="20%">操作</th>
											                            <th class="ze_bg ze_bt_ri" width="5" height="4"></th>
											                    	</tr>
											                    	<s:decorate rendered="#{empty memberDeliverAddressList.resultList}">
												                    	<tr>
												                    		<td class="ze_bg2" colspan="13"><h:outputText value="没有找到符合条件的记录" /></td>
												                    	</tr>
																	</s:decorate>
																	<a4j:repeat id="memberDeliverAddressList" value="#{memberDeliverAddressList.resultList}" var="_address" rendered="#{not empty memberDeliverAddressList.resultList}" rowKeyVar="_index">
											                    	<tr>
											                    		<td class="ze_bg2 ze_bt_le" width="5" height="4"></td>
											                            <td class="ze_bg2"><h:outputText  value="#{_address.consignee}" /></td>
											                            <td class="ze_bg2"><h:outputText  value="#{_address.phone}" /></td>
											                            <td class="ze_bg2"><h:outputText  value="#{_address.zipCode}" /></td>
											                            <td class="ze_bg2"><h:outputText  value="#{_address.tel}" /></td>
											                            <td class="ze_bg2"><h:outputText  value="#{_address.address}" /></td>
											                    		<td class="ze_bg2">
											                            	<a class="list_edit" onclick="openAddressPanel(#{_address.deliverAddressId},'#{_address.consignee}','#{_address.phone}','#{_address.tel}','#{_address.address}','#{_address.zipCode}',null,null,null);" href="javascript:void(0);"></a>
											                            	<a class="list_delete" onclick="delAddress(#{_address.deliverAddressId});" href="javascript:void(0);"></a>
											                            </td>
											                            <td class="ze_bg2 ze_bt_ri" width="5" height="4"></td>
											                    	</tr>
											                    	</a4j:repeat>
											                    	
											                    </table>
											                    <h:form id="addressFrom">
														    					<!-- 翻页开始 -->
														    					<s:decorate rendered="#{not empty memberDeliverAddressList.resultList}">
															                    <table style="height:30px; margin:40px auto 0 auto;" cellpadding="0" cellspacing="0">
															                    	<tr>
																		                <td>
																		                	<img src="#{request.contextPath}/asset/images/page_67.jpg" width="4" height="30" /></td>
																                            <td class="td_t_b" style="#{memberDeliverAddressList.previousExists ? '':'display:none'}">
																                            	<a4j:commandLink style="color:#333333;" id="firstPage3" action="#{memberDeliverAddressList.pages(0)}" rendered="#{memberDeliverAddressList.previousExists}" reRender="addressPanel">首页</a4j:commandLink>
																                            </td>
																                            <td class="td_t_b td_t_t" style="#{memberDeliverAddressList.previousExists ? '':'display:none'}">
																                            	<a4j:commandLink style="color:#333333;"  id="previousPage3" action="#{memberDeliverAddressList.pages(memberDeliverAddressList.previousFirstResult)}" rendered="#{memberDeliverAddressList.previousExists}" reRender="addressPanel">&lt;</a4j:commandLink>
																                            </td>
																                            
																							 <a4j:repeat var="_page" value="#{memberDeliverAddressList.pageList}" rowKeyVar="_index">
																								<td class="td_t_b #{memberDeliverAddressList.previousExists or _index >0 ?'td_t_t':''} #{_page eq memberDeliverAddressList.pageNum?'onp':''}">
																									
																									<a4j:commandLink id="nextPage9" 
																											action="#{memberDeliverAddressList.pages(_page)}" 
																											reRender="addressPanel">
																										#{_page}
																									</a4j:commandLink>
																								</td>
																							</a4j:repeat>
																                            
															                            <td class="td_t_b td_t_t" style="#{memberDeliverAddressList.nextExists ? '':'display:none'}">
															                            	<a4j:commandLink style="color:#333333;"  id="nextPage3" action="#{memberDeliverAddressList.pages(memberDeliverAddressList.nextFirstResult)}" rendered="#{memberDeliverAddressList.nextExists}" reRender="addressPanel">&gt;</a4j:commandLink>
															                            </td>
															                            <td class="td_t_b td_t_t" style="#{memberDeliverAddressList.nextExists ? '':'display:none'}">
															                            	<a4j:commandLink style="color:#333333;"  id="lastPage3" action="#{memberDeliverAddressList.pages(memberDeliverAddressList.lastFirstResult)}" rendered="#{memberDeliverAddressList.nextExists}" reRender="addressPanel">尾页</a4j:commandLink>
																						</td>
															                            <td class="td_t_b td_t_t" style=" color:#9a9a9c;">共#{memberDeliverAddressList.PAGE_COUNT}页</td>
											                            				<td ><img src="#{request.contextPath}/asset/images/page_70.jpg" width="4" height="30" /></td>
															                    	</tr>
															                    </table>
															                    </s:decorate>
																		<!-- 翻页结束-->
																		
																	    		<a4j:commandLink id="refreshAddressShow" action="#{memberDeliverAddressList.refreshAddress}" reRender="addressPanel"></a4j:commandLink>
																    		</h:form>
													    </td>
												    </tr>
												    
											    </table>
										    </rich:panel>
										    <rich:panel id="addressUpdatePanel" style="display:none;">
										    	<h:form id="addressSearch">
										    		<div class="r_title_orderView">
								                    	<div class="r_t_l"> 
								                    	<font size="2">配送地址信息</font>
								                    	</div>
								                    </div>
										    		<div class="all_d3">
										    				
								                		<div class="all_da all_w01">
								                        	<table>
								                                <tr>
								                                    <td class="all_te">收件人姓名：</td>
								                                    <td>
								                                    	<s:decorate id="consigneeField" template="../layout/edit.xhtml">
								                                    	 <h:inputText id="consignee"
														                        styleClass="r_c_text"
														                          value="#{deliverAddressHome.instance.consignee}">
														                </h:inputText>
														                </s:decorate>
								                                    </td>
								                                </tr>
								                            </table>
								                        </div>
								                        <div class="all_da all_w01">
								                        	<table>
								                                <tr>
								                                    <td class="all_te">手机：</td>
								                                    <td>
								                                    	<s:decorate id="phoneField" template="../layout/edit.xhtml">
								                                    	 <h:inputText id="phone"
														                        styleClass="r_c_text"
														                          value="#{deliverAddressHome.instance.phone}">
														                </h:inputText>
														                </s:decorate>
								                                    </td>
								                                </tr>
								                            </table>
								                        </div>
								                        <div class="all_da all_w01">
								                        	<table>
								                                <tr>
								                                    <td class="all_te">固定电话：</td>
								                                    <td>
								                                    	<s:decorate id="telField" template="../layout/edit.xhtml">
								                                    	 <h:inputText id="tel"
														                        styleClass="r_c_text"
														                          value="#{deliverAddressHome.instance.tel}">
														                </h:inputText>
														                </s:decorate>
								                                    </td>
								                                </tr>
								                            </table>
								                        </div>
								                        <div class="all_da all_w01">
								                        	<table>
								                                <tr>
								                                    <td class="all_te">地址：</td>
								                                    <td>
								                                    	<s:decorate id="addressField" template="../layout/edit.xhtml">
								                                    	 <h:inputText id="address"
														                        styleClass="r_c_text"
														                          value="#{deliverAddressHome.instance.address}">
														                </h:inputText>
														                </s:decorate>
								                                    </td>
								                                </tr>
								                            </table>
								                        </div>
								                        <div class="all_da all_w01">
								                        	<table>
								                                <tr>
								                                    <td class="all_te">邮编：</td>
								                                    <td>
								                                    	<s:decorate id="zipCodeField" template="../layout/edit.xhtml">
								                                    	 <h:inputText id="zipCode"
														                        styleClass="r_c_text"
														                          value="#{deliverAddressHome.instance.zipCode}">
														                </h:inputText>
														                </s:decorate>
								                                    </td>
								                                </tr>
								                            </table>
								                        </div>
								                        <div style="text-align: center; width: 100%">
															<span id="addressButton" style="display: none;">
																<a onclick="saveAddress();" class="edit_save" href="javascript:void(0);" />
																<a onclick="closeAddressPanel();" class="edit_back" href="javascript:void(0);"/>
															</span>
														</div>
								                    </div>
												</h:form>
										    </rich:panel>
										    <div class="clear"></div>
									    </div>
                     <!-- 第二个tab2结束-->
                     
                     



                     
                     
                     
                     
                     <!-- 第三个tab3开始 -->
                     <div>
                     <div class="contact_list" style="width:100%;">
										    <rich:panel id="commModePanel">
										    	<table cellpadding="0" cellspacing="0" class="stripe" style="width: 100%;">
													<tr>
				   										<td >
				   											<table cellpadding="0" cellspacing="0" style="margin-left:10px;">
				                                        		<tr>
						                                            <td align="center">
					                                            	</td>
						                                            <td align="left" style="padding-left:2px;">
						                                            <div class="tjan_02" style="margin-top: 0px;text-align: right;">
						                                            	<a onclick="#{rich:component('commModeAddPanel')}.show(); openCommModePanel(null,null,null,''); return false;" href="javascript:void(0);"><img src="#{request.contextPath}/asset/images/tj_03.jpg" width="44" height="30" /></a>
					                                            	</div>
					
					                                            	</td>
						                                            <td width="15" align="center">
					                                            	</td>
						                                            <td align="center"></td>
						                                            <td align="center"></td>
				                                        		</tr>
				                                    		</table>
				   										</td>
				   									</tr>
													
													<tr>
	  													<td align="center" style="background-color:#ffffff;">                             
														        <table width="100%" class="ze_table" cellpadding="0" cellspacing="0">
											                    	<tr>
											                    		<td width="5" height="4"><img src="#{request.contextPath}/asset/images/table_d_40.jpg" width="5" height="4" /></td>
											                    		<td colspan="5" style="border-top:1px solid #e1e1e1; background:#f0f5fb;"></td>
											                            <td width="5" height="4"><img src="#{request.contextPath}/asset/images/table_d_43.jpg" width="5" height="4" /></td>
											                    	</tr>
											                    	<tr>
											                    		<th class="ze_bg ze_bt_le" width="5" height="4"></th>
											                            <th class="ze_bg" width="15%">类型</th>
											                    		<th class="ze_bg" width="15%">子类型</th>
											                    		<th class="ze_bg" width="30%">内容</th>
											                    		
											                    		<th class="ze_bg" width="20%">创建时间</th>
											                    		<th class="ze_bg" width="20%">操作</th>
											                            <th class="ze_bg ze_bt_ri" width="5" height="4"></th>
											                    	</tr>
											                    	<s:decorate rendered="#{empty memberCommModeList.resultList}">
												                    	<tr>
												                    		<td class="ze_bg2" colspan="13"><h:outputText value="没有找到符合条件的记录" /></td>
												                    	</tr>
																	</s:decorate>
																	<a4j:repeat id="memberCommModeList" value="#{memberCommModeList.resultList}" var="_mcm" rendered="#{not empty memberCommModeList.resultList}" rowKeyVar="_index">
											                    	<tr>
											                    		<td class="ze_bg2 ze_bt_le" width="5" height="4"></td>
											                            <td class="ze_bg2">
																			<h:outputText value="电话" rendered="#{_mcm.commModeType == 1}"/>
															            	<h:outputText value="邮箱" rendered="#{_mcm.commModeType == 2}"/>
															            	<h:outputText value="即时通讯" rendered="#{_mcm.commModeType == 3}"/>
																		</td>
											                            <td class="ze_bg2"><h:outputText value="#{memberCommModeList.queryDataDics(_mcm.childModeType)}"></h:outputText></td>
											                            <td class="ze_bg2"><h:outputText value="#{_mcm.content}"></h:outputText></td>
											                            <td class="ze_bg2">
												                            <h:outputText value="#{_mcm.insertTime}">
																				<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd HH:mm:ss" />
																			</h:outputText>
																		</td>
											                    		<td class="ze_bg2">
											                            	<a  class="list_edit" onclick="#{rich:component('commModeAddPanel')}.show(); openCommModePanel(#{_mcm.commModeId},#{_mcm.commModeType},#{_mcm.childModeType},'#{_mcm.content}'); return false" href="javascript:void(0);"></a>
											                            	<a  class="list_delete" onclick="delCommMode(#{_mcm.commModeId});" href="javascript:void(0);"></a>
											                            </td>
											                            <td class="ze_bg2 ze_bt_ri" width="5" height="4"></td>
											                    	</tr>
											                    	</a4j:repeat>
											                    </table>
											                    <h:form id="commModeFrom">
																	    		<!-- 翻页开始 -->
																	    		<s:decorate rendered="#{not empty memberCommModeList.resultList}">
															                    <table style="height:30px; margin:40px auto 0 auto;" cellpadding="0" cellspacing="0">
															                    	<tr>
																		                <td>
																		                	<img src="#{request.contextPath}/asset/images/page_67.jpg" width="4" height="30" />
																		                </td>
															                            <td class="td_t_b" style="#{memberCommModeList.previousExists?'':'display:none'}">
															                            	<a4j:commandLink style="color:#333333;" id="firstPage9" action="#{memberCommModeList.pages(0)}" rendered="#{memberCommModeList.previousExists}" reRender="commModePanel">首页</a4j:commandLink>
															                            </td>
															                            <td class="td_t_b td_t_t" style="#{memberCommModeList.previousExists?'':'display:none'}">
															                            	<a4j:commandLink style="color:#333333;"  id="previousPage9" action="#{memberCommModeList.pages(memberCommModeList.previousFirstResult)}" rendered="#{memberCommModeList.previousExists}" reRender="commModePanel">&lt;</a4j:commandLink>
															                            </td>
																                        
																                        <a4j:repeat var="_page" value="#{memberCommModeList.pageList}" rowKeyVar="_index">
																							<td class="td_t_b #{memberCommModeList.previousExists or _index >0 ?'td_t_t':''} #{_page eq memberCommModeList.pageNum?'onp':''}">
																								<a4j:commandLink id="nextPage9" 
																										action="#{memberCommModeList.pages(_page)}" 
																										reRender="commModePanel">
																									#{_page}
																								</a4j:commandLink>
																							</td>
																						</a4j:repeat>
																                        
																                        
															                            <td class="td_t_b td_t_t" style="#{memberCommModeList.nextExists?'':'display:none'}">
															                            	<a4j:commandLink style="color:#333333;"  id="nextPage9" action="#{memberCommModeList.pages(memberCommModeList.nextFirstResult)}" rendered="#{memberCommModeList.nextExists}" reRender="commModePanel">&gt;</a4j:commandLink>
															                            </td>
															                            <td class="td_t_b td_t_t" style="#{memberCommModeList.nextExists?'':'display:none'}">
															                            	<a4j:commandLink style="color:#333333;"  id="lastPage9" action="#{memberCommModeList.pages(memberCommModeList.lastFirstResult)}" rendered="#{memberCommModeList.nextExists}" reRender="commModePanel">尾页 </a4j:commandLink>
																						</td>
															                            <td class="td_t_b td_t_t" style=" color:#9a9a9c;">共#{memberCommModeList.PAGE_COUNT}页</td>
											                            				<td ><img src="#{request.contextPath}/asset/images/page_70.jpg" width="4" height="30" /></td>
															                    	</tr>
															                    </table>
															                    </s:decorate>
																			<!-- 翻页结束-->
																	    		<a4j:commandLink id="refreshCommModeShow" action="#{memberCommModeList.refreshCommMode}" reRender="commModePanel"></a4j:commandLink>
																    		</h:form>
													    </td>
												    </tr>
												    
											    </table>
										    </rich:panel>

								<!-- 弹出窗体开始 -->
								<rich:modalPanel id="commModeAddPanel" autosized="true" headerClass="modalHeader">
									<div class="tck_div">
							       <div class="tck_ti" >
							       <h:outputLink value="#"
							                onclick="#{rich:component('commModeAddPanel')}.hide(); return false;">
							                    <img src="../images/close_17.jpg" width="20" height="20"/>
							                </h:outputLink>
							                </div>
							               <a4j:form>
													<a4j:jsFunction name="addCommMode" action="#{memberCommModeList.addCommMode}" oncomplete="addCommModeComplete()">
														<a4j:actionparam name="commModeId" assignTo="#{memberCommModeList.commModeId}"/>
														<a4j:actionparam name="type" assignTo="#{memberCommModeList.type}"/>
														<a4j:actionparam name="childId" assignTo="#{memberCommModeList.childId}" />
														<a4j:actionparam name="content" assignTo="#{memberCommModeList.content}" />
													</a4j:jsFunction>
												</a4j:form>
							       
							               	<table class="tck_table">
							                    <tr>
							                    	<td width="80" class="font_td" align="right">通讯类型：</td>
							                        <td width="200"  >
								                			<select id="type" name="type" style="width:200px;"  styleClass="ge_file" onchange="commModeTypeSwitch(this.value)">
											  						<option value="1" >电话</option>
											  						<option value="2" >邮件</option>
											  						<option value="3" >即时通讯</option>
											  					</select>
							                        </td>
							                    </tr>
							                    <tr id="telTr">
							                    	<td align="right" class="font_td">联系方式：</td>
							                        <td  >
													  	  <select id="tel" name="tel" style="width:200px;"   styleClass="ge_file">
											  					</select>
							                        </td>
							                    </tr>
							                    <tr id="emailTr">
							                    	<td align="right" class="font_td">邮件方式：</td>
							                        <td  >
							                        	<select id="email" name="email" style="width:200px;">
											  					</select>
							                        </td>
							                    </tr>
							                    <tr id="imTr">
							                    	<td align="right" class="font_td">即时方式：</td>
							                        <td  >
							                        	<select id="im" name="im" style="width:200px;margin-left: -2px;">
											  					</select>
							                        </td>
							                    </tr>
							                    <tr id="contentTr">
							                    	<td align="right" class="font_td">内容：</td>
							                        <td >
							                        	<input type="text" style="border:1px solid #7db6da; height:18px; margin-left: 2px;width:200px;" id="content"/>
							                        </td>
							                    </tr>
							                    
							                    <tr>
							                    	<td colspan="2" style="padding-left: 50px;" align="center" valign="bottom">
							                    	<a style="margin-top:10px; text-align:center; width:70px; height:25px; background:#1c497e; line-height:25px; display:block; color:#ffffff;" onclick="#{rich:component('commModeAddPanel')}.hide(); if(!saveCommMode()){return false;};" href="javascript:void(0);">确认</a>
							                        </td>
							                    </tr>
							                </table>
							               
							       </div>
							   </rich:modalPanel>
   								<!-- 弹出窗体结束 -->
   
   
   
   
   
   
				
				
				
				
                     	</div>
                     </div>
                     <!-- 第三个tab3结束 -->	
                 </div>  
          </div>
        <!---tab页结束-->
                    
                    
                    
                    
                    
          	
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
			</td>
		</tr>
		</table>
		
		<table width="180" style="margin: 35px auto 0 auto;">
			<tr>
				<td><s:button view="/order/MemberInfoListOne.seam"
					styleClass="edit_back" id="bn_left6" style="margin-left:10px" >
						<f:param name="pageNum" value="#{memberInfoHome.pageNum}"></f:param>
					</s:button>
				</td>
			</tr>
		</table>
		<div class="clear"></div>
		</div>

		<!--表格结束-->
		<div class="clear"></div>
		</div>
		
		
		
		</td>
	
	
	
	
	
	
	<a4j:form>
		<a4j:queue requestDelay="10" ignoreDupResponses="true"/>
		
		<a4j:jsFunction name="deleteCommMode" action="#{memberCommModeList.deleteCommMode}" oncomplete="delCommModeComplete()" >
			<a4j:actionparam name="commModeId" assignTo="#{memberCommModeList.commModeId}"/>
		</a4j:jsFunction>
		<a4j:jsFunction name="deleteAddress" action="#{memberDeliverAddressList.deleteAddress}" oncomplete="delAddressComplete()" >
			<a4j:actionparam name="addressId" assignTo="#{memberDeliverAddressList.addressId}" />
		</a4j:jsFunction>
		<a4j:jsFunction name="wire" action="#{deliverAddressHome.wire}" data="#{deliverAddressHome.resultDatas}" oncomplete="wireComplete(data)" >
			<a4j:actionparam name="deliverAddressDeliverAddressId" assignTo="#{deliverAddressHome.deliverAddressDeliverAddressId}" />
		</a4j:jsFunction>
		<a4j:jsFunction name="persistAddress" action="#{memberDeliverAddressList.persistAddress}" oncomplete="addressComplete()" >
			<a4j:actionparam name="addressId" assignTo="#{memberDeliverAddressList.addressId}" />
			<a4j:actionparam name="consignee" assignTo="#{memberDeliverAddressList.consignee}" />
			<a4j:actionparam name="phone" assignTo="#{memberDeliverAddressList.phone}" />
			<a4j:actionparam name="address" assignTo="#{memberDeliverAddressList.address}" />
			<a4j:actionparam name="tel" assignTo="#{memberDeliverAddressList.tel}" />
			<a4j:actionparam name="zipCode" assignTo="#{memberDeliverAddressList.zipCode}" />
		</a4j:jsFunction>
	</a4j:form>

<script type="text/javascript" src="#{request.contextPath}/asset/js/utils.js"></script>
<script src="#{request.contextPath}/asset/js/utils.js" type="text/javascript"></script> 
<!--content结束-->
<script type="text/javascript" src="#{request.contextPath}/asset/js/tab.js"></script>
<script>
jquery(function(){
    jquery(".erlist").jTab({
        menutag: ".erlist li",
        boxtag: ".erbox > div",
        cur: 0
		
    });
});
</script>
           <script type="text/javascript">
            	jquery(".rich-calendar-input").addClass("gjss1");
            	jquery(".rich-calendar-input").removeClass("rich-calendar-input");
op = function(ind){
	if(ind.getAttribute("aa")=="1"){
		jquery(".gjs").slideDown(800);
		jquery(".gjss_a").attr("aa",2).removeClass("gjtop").addClass("gjbottom");
		
		document.getElementById("goodsInfoSearch:flag").value="2";
	}else{
		jquery(".gjs").slideUp(800);
		jquery(".gjss_a").attr("aa",1).removeClass("gjbottom").addClass("gjtop");
		document.getElementById("goodsInfoSearch:wname").value="";
		document.getElementById("goodsInfoSearch:cstart").value="";
		document.getElementById("goodsInfoSearch:cend").value="";
		document.getElementById("goodsInfoSearch:startInputDate").value="";
		document.getElementById("goodsInfoSearch:endInputDate").value="";
		document.getElementById("goodsInfoSearch:flag").value="1";
	}
}


        
se = function(obj){
	jquery(".sel").each(function(){
		jquery(this).removeClass("current");
	});
	jquery("#sel"+obj).addClass("current");

	jquery(".box2 > div").each(function(index,domEle){
		if(index==obj){
			jquery(domEle).css("display","block");
		}else{
			jquery(domEle).css("display","none");
		}
	});
}
</script>
	<script type="text/javascript">
	//<![CDATA[
		var invoiceInfoId = 0;
		var addressId = 0;
		var commModeId = 0;
		var orderInfoId = 0;
		
		function invoiceTypeSwitch(obj){
			if (obj == 1) {
				jQuery("#titleTr").css("display", "");
				var titleType = jQuery("input[name='titleType']:[checked]").val();
				if (titleType == 1) {
					jQuery("#titleNameTr").css("display", "none");
				}else {
					jQuery("#titleNameTr").css("display", "");
				}
				jQuery("#companyTr").css("display", "none");
				jQuery("#signTr").css("display", "none");
				jQuery("#bankTr").css("display", "none");
			}else {
				jQuery("#titleTr").css("display", "none");
				jQuery("#titleNameTr").css("display", "none");
				jQuery("#companyTr").css("display", "");
				jQuery("#signTr").css("display", "");
				jQuery("#bankTr").css("display", "");
			}
		}
		jquery(document).ready(function(){
			jquery("#type").change(function(){
				if (this.value == 1) {
					jQuery("#telTr").css("display", "");
					jQuery("#emailTr").css("display", "none");
					jQuery("#imTr").css("display", "none");
				}else if(this.value == 2){
					jQuery("#telTr").css("display", "none");
					jQuery("#emailTr").css("display", "");
					jQuery("#imTr").css("display", "none");
				}else{
					jQuery("#telTr").css("display", "none");
					jQuery("#emailTr").css("display", "none");
					jQuery("#imTr").css("display", "");
				}
			});
			
		});
		
		function commModeTypeSwitch(obj){
			if (obj == 1) {
				
				jQuery("#telTr").css("display", "");
				jQuery("#emailTr").css("display", "none");
				jQuery("#imTr").css("display", "none");
			}else if(obj == 2){
				jQuery("#telTr").css("display", "none");
				jQuery("#emailTr").css("display", "");
				jQuery("#imTr").css("display", "none");
			}else{
				jQuery("#telTr").css("display", "none");
				jQuery("#emailTr").css("display", "none");
				jQuery("#imTr").css("display", "");
			}
		}

		function titleTypeSwitch(obj){
			if (obj == 1) {
				jQuery("#titleTr").css("display", "");
				jQuery("#titleNameTr").css("display", "none");
				jQuery("#companyTr").css("display", "none");
				jQuery("#signTr").css("display", "none");
				jQuery("#bankTr").css("display", "none");
			}else {
				jQuery("#titleTr").css("display", "");
				jQuery("#titleNameTr").css("display", "");
				jQuery("#companyTr").css("display", "none");
				jQuery("#signTr").css("display", "none");
				jQuery("#bankTr").css("display", "none");
			}
		}

		function delInvoice(obj){
			deleteInvoice(Number(obj));
		}

		function delAddress(obj){
			if(confirm("是否删除？")){
				deleteAddress(Number(obj));
			}
		}

		function delCommMode(obj){
			if(confirm("是否删除？")){
				deleteCommMode(Number(obj));
			}
			
		}

		function saveInvoice(){
			var contentType = jQuery('select[name="contentType"]').val();
			if ("org.jboss.seam.ui.NoSelectionConverter.noSelectionValue" == contentType){
				alert("请选择详细类型...");
				return false;
			}
			var invoiceType = jQuery("input[name='invoiceType']:[checked]").val();
			if (invoiceType == 1) {
				var titleType = jQuery("input[name='titleType']:[checked]").val();
				if (titleType == 1) {
					persistInvoice(Number(invoiceType),Number(titleType), "", Number(contentType), "", "", "", "", "", "", Number(invoiceInfoId));
					return true;
				}else {
					var title = jQuery("#title").val();
					if (title == '') {
						alert("请填写抬头信息...");
						return false;
					}else {
						persistInvoice(Number(invoiceType),Number(titleType), title, Number(contentType), "", "", "", "", "", "", Number(invoiceInfoId));
						return true;
					}
				}
			}else {
				var companyName = jQuery("#companyName").val();
				var taxpayerid = jQuery("#taxpayerid").val();
				var signAddress = jQuery("#signAddress").val();
				var signTel = jQuery("#signTel").val();
				var bankName = jQuery("#bankName").val();
				var bankkonto = jQuery("#bankkonto").val();

				if (companyName == '') {
					alert("请填写单位名称...");
					return false;
				}
				if (taxpayerid == '') {
					alert("请填写纳税人编号...");
					return false;
				}
				if (signAddress == '') {
					alert("请填写注册地址...");
					return false;
				}
				if (signTel == '') {
					alert("请填写注册电话...");
					return false;
				}
				if (bankName == '') {
					alert("请填写银行名称...");
					return false;
				}
				if (bankkonto == '') {
					alert("请填写银行帐号...");
					return false;
				}
				persistInvoice(Number(invoiceType),0, "", Number(contentType), companyName, taxpayerid, signAddress, signTel, bankName, bankkonto, Number(invoiceInfoId));
				return true;
			}
		}

		function oncomplete(){
			document.getElementById("invoiceFrom:refreshInvoiceShow").onclick();
		}

		function delAddressComplete(){
			document.getElementById("addressFrom:refreshAddressShow").onclick();
		}

		function delCommModeComplete(){
			document.getElementById("commModeFrom:refreshCommModeShow").onclick();
		}
//打开添加关系人		
		function openCommPanel(){
			jQuery("#masterSlave").val("");
			jQuery("#slaveMaster").val("");
			document.getElementById("mid").value = "";
			document.getElementById("showCommPerson:memberInfoForm:memberInfoName").value = "";
		}

		  //联动赋值
		function assignMemberId(psuggestion){
			 document.getElementById("mid").value = psuggestion.getSelectedItems().pluck('memberInfoId');
		}
		function saveCommMode(){
			var type = jQuery('select[name="type"]').val();
			var child;
			var content = jQuery("#content").val();
			if(type == null){
				alert("请选择类型...");
				return false;
			}else if(type == 1){
				var telId = jQuery('select[name="tel"]').val();
				if(telId == null){
					alert("请选择联系方式...");
					return false;
				}else {
					if(telId == 66){
						var mobileData = /^((0{0,1}(14[0-9]|13[0-9]|15[0-9]|18[6-9])[0-9]{8})+)$/;
						var phoneFlag = mobileData.test(content);
						if (!phoneFlag) {
							alert("手机号码格式不正确...");
							return false;
						}
					}
					if(telId == 67){
						/*
						var telReg = /^((0[1,2]{1}\d{1}?\d{8})|(0[3-9]{1}\d{2}-?\d{7,8}))$/;
						if(!telReg.test(content)){
							alert("固定电话格式不正确...");
							return false;
						}*/
					}
					child = telId;
				}
			}else if(type == 2){
				var emailId = jQuery('select[name="email"]').val();
				if(emailId == null){
					alert("请选择联系方式...");
					return false;
				}else {
					var emailReg = /^([a-z0-9A-Z]+[_-|\.]?)+[a-z0-9A-Z]@([a-z0-9A-Z]+(-[a-z0-9A-Z]+)?\.)+[a-zA-Z]{2,}$/;
					if(!emailReg.test(content)){
						alert("Email格式不正确...");
						return false;
					}
					child = emailId;
				}
			}else if(type == 3){
				var imId = jQuery('select[name="im"]').val();
				if(imId == null){
					alert("请选择联系方式...");
					return false;
				}else {
					child = imId;
				}
			}

			if(content == ''){
				alert("请填写内容...");
				return false;
			}
			addCommMode(Number(commModeId), Number(type), Number(child), content);
			return true;
		}
		
		function addCommModeComplete(){
			document.getElementById("commModeFrom:refreshCommModeShow").onclick();
		}

		function openCommModePanel(obj,type,childId,content){
			var result = '#{memberCommModeList.resultDatas}';
			data = eval("(" + result + ")");
			jQuery("select[name='tel']").empty();
			
			jQuery(data.telArray).each(function(t,telArray){
				jQuery("<option value='" + telArray.id + "' >" + telArray.name + "</option>").appendTo("select[name='tel']")//添加下拉框的option 
			})
			jQuery("select[name='email']").empty();
			jQuery(data.emailArray).each(function(e,emailArray){
				jQuery("<option value='" + emailArray.id + "' >" + emailArray.name + "</option>").appendTo("select[name='email']")//添加下拉框的option 
			})
			jQuery("select[name='im']").empty();
			jQuery(data.imArray).each(function(i,imArray){
				jQuery("<option value='" + imArray.id + "' >" + imArray.name + "</option>").appendTo("select[name='im']")//添加下拉框的option 
			})
			commModeId = obj;
			if (type == 1) {
				jQuery('select[name="type"]').val(type);
				jQuery('select[name="tel"]').val(childId);
				jQuery("#telTr").css("display", "");
				jQuery("#emailTr").css("display", "none");
				jQuery("#imTr").css("display", "none");
			}else if (type == 2) {
				jQuery('select[name="type"]').val(type);
				jQuery('select[name="email"]').val(childId);
				jQuery("#telTr").css("display", "none");
				jQuery("#emailTr").css("display", "");
				jQuery("#imTr").css("display", "none");
			}else if (type == 3) {
				jQuery('select[name="type"]').val(type);
				jQuery('select[name="im"]').val(childId);
				jQuery("#telTr").css("display", "none");
				jQuery("#emailTr").css("display", "none");
				jQuery("#imTr").css("display", "");
			}else {
				jQuery("#telTr").css("display", "");
				jQuery("#emailTr").css("display", "none");
				jQuery("#imTr").css("display", "none");
			}
			if (content != '') {
				jQuery("#content").val(content);
			}else{
				jQuery("#content").val("");
			}
		}
		
		function openAddressPanel(obj,consignee,phone,tel,address,zipCode,pid,cid,aid){
			jQuery("#addressPanel").css("display", "none");
			jQuery("#cancelButton").css("display", "none");
			jQuery("#addressButton").css("display", "");
			jQuery("#addressUpdatePanel").css("display", "");
			addressId = obj;
			if (consignee != '') {
				document.getElementById("addressSearch:consigneeField:consignee").value = consignee;
			}else {
				document.getElementById("addressSearch:consigneeField:consignee").value = "";
			}
			if(phone != ''){
				document.getElementById("addressSearch:phoneField:phone").value = phone;
			}else {
				document.getElementById("addressSearch:phoneField:phone").value = "";
			}
			if(tel != ''){
				document.getElementById("addressSearch:telField:tel").value = tel;
			}else {
				document.getElementById("addressSearch:telField:tel").value = "";
			}
			if(address != ''){
				document.getElementById("addressSearch:addressField:address").value = address;
			}else {
				document.getElementById("addressSearch:addressField:address").value = "";
			}
			if(zipCode != ''){
				document.getElementById("addressSearch:zipCodeField:zipCode").value = zipCode;
			}else {
				document.getElementById("addressSearch:zipCodeField:zipCode").value = "";
			}
			if (obj != null) {
				wire(Number(obj));
			}
		}

		function wireComplete(data){
			data = eval("(" + data + ")");
			jQuery('select[name="addressSearch:provincialIdField:provincialId"]').val(data.pid);
		}

		function closeAddressPanel(){
			jQuery("#addressPanel").css("display", "");
			jQuery("#addressUpdatePanel").css("display", "none");
			jQuery("#cancelButton").css("display", "");
			jQuery("#addressButton").css("display", "none");
		}

		function saveAddress(){
			var consignee = document.getElementById("addressSearch:consigneeField:consignee").value;
			var phone = document.getElementById("addressSearch:phoneField:phone").value;
			var zipCode = document.getElementById("addressSearch:zipCodeField:zipCode").value;
			var address = document.getElementById("addressSearch:addressField:address").value;
			var tel = document.getElementById("addressSearch:telField:tel").value;
			
			var areaId = jQuery('select[name="addressSearch:areaIdField:areaId"]').val();
			
			if ("org.jboss.seam.ui.NoSelectionConverter.noSelectionValue" == areaId){
				alert("请选择地区信息...");
				return false;
			}
			if (consignee == '') {
				alert("请填写收货人信息...");
				return false;
			}
			if(tel != ""){
				/*var telReg = /^((0[1,2]{1}\d{1}?\d{8})|(0[3-9]{1}\d{2}-?\d{7,8}))$/;
				var telReg1 = /0\d{2,3}-\d{5,9}|0\d{2,3}-\d{5,9}/;
				if(!telReg.test(tel) && telReg1.test(tel)){
					alert("固定电话格式不正确...! ");
					return false;
				}*/
			}
			if (phone == '') {
				alert("请填写手机...");
				return false;
			}else {
				var mobileData = /^((0{0,1}(14[0-9]|13[0-9]|15[0-9]|18[6-9])[0-9]{8})+)$/;
				var phoneFlag = mobileData.test(phone);
				if (!phoneFlag) {
					alert("手机号码格式不正确...");
					return false;
				}
			}
			if (zipCode == '') {
				alert("请填写邮编...");
				return false;
			}
			if (address == '') {
				alert("请填写地址信息...");
				return false;
			}
			persistAddress(Number(addressId), consignee, phone, address, tel, zipCode);
			return true;
		}

		function addressComplete(){
			jQuery("#addressPanel").css("display", "");
			jQuery("#addressUpdatePanel").css("display", "none");
			jQuery("#cancelButton").css("display", "");
			jQuery("#addressButton").css("display", "none");
			document.getElementById("addressFrom:refreshAddressShow").onclick();
		}



		//查看订单
		function openMemberOrderPanel(id,orderCode,receiveName,receiveAddress,receivePhone,paymentMode){
			jQuery("#memberOrderInfoPanel").css("display", "none");
			jQuery("#cancelButton").css("display", "none");
			jQuery("#memberOrderInfoButton").css("display", "");
			jQuery("#memberOrderInfoDetailPanel").css("display", "");
			orderInfoId = id;
			if (orderCode != '') {
				document.getElementById("orderCode").innerHTML = orderCode;
			}else {
				document.getElementById("orderCode").innerHTML = "";
			}
			if (receiveName != '') {
				document.getElementById("receiveName").innerHTML = receiveName;
			}else {
				document.getElementById("receiveName").innerHTML = "";
			}
			if (receiveAddress != '') {
				document.getElementById("receiveAddress").innerHTML = receiveAddress;
			}else {
				document.getElementById("receiveAddress").innerHTML = "";
			}
			if (receivePhone != '') {
				document.getElementById("receivePhone").innerHTML = receivePhone;
			}else {
				document.getElementById("receivePhone").innerHTML = "";
			}
			if (paymentMode != '') {
				document.getElementById("paymentMode").innerHTML = paymentMode;
			}else {
				document.getElementById("paymentMode").innerHTML = "";
			}
		}

		function wireCompleteOrderInfo(data){
			data = eval("(" + data + ")");
			jQuery('select[name="addressSearch:provincialIdField:provincialId"]').val(data.pid);
		}

		function closeMemberOrderInfoPanel(){
			jQuery("#memberOrderInfoPanel").css("display", "");
			jQuery("#memberOrderInfoDetailPanel").css("display", "none");
			jQuery("#cancelButton").css("display", "");
			jQuery("#memberOrderInfoButton").css("display", "none");
		}

		function memberOrderInfoComplete(){
			jQuery("#addressPanel").css("display", "");
			jQuery("#addressUpdatePanel").css("display", "none");
			jQuery("#cancelButton").css("display", "");
			jQuery("#addressButton").css("display", "none");
			document.getElementById("addressFrom:refreshAddressShow").onclick();
		}


		//
		function getOrderInfoId(id){
			document.getElementById("orderInfoIframe").src="#{request.contextPath}/order/MemberOrderInfo.seam?orderInfoOrderInfoId=" + id;
		}
		
		
	
	//]]>
	</script>
		                                <script type="text/javascript" src="#{request.contextPath}/asset/js/form/superfish.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/supersubs.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery-ui.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.dataTables.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.fancybox-1.3.4.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.filestyle.mini.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.treeview.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.tipsy.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/inline.js"></script>
	</ui:define>

</ui:composition>


