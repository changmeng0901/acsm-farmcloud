<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich" 
    xmlns:a="http://richfaces.org/a4j" 
    template="/layout/template_new.xhtml">

<ui:define name="body">
<style>
.div_totl{ width:100%; margin-top:35px; font-family:"宋体";}	
.div_top3{ width:100%; padding:30px 0; text-align:center; background:#eef5f9; border:1px solid #b9daed;}
.div_top3 span{ color:#5a5a5a; text-decoration:none; margin-right:35px; display:inline-block;}	
.div_top3 span b{ font-size:14px;}
.div_top3 span strong{ font-weight:normal; font-size:12px; position:relative; top:-2px;}
.list_title02{height:39px; line-height:39px; background:#fafdfe; color:#4d4d4d; font-size:14px; text-indent:14px; font-weight:bold; text-align:left;}
.list_title01{height:39px; line-height:39px;  color:#4d4d4d; font-size:14px; text-indent:14px; font-weight:bold; text-align:left;}

.list_title07{height:39px; line-height:39px; color:#3c3c3c; font-size:14px; text-indent:14px; font-weight:bold; text-align:left;}
.list_block{width:100%; margin: 10px auto;}
.genzth{ color:#5a5a5a; height:30px; line-height:30px; padding-left:12px;}
.genztd{ color:#5a5a5a; height:30px; line-height:30px; padding-left:12px;}
.people_02{ width:100%; padding:5px 0;font-family:"宋体"; }
.sjw_03{ text-align:left;}
.sj_name{ text-align:left; min-width:300px; _width:300px; float:left; line-height:30px; padding:10px 0; color:#3c3c3c; }
.sj_address{text-align:left;line-height:30px; padding:10px 0px 10px 18px; color:#3c3c3c; }
.psfs{ text-align:left; font-family:"宋体"; color:#3c3c3c;} 
.psfs dt{ height: 30px; padding-left:18px; line-height: 30px; margin-right: 8px; padding-bottom:10px; padding-top:10px;  vertical-align: middle; background:url(../asset/images/list_line_07.jpg) bottom repeat-x; }
.psfs dd{ padding-bottom:10px; padding-top:10px;  padding-left:18px; line-height: 30px; background:url(../asset/images/list_line_07.jpg) bottom repeat-x;  }

.ddxq_img{ position:relative; top:2px;}

.sjw_03d{ text-align:left; padding-left:18px;}
.sj_named{ text-align:left; min-width:300px; _width:300px; float:left; line-height:30px; padding:10px 0; color:#3c3c3c; background:url(../asset/images/list_line_07.jpg) bottom repeat-x; }
.sj_addressd{text-align:left;line-height:30px; padding:10px 0; color:#3c3c3c; background:url(../asset/images/list_line_07.jpg) bottom repeat-x; }

.car_list{width:100%;}
.car_table{border-collapse:collapse; border:1px solid #eaeced; font-family:"宋体";}
.car_table th{ height:34px; line-height:34px; background:#f7fafb; border-bottom:1px solid #eaeced; font-weight:normal; color:#303133; border-right:1px solid #eaeced;}
.car_tatd{ height:80px; overflow:hidden; color:#303133; border-bottom:1px solid #eaeced; border-right:1px solid #eaeced;}
.car_table td td{ border:none;}
.car_text{ font-size:14px; font-family:"宋体";}
.car_text b{ font-family:"宋体";}
.car_text2{ font-size:14px; font-weight:bold; font-family:"微软雅黑";}
.car_text3{ font-family:"微软雅黑"; color:#e76915; font-size:20px;}
.car_text4{ font-family:"微软雅黑"; font-size:20px; color:#e76915; }
.car_dl a{ text-decoration:none;font-size:14px; font-weight:bold; color:#23548e; }
.car_ul{padding-right:20px; text-align:right; float:right;}
.car_ul ul li{ line-height:30px;}
.car_span{ width:100px; text-align:right;}
.td_img{width:75px; height:75px; border:1px solid #f0f0f0; display:block;}
.carpage{ padding:0 4px;}
.td_r02{ border-right:0px solid #eaeced;}
.car_button{ width:100%; height:36px; text-align:right; margin-top:15px;}
.car_button img{ margin-left:10px;}
.dr-table-subheadercell{font-size:12px; height:30px;}
.dr-table-cell{font-size:12px; height:25px;}
</style>
       <td valign="top" >
	         <div class="right_c">
                            	<div class="r_title">
                    	<div class="r_t_l"><s:link propagation="none"  view="#{sessionTake.urlTemp}" style="text-decoration:none;color:black;" value="工作 ">
                    </s:link>&#160;&gt;&#160;&#160;<font size="3">订单详情</font></div>
                        <div class="r_t_r">
                        	 
                        </div>
                    </div>

            	<div class="div_totl">
				<!--订单详情开始-->
                    <div class="div_top3">
                        <span><b>订单编号：</b><strong><h:outputText value="#{orderInfoHome.instance.orderCode}"/></strong></span>
                        <span><b>状态：</b>
                        	<img class="ddxq_img" src="../asset/images/yzf_03.jpg" width="16" height="17" style="#{orderInfoHome.instance.paymentStatus == true?'display:none;':''}"/>&#160;
                        	<img class="ddxq_img" src="../asset/images/yizhifu.png" width="16" height="17" style="#{orderInfoHome.instance.paymentStatus == false?'display:none;':''}"/>&#160;
				            <strong>
								<h:outputText value="已支付" rendered="#{orderInfoHome.instance.paymentStatus == true}"/>
								<h:outputText value="未支付" rendered="#{orderInfoHome.instance.paymentStatus == false}"/>
							</strong></span>
			
                        <span><b>订单类型：</b><strong> 
			<h:outputText value="普通订单" rendered="#{orderInfoHome.instance.orderType == 1}"/>
			<h:outputText value="计次订单" rendered="#{orderInfoHome.instance.orderType == 2}"/>
			</strong></span>
                        <div class="clear"></div>
                    </div>
                    <!--订单跟踪开始-->
                    <s:decorate rendered="#{not empty orderRecordList.resultList}">
                    <div class="list_block" style="border:1px solid #d9e6eb;">   
                        <div class="list_title02">订单跟踪</div>
                        <table width="100%">
                            <tr>
                                <th class="genzth" width="20%" align="left">处理时间</th>
                                <th class="genzth" width="60%" align="left">处理信息</th>
                                <th class="genzth" width="20%" align="center">操作人</th>
                            </tr>
							<a:repeat value="#{orderRecordList.resultList}" var="_or">
                            <tr>
                             	<td class="genztd" width="20%" align="left"><h:outputText value="#{_or.insertTime}"><s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd HH:mm:ss" /></h:outputText></td>
                                <td class="genztd"  width="60%" align="left">#{_or.description}</td>
                                <td class="genztd"  width="20%" align="center">#{_or.operater}</td>
                            </tr>
                        	</a:repeat>
                        </table>
                        <div class="clear"></div>
                    </div>
                    </s:decorate>
                    <!--订单跟踪结束-->
                    <!--收货人信息开始-->
                    <div class="list_block">   
                        <div class="list_title01"><img class="ddxq_img" src="../asset/images/ddxq.jpg" width="16" height="14" />&#160;收货人信息</div>
                                    <div class="people_02">
                                        <div class="sjw_03">
                                            <div style="padding-left:18px; background:url(../asset/images/list_line_07.jpg) bottom repeat-x; ">
                                                <div class="sj_name">收货人姓名：<h:outputText value="#{orderInfoHome.instance.receiveName}"/></div>
                                                <div class="sj_name">座机：<h:outputText value="#{orderInfoHome.instance.receiveTel}"/></div>
                                                <div class="sj_name">联系方式：<h:outputText value="#{orderInfoHome.instance.receivePhone}"/></div>
                                                <div class="clear"></div>
                                            </div>
                                            <div class="sj_address">配送地址：<h:outputText value="#{orderInfoHome.instance.receiveAddress}"/></div>
                                        </div>                                    
                                    </div>	
                        <div class="clear"></div>
                    </div>
                    <!--收货人信息结束-->
                    <!--    配送方式开始        -->
                     <div class="list_block">   
                                <div class="list_title01"><img class="ddxq_img" src="../asset/images/ddxq2.jpg" width="21" height="12" />&#160;配送方式</div>
                                <dl class="psfs">
                                    
                                    <dd>
                                        <span>配送时间：<h:outputText value="#{orderInfoHome.instance.deliverTime}">
					<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd" /></h:outputText></span>
					<span>| <h:outputText value="全天" rendered="#{orderInfoHome.instance.timeSlot eq 0}"/><h:outputText value="上午" rendered="#{orderInfoHome.instance.timeSlot eq 1}"/>
	                                        <h:outputText value="下午" rendered="#{orderInfoHome.instance.timeSlot eq 2}"/></span>
                                    </dd>
                                    <dd style="background:none;">
                                    备&#160;&#160;&#160;&#160;注：<h:outputText value="#{orderInfoHome.instance.orderRemark}"/>
                                    </dd>
                                </dl>
                       <div class="clear"></div>
                   </div>    
                   <!--    配送方式 结束        -->
                   <!--购物车开始-->
                  <div class="list_block">   
                                    <div class="list_title07"><img class="ddxq_img" src="../asset/images/ddxq3.jpg" width="14" height="13" />&#160;商品清单</div>            
                            <div class="car_list">
                                    <table width="100%" class="infor_table">
										<tr>
	                                        <td valign="top" class="infor_td" style="width: 100%;">
	                                        	<div style="width:100%; margin:10px auto 0 auto; min-height:35px;">
															<h:form styleClass="association" id="orderProduct">
																<rich:dataTable width="100%" id="orderProductList" var="_op" styleClass="stripe3" value="#{orderProductList.resultList}" 
														              onRowMouseOver="this.style.backgroundColor='#e5f6ec'" onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'">
															        <h:column>
															            <f:facet name="header">商品编号
															            </f:facet>
															            <center><h:outputText value="#{_op.productCode}"/></center>
															        </h:column>
															        <h:column>
															            <f:facet name="header">图片
															            </f:facet>
															            <center>
															            	 <img src="#{_op.productInfoId.productImage}" width="75" height="75" />
															            </center>
															        </h:column>
															        <h:column>
															            <f:facet name="header">名称
															            </f:facet>
															            <center>
															            	<h:outputText value="#{_op.productName}"></h:outputText>
															            </center>
															        </h:column>
															        <h:column>
															            <f:facet name="header">单价(元)
															            </f:facet>
															            <center>
															            	<h:outputText value="#{_op.price}"><f:convertNumber pattern="#0.00"/></h:outputText>
															            </center>
															        </h:column>
															        <h:column>
															            <f:facet name="header">数量
															            </f:facet>
															            <center>
															            	<h:outputText value="#{_op.productNum}"></h:outputText>
															            </center>
															        </h:column>
															        <h:column>
															            <f:facet name="header">规格
															            </f:facet>
															            <center>
															            	<h:outputText value="#{_op.goodsInfo.goodsSpec}"></h:outputText>
															            </center>
															        </h:column>
															        <h:column>
															            <f:facet name="header">折扣率
															            </f:facet>
															            <center>
															            	<h:outputText value="#{_op.discount}"></h:outputText>%
															            </center>
															        </h:column>
															        <h:column>
															            <f:facet name="header">单品总价(元)
															            </f:facet>
															            <center>
															            	<h:outputText value="#{_op.totalPrice}"><f:convertNumber pattern="#0.00"/></h:outputText>
															            </center>
															        </h:column>
															    </rich:dataTable>
															</h:form>
															<div class="tableControl">
																<s:link propagation="none"  view="/order/OrderInfo.xhtml" rendered="#{orderProductList.previousExists}" value="#{messages.left}#{messages.left} 首页" id="firstPage">
															          <f:param name="firstResult" value="0"/>
															          <f:param name="flag" value="1"/>
															        </s:link>
															        <s:link propagation="none"  view="/order/OrderInfo.xhtml" rendered="#{orderProductList.previousExists}" value="#{messages.left} 上一页" id="previousPage">
															            <f:param name="firstResult" value="#{orderProductList.previousFirstResult}"/>
															            <f:param name="flag" value="1"/>
															        </s:link>
															        <s:link propagation="none"  view="/order/OrderInfo.xhtml" rendered="#{orderProductList.nextExists}" value="下一页 #{messages.right}" id="nextPage">
															            <f:param name="firstResult" value="#{orderProductList.nextFirstResult}"/>
															            <f:param name="flag" value="1"/>
															        </s:link>
															        <s:link propagation="none"  view="/order/OrderInfo.xhtml" rendered="#{orderProductList.nextExists}" value="尾页 #{messages.right}#{messages.right}" id="lastPage">
															            <f:param name="firstResult" value="#{orderProductList.lastFirstResult}"/>
															            <f:param name="flag" value="1"/>
															        </s:link>
															</div>
													<div class="clear"></div>
												</div>
	                                        </td>
	                                     </tr>
								
                            
                                       <tr>
                                          <td class="car_tatd" colspan="10">
                                            <table width="100%" cellpadding="0" cellspacing="0">
                                                <tr>
                                                <td style="border-bottom:none;">
                                                   
                                                   <div class="car_ul">
                                                        <ul>
                                                        	 <li><span class="car_span">商品金额：</span><span class="car_text2">￥</span><span class="car_span"><b>
                                                            <h:outputText value="#{orderProductList.productAccount}"><f:convertNumber pattern="#0.00"/></h:outputText>
                                                            </b></span></li>
                                                        	<!-- <li><span class="car_span">优惠金额：</span><span class="car_text2">￥</span><span class="car_span"><b></b>-<h:outputText value="#{generateOrderDetailsHome.productAccount - generateOrderDetailsHome.discountMoney}"><f:convertNumber pattern="#0.00"/></h:outputText></span></li> -->
                                                            <li><span class="car_span">运费：</span><span class="car_text2">￥</span><span class="car_span"><b><h:outputText value="#{orderInfoHome.instance.deliverAccount}"><f:convertNumber pattern="#0.00" /></h:outputText></b></span></li>
                                                        
                                                           
                                                        </ul>
                                                   </div>
                                                </td>
                                                </tr>
                                                
                                                  <tr>
                                                    <td align="right"  style="height:35px; line-height:35px; padding-right:20px; background:#f0f5fb;" colspan="11">
                                                        应付金额：<span class="car_text4">￥</span><span class="car_text3"><h:outputText value="#{orderInfoHome.instance.totalAccount}"><f:convertNumber pattern="#0.00"/></h:outputText></span>
                                                    </td>
                                                </tr>
                                           </table> 
                                       </td>
                                    </tr>    
                             </table>
                            </div>
                        
                        
                        
                 </div>           
                 <!--购物车结束-->
        
				<!--订单详情结束-->
                    <div class="ckd_button" style="text-align:right;">
                    
                    	<s:button id="cancel" styleClass="btn btn-default" value="返回" propagation="end" view="/order/OrderInfoList.xhtml"/>
                    </div>
					<div class="clear"></div>
                </div>
					<div class="clear"></div>
                </div>
            </td>    
    <!--右边结束-->
	</ui:define>
</ui:composition>