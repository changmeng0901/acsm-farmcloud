<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	template="#{sessionTake.loginStep==6?'/layout/template.xhtml':'/layout/template_custom.xhtml'}">

	<ui:define name="body">
	<td valign="top" width="195" style=" border-right:1px solid #e1e4eb;">
		<style>
		.ts_div2{width:240px; height: 125px; border: 1px solid #81C5E9; margin: 0px auto; padding: 0 15px 15px;  background: url(#{request.contextPath}/asset/images/tck_bg_14.jpg) #ffffff repeat-x scroll center top;}
		.dr-mpnl-shadow{background:none;}
		.dr-mpnl-pnl{background:none; border:none;}
		.dr-mpnl-pnl-b{padding:0;}
		.dr-mpnl-shadow{top:0; left:0;}
		.rich-picklist-source-items{margin:0;}
		 
		</style>
                <div style="width:165px; text-align:center; margin-top:35px;">
                	<img src="#{request.contextPath}/asset/images/new_031.jpg" width="80" height="739" />
                </div>
            </td>
		<td valign="top">
		<h:form id="user" enctype="multipart/form-data">
			<rich:modalPanel id="products" autosized="true" height="125" width="240" headerClass="modalHeader" >
                    	<div class="ts_div2" id="div2">
        		<div class="tck_ti"><a href="#">
        			<h:outputLink value="#"  onclick="#{rich:component('products')}.hide(); return false;">
                    <img src="#{request.contextPath}/asset/images/close_17.jpg" width="20" height="20" onclick="return closeMethod()"/>
                </h:outputLink>
        		</a></div>
        	 
				<table style="width:100%; margin-top:25px; table-layout:fixed; margin-left:15px;">
                    <tr>
                    	<td width="46" align="left"><img src="#{request.contextPath}/asset/images/tstc.jpg" width="46" height="46" /></td>
                        <td align="left" style="font-family:'宋体'; color:#000000; font-size:12px; padding-left:15px;">
                        	<span id="spanValue"></span>
                        </td>
                    </tr>
                </table>
                </div>
            </rich:modalPanel>
                <div class="right_c">
                	<div class="r_title">
                    	<div class="r_t_l"><font size="4">人员信息</font><rich:messages styleClass="messages"></rich:messages></div>
                    </div>
				<!--入库订单列表开始-->
				<div class="all_d3">
                    	<div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">名称：</td>
                                    <td>
                                       <h:inputText id="name" maxlength="50" styleClass="r_c_text" value="#{farmerInfoHome.instance.name}"/>
                                       <font color="#FF0000">*</font>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    	<div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">年龄：</td>
                                    <td>
                                        <h:inputText id="age"  maxlength="11" styleClass="r_c_text_date"  value="#{farmerInfoHome.instance.age}" />岁
                                    </td>
                                </tr>
                            </table>
                        </div>
                    	<div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">从业年限：</td>
                                    <td>
                                     <h:inputText id="workAge"  maxlength="11" value="#{farmerInfoHome.instance.workAge}"
						styleClass="r_c_text_date" />年
                                    </td>
                                </tr>
                            </table>
                        </div>
                    	<div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">电话：</td>
                                    <td ><h:inputText id="phone"  maxlength="20" value="#{farmerInfoHome.instance.phone}"
						styleClass="r_c_text" /></td>
                                </tr>
                            </table>
                        </div>
                    	<div class="all_da all_w01">
                        	<table style="*width:100%;">
                                <tr>
                                    <td class="all_te">农户类型：</td>
                                    <td >
                                       <h:selectOneMenu id = "type" style="width:146px;" value="#{farmerInfoHome.instance.type}">
									<f:selectItem itemLabel="农场管家" itemValue="1" />
									<f:selectItem itemLabel="农场监督" itemValue="2" />
								</h:selectOneMenu>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        
                    	<div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">荣誉：</td>
                                    <td>
                                       <h:inputText id="honour"  maxlength="256" value="#{farmerInfoHome.instance.honour}" styleClass="r_c_text" />
                                    </td>
                                </tr>
                            </table>
                        </div>
                         <div class="all_da all_w01" style="width:auto; display:block;">
                        	<table>
                                <tr>
                                    <td class="all_te">IE版图片：</td>
                                     <td width="250" align="left">
										<s:fileUpload id="iePitcure" size="30"
											accept="image/png,image/jpeg,image/gif"
											contentType="image/png,image/jpeg,image/gif"
											fileName="#{farmerInfoHome.instance.iePitcureName}"
											data="#{farmerInfoHome.instance.iePitcureByte}">
										</s:fileUpload>
									</td>
									<td align="left" style="padding-left:10px;">	
										<font color="#FF0000">图片宽高标准：144x144(像素)</font>
						            </td>
                                </tr>
                            </table>
                        </div>
                        <div class="all_da all_w01" style="width:auto; display:block;">
                        	<table>
                                <tr>
                                    <td class="all_te">手机版图片：</td>
                                    <td width="250" align="left">
                                      <s:fileUpload id="picture" size="30"
											accept="image/png,image/jpeg,image/gif"
											contentType="image/png,image/jpeg,image/gif"
											fileName="#{farmerInfoHome.instance.pictureName}"
											data="#{farmerInfoHome.instance.picture}">
										</s:fileUpload>
                                    </td>
                                    <td align="left" style="padding-left:10px;">	
										<font color="#FF0000">图片宽高标准：152x92(像素)</font>
						            </td>
                                </tr>
                            </table>
                        </div>
                         <div class="all_da all_w01">
                        	<table>
                                <tr>
                                    <td class="all_te">农务感言：</td>
                                    <td >
                                       <h:inputText id="wards"  maxlength="500" value="#{farmerInfoHome.instance.wards}" styleClass="r_c_text" />
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="all_da all_w01" style="width:724px;">
                        	<table>
                                <tr>
							<td class="all_te">描述：</td>
							<td>
								<h:inputTextarea id="description" styleClass="big"  value="#{farmerInfoHome.instance.description}" />
                            </td>
						</tr>
						<tr>
							<td colspan="2" height="35"></td>
						</tr>
                            </table>
                        </div>
                        <div class="clear"></div>
                   </div>
                    
                    <table width="180" style="margin:35px auto 0 auto;">
						<tr>
						  <td>
		    			    <s:button view="/custom/Second.xhtml" styleClass="edit_back_big" id="bn_left6" />
                          </td>
						  <td>
						     <h:commandButton id="persist"  styleClass="edit_save_big" action="#{farmerInfoHome.persist}" rendered="#{!farmerInfoHome.managed}"  onclick="return checkSubmit()"/>
		            	     <h:commandButton id="update"  styleClass="edit_save_big" action="#{farmerInfoHome.update}" rendered="#{farmerInfoHome.managed}"   onclick="return checkSubmit()"/>
		    			  </td>
						</tr>
                   </table> 
				<!--入库订单列表结束-->
                    <div class="clear"></div>
                </div><!--right_c结束-->
                <div class="clear"></div>
                
                 <style>
    .rich-calendar-button{
     margin-left:-8px
    }
    </style>
                
              </h:form>
<script type="text/javascript">
//<![CDATA[
function checkInteger(obj){
	  if(obj.value!=""){
		var v = obj.value;
		var reg = /^[1-9]+[0-9]*]*$/; 
			if (!reg.test(v)){
				obj.focus();
				return false;
			}
	  }
				return true;
	}
function checkSubmit(){
	   var a1 =  document.getElementById("user:name").value;
	   var a12 =  document.getElementById("user:phone").value;
	   var a2 =  checkInteger(document.getElementById("user:age"));
	   var a3 =  checkInteger(document.getElementById("user:workAge"));
	   if(a1 == ""){
		   document.getElementById("spanValue").innerHTML = "名称不能为空";
		   #{rich:component('products')}.show();return false;
	   }
	   if(!a2){
		   document.getElementById("spanValue").innerHTML = "请填写正确的年龄";
		   #{rich:component('products')}.show();return false;
	   }
	   if(a12.length>12){
		   document.getElementById("spanValue").innerHTML = "请填写正确的电话号码";
		   #{rich:component('products')}.show();return false;
	   }
	   if(!a3){
		   document.getElementById("spanValue").innerHTML = "请填写正确的从业年限";
		   #{rich:component('products')}.show();return false;
	   }

	   var description =  document.getElementById("user:description").value;
	   if(description.length > 500){
		   document.getElementById("spanValue").innerHTML = "描述不得超过200字";
		   #{rich:component('products')}.show();return false;
	   }

}
function closeMethod(){
	   var a1 =  document.getElementById("user:name");
	   var a2 =  checkInteger(document.getElementById("user:age"));
	   var a3 =  checkInteger(document.getElementById("user:workAge"));
	   var a12 =  document.getElementById("user:phone").value;
	   if(a1.value==""){
	   		a1.focus();
	   }
	   if(!a2){
		   document.getElementById("user:age").focus();
	   }
	   if(!a3){
		   document.getElementById("user:workAge").focus();
	   }
	   
	   if(a12.length>12){
		   document.getElementById("user:phone").focus();
	   }

	   var description =  document.getElementById("user:description").value;
		if(description.length > 500){
			document.getElementById("user:description").focus();
		}
}
jquery(".rich-calendar-input").addClass("r_c_text_date");
jquery(".rich-calendar-input").removeClass("rich-calendar-input");
//]]>
</script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/superfish.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/supersubs.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/hoverIntent.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.flot.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery-ui.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery-ui-select.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/customInput.jquery.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.dataTables.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.fancybox-1.3.4.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.filestyle.mini.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery-ui-timepicker-addon.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.treeview.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.tipsy.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.wysiwyg.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/inline.js"></script>
            </td> 
	</ui:define>

</ui:composition>
