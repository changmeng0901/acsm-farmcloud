<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	template="#{sessionTake.loginStep==6?'/layout/template.xhtml':'/layout/template_custom.xhtml'}">

	<ui:define name="body">
	<style>
	.ui-selectmenu{margin:0 auto; display:block;}
	.r_c_text_new2{text-align:center;}
	</style>
	<style>
	  .ts_div2{width:240px; height: 125px; border: 1px solid #81C5E9; margin: 0px auto; padding: 0 15px 15px;  background: url(#{request.contextPath}/asset/images/tck_bg_14.jpg) #ffffff repeat-x scroll center top;}
	  .dr-mpnl-shadow{background:none;}
	  .dr-mpnl-pnl{background:none; border:none;}
	  .dr-mpnl-pnl-b{padding:0;}
	  .dr-mpnl-shadow{top:0; left:0;}
	  .rich-picklist-source-items{margin:0;}
	  
	</style>
	<!-- #{realPlantHome.allTunnel()} -->
            <!--右边开始-->
            <td valign="top" width="195" style=" border-right:1px solid #e1e4eb;">
                <div style="width:165px; text-align:center; margin-top:35px;">
                	<img src="#{request.contextPath}/asset/images/new_033.jpg" width="80" height="739" />
                </div>
            </td>
            <td valign="top">
                <div class="right_c">
                	<div class="r_title">
                    	<div class="r_t_l"><font size="4">种植信息</font></div>
                    </div>
				<!--入库订单列表开始-->
				<div class="tjan_02" style="margin-top:19px;margin-bottom: 5px;">
                    	<s:link styleClass="pr_aimg22" style="float:right;" view="/custom/FourthEdit.xhtml" propagation="none" title="添加品种">
                    		<strong style="cursor: pointer;">选择作物</strong>
                    	<f:param name="tunnelInfoTunnelInfoId" /></s:link>
                    </div>
                    <h:form id="form">
                    <rich:modalPanel id="products" autosized="true" height="125"
								width="240" headerClass="modalHeader">
								<div class="ts_div2" id="div2">
								<div class="tck_ti"><a href="#"> <h:outputLink value="#"
									onclick="#{rich:component('products')}.hide(); return false;">
									<img src="#{request.contextPath}/asset/images/close_17.jpg"
										width="20" height="20"/>
								</h:outputLink> </a></div>
				
								<table
									style="width: 100%; margin-top: 25px; table-layout: fixed; margin-left: 15px;">
									<tr>
										<td width="46" align="left"><img
											src="#{request.contextPath}/asset/images/tstc.jpg" width="46"
											height="46" /></td>
										<td align="left"
											style="font-family: '宋体'; color: #000000; font-size: 12px; padding-left: 15px;">
										<span id="productMsg">*号部分为必填项！</span></td>
									</tr>
								</table>
								</div>
					</rich:modalPanel>
                	<table width="100%" class="ze_table22" cellpadding="0" cellspacing="0" style="margin-top: 7px;">
                    	<tr>
                    		<td width="5" height="4"><img src="#{request.contextPath}/asset/images/table_d_40.jpg" width="5" height="4" /></td>
                    		<td colspan="6" style="border-top:1px solid #e1e1e1; background:#f0f5fb;"></td>
                            <td width="5" height="4"><img src="#{request.contextPath}/asset/images/table_d_43.jpg" width="5" height="4" /></td>
                    	</tr>
                    	<tr>
                    		<th class="ze_bg ze_bt_le" width="5" height="4"></th>
                    		<th class="ze_bg" width="15%">大棚名称</th>
                    		<th class="ze_bg" width="15%">种植标准</th>
                    		<th class="ze_bg" width="15%">品种</th>
                    		<th class="ze_bg" width="15%">品名</th>
                    		<th class="ze_bg" width="15%">英文品名</th>
                    		<th class="ze_bg" width="25%">定值日期</th>
                            <th class="ze_bg ze_bt_ri" width="5" height="4"></th>
                    	</tr>
                    	<input type="hidden" id="hiddenId" value="#{realPlantHome.realPlantList.size()}"/>
						<a4j:repeat id="infoId" value="#{realPlantHome.realPlantList}" var="obj" rowKeyVar="_index">
                    	<tr>
                    		<td class="ze_bg2 ze_bt_le" width="5" height="4"></td>
                            
                    		<td class="ze_bg2"><h:outputText value="#{obj.tunnelInfoId.tunnelName}"/></td>
                    		<td class="ze_bg2">
								<h:selectOneMenu   styleClass="small2" id="plantingPattern" style="margin:0 auto;"  value="#{obj.plantStandard}" onclick="getyyd()" >
									<s:selectItems value="#{realPlantHome.getPlMethod()}" var="var" label="#{var.name}" itemValue="#{var.dataDicId}"/>
								</h:selectOneMenu>
                    		</td>
                    		<td class="ze_bg2">
                    		<h:selectOneMenu  id="breedName"  styleClass="small2 sss" value="#{obj.breedBreedId}" style="margin:0 auto;" onclick="getyyd()" >
										<s:selectItems value="#{realPlantHome.breedList}" var="breed" label="#{breed.name}" style="margin:0 auto; display:block;" noSelectionLabel="请添加作物"/>
										<s:convertEntity />
									</h:selectOneMenu>
                    		</td>
                    		<td class="ze_bg2">
                    		<span style=" *width:184px; *background:url(#{request.contextPath}/asset/images/text_date_11.jpg) no-repeat;"><h:inputText id="un"  value="#{obj.un}" styleClass="r_c_text_new2" size="20"/></span>
                    		</td>
                    		<td class="ze_bg2">
                            	<span style=" *width:184px; *background:url(#{request.contextPath}/asset/images/text_date_11.jpg) no-repeat;"><h:inputText   value="#{obj.enun}" styleClass="r_c_text_new2" /></span>
                            </td>
                            <td class="ze_bg2">
                            	<rich:calendar id="getTime" datePattern="yyyy-MM-dd"  value="#{obj.plantBeginTime}"/>
                            </td>
                            <td class="ze_bg2 ze_bt_ri" width="5" height="4"></td>
                    	</tr>
                    	</a4j:repeat>
                    </table>
                    <table width="180" style="margin:35px auto 0 auto;">
						<tr>
							<td>
							<s:button id="next"  view="/custom/Third.xhtml"  style="width:126px; height:36px;" image="../asset/images/order/next_27.jpg"/>
							</td>
							<td>
							 <h:commandButton id="persist"  styleClass="edit_save" action="#{realPlantHome.save}" image="../asset/images/order/next_29.jpg" style="width:126px;height:36px;cursor:pointer" onclick="return checkSubmit()">
							 </h:commandButton>
                            </td>
                            
						</tr>
                   </table> 
                        <div class="clear"></div>
		</h:form>
				<!--入库订单列表结束-->
                    <div class="clear"></div>
                </div><!--right_c结束-->
                <div class="clear"></div>
    <!--右边结束-->
    <style>
    .rich-calendar-button{
     margin-left:-8px
    }
    </style>
<script type="text/javascript">
//<![CDATA[
	jquery(".rich-calendar-input").addClass("r_c_text_date12");
	jquery(".rich-calendar-input").removeClass("rich-calendar-input");
	function checkSubmit(){
		var b = true;
		jquery(".sss").each(function(){
			var a = jquery(this).find('option:selected').text();
			if(a == "无品种" || a=="请添加作物"){
				b = false;
				document.getElementById("productMsg").innerHTML = "品种不能为空！";
				#{rich:component('products')}.show();
				return false;
			}
		});
		
		if(b){
			jquery(".r_c_text_date12").each(function(){
				var a = jquery(this).val();
				if(a == ""){
					b = false;
					document.getElementById("productMsg").innerHTML = "定植日期不能为空！";
					#{rich:component('products')}.show();
					return false;
				}
			});
		}
		return b;
	}
	function GetCurrentStyle (obj, prop) {     //IE中使用的是obj.currentStyle方法，而FF是用的是getComputedStyle 方法
		   if (obj.currentStyle) {     //判断IE
		        return obj.currentStyle[prop];    
		   }    
		    else if (window.getComputedStyle) {     //判断FF
		        //propprop = prop.replace (/([A-Z])/g, "-$1");          
		      // propprop = prop.toLowerCase ();       
		         return document.defaultView.getComputedStyle (obj,null)[prop];    
		    }     
		    return null;  
		}  
		var dd=document.getElementById("form:j_id13:0:un");  






		function getyyd(){
			var a = jquery(".ui-selectmenu ui-widget ui-state-default ui-corner-all small3 ui-selectmenu-dropdown").html();
		}
		//]]>
</script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/superfish.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/supersubs.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/hoverIntent.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.flot.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery-ui.js"></script>

<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery-ui-select.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/customInput.jquery.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.dataTables.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.fancybox-1.3.4.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.filestyle.mini.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery-ui-timepicker-addon.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.treeview.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.tipsy.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/jquery.wysiwyg.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/form/inline.js"></script>
            </td> 
	</ui:define>

</ui:composition>
