<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:a4j="http://richfaces.org/a4j"
    template="/layout/template_partition.xhtml">
<ui:define name="head">

</ui:define>
<ui:define name="body">
<!-- #{partitionInfoHome.work()} -->
 <link rel="stylesheet" type="text/css" href="#{request.contextPath}/asset/css/map/map.css"/>
 <link rel="stylesheet" href="#{request.contextPath}/asset/css/webgis/select2.css" />
 <style>
 div#menu .siteSelection{z-index: 200;}
 .dk_showtcm2>tbody> tr> td{ line-height:30px; padding-bottom:20px;}
 .fl{ float:left; display:inline;}
.bootstrap-select:not([class*="span"]):not([class*="col-"]):not([class*="form-control"]):not(.input-group-btn){ width:170px;}
.bootSelt-80{ float:left; display:inline-block;}
.bootSelt-80 .bootstrap-select{  }
.bootSelt-80 .bootstrap-select:not([class*="span"]):not([class*="col-"]):not([class*="form-control"]):not(.input-group-btn){ width:80px;}
.bootSelt-80 .bootstrap-select span{ font-size:12px; font-family:'微软雅黑';}
.bootSelt-80 .bootstrap-select > .btn{ width:80px; height:30px; line-height:18px;}
.bootSelt-80 .bootstrap-select.btn-group .dropdown-menu{ max-width:80px;}/* 下拉框最大宽度控制 */

.bootSelt-120{ float:left; display:inline-block;}
.bootSelt-120 .bootstrap-select{  }
.bootSelt-120 .bootstrap-select:not([class*="span"]):not([class*="col-"]):not([class*="form-control"]):not(.input-group-btn){ width:120px;}
.bootSelt-120 .bootstrap-select span{ font-size:12px; font-family:'微软雅黑';}
.bootSelt-120 .bootstrap-select > .btn{ width:120px; height:30px; line-height:18px;}
.bootSelt-120 .bootstrap-select.btn-group .dropdown-menu{ max-width:120px;}/* 下拉框最大宽度控制 */

.r_c_td{ text-align:right; height:30px; line-height:30px; padding-right:2px;padding-left:2px; font-family:"微软雅黑"; font-size:13px;}
.r_c_table{margin-top: 20px;}
.residual-volume-tip{ float:left; height:20px; line-height:20px; margin:8px 0 0 20px; padding-left:20px; background:url(../asset/images/farmingIco50.jpg) no-repeat 0 center; color:#f69b5f; font-size:12px;}

.farmingInputs{ position:relative; width:130px; margin-right:10px;float:inherit;display:inline-block;vertical-align: top;}
.farmingInputs p{line-height: 20px;}
.farmingInputs .closeInputs{ display:none; position:absolute; right:0; top:0; width:27px; height:23px; cursor:pointer;}
.farmingInputs_pic{ width:130px; color:#323232;}
.farmingInputs_pic:hover{ color:#323232;}
.farmingInputs_pic img{ width:128px; height:128px; border:1px solid #ddd; border-radius:5px;}
.farmingInputs_pic p{ padding-top:2px; margin-bottom:0; line-height:20px; text-align:center; }
.farmingInputs_add, .farmingInputs_add00, .farmingInputs_add1, farmingInputs_addtj{ position:relative; float:left;}
div.farmingInputs_add{float:inherit;display:inline-block;vertical-align: top;}

.farmPics{float: left; max-width:560px;}
.mt20{margin-top:20px;}
.bootstrap-select.btn-group .dropdown-menu.inner{height:150px;}
 </style>
 <link type="text/css" rel="stylesheet" href="#{request.contextPath}/asset/css/agricultural/easyFarm.css" />

<div class="box_back" id="login" style="display:none">
    <div id="login2" style="width:60px; height:60px; margin:220px auto 0 auto;"><img src="../asset/images/loginda.gif" />
  	</div>
</div>

		
<script type="text/javascript">
//<![CDATA[
function iFrameHeight() {
	 var ifm= document.getElementById("myframe");
	 var subWeb = document.frames ? document.frames["myframe"].document : ifm.contentDocument;
	 if(ifm != null && subWeb != null) {
	 	ifm.height = subWeb.body.scrollHeight;
	 }
}
document.body.style.overflow = "visible";
document.body.style.overflowX = "hidden";
//]]>
</script>
<a4j:form>
<a4j:queue requestDelay="10" ignoreDupResponses="true" id="mainQueue"/>
<a4j:jsFunction name="reFreshInfo"  status="ajaxStatus" eventsQueue="mainQueue" reRender="costI,operate,operate_js,info_all,harvest" action="#{partitionInfoHome.reFreshInfo}" oncomplete="setTimeout(function(){calen(0);plottable()},1);">
<a4j:actionparam name="param" assignTo="#{partitionInfoHome.realId}"/>
</a4j:jsFunction>
<a4j:jsFunction name="deleteReal_next" eventsQueue="mainQueue" reRender="costI" action="#{partitionInfoHome.deleteReal_next}">
<a4j:actionparam name="param" assignTo="#{partitionInfoHome.deleteRealId}"/>
</a4j:jsFunction>
<a4j:jsFunction name="aai_change" eventsQueue="mainQueue" reRender="costI" action="#{partitionInfoHome.aai_change}" data="#{partitionInfoHome.aai_str}" oncomplete="aai_change_next(data)">
<a4j:actionparam name="param" assignTo="#{partitionInfoHome.afid}"/>
</a4j:jsFunction>
<a4j:jsFunction name="deleteSeeds_next" eventsQueue="mainQueue" reRender="costI" action="#{partitionInfoHome.deleteSeeds}"  >
<a4j:actionparam name="param" assignTo="#{partitionInfoHome.seeds_id}"/>
</a4j:jsFunction>

<a4j:jsFunction name="getModelByTime_"  eventsQueue="mainQueue"  action="#{partitionInfoHome.getModelByTime()}" data="#{partitionInfoHome.return1}" oncomplete="getModelByRealId_next(data)">
        <a4j:actionparam name="param1" assignTo="#{partitionInfoHome.param1}"></a4j:actionparam>
        <a4j:actionparam name="param2" assignTo="#{partitionInfoHome.param2}"></a4j:actionparam>
        <a4j:actionparam name="param3" assignTo="#{partitionInfoHome.param3}"></a4j:actionparam>
        <a4j:actionparam name="param4" assignTo="#{partitionInfoHome.param4}"></a4j:actionparam>
        <a4j:actionparam name="param5" assignTo="#{partitionInfoHome.param5}"></a4j:actionparam>
        <a4j:actionparam name="param6" assignTo="#{partitionInfoHome.param6}"></a4j:actionparam>
		</a4j:jsFunction>
<a4j:jsFunction name="getModelInfoJson"  eventsQueue="mainQueue"  action="#{partitionInfoHome.getModelInfoJson()}" data="#{partitionInfoHome.oneModelJson}" oncomplete="getModelInfoJson_next(data)" >
        <a4j:actionparam name="param3" assignTo="#{partitionInfoHome.oneModelId}"></a4j:actionparam>
		</a4j:jsFunction>
<a4j:jsFunction name="addTest" reRender="editinfo" eventsQueue="mainQueue"  action="#{partitionInfoHome.addTest()}"  oncomplete="updateTest();_Q('.editinfo_').scrollTop(0);rerendTest();" >
		</a4j:jsFunction>
<a4j:jsFunction name="editTest" reRender="editinfo" eventsQueue="mainQueue"  action="#{partitionInfoHome.editTest()}"  oncomplete="updateTest();_Q('.editinfo_').scrollTop(0);rerendTest();" >
        <a4j:actionparam name="param3" assignTo="#{partitionInfoHome.testId}"></a4j:actionparam>
		</a4j:jsFunction>
<a4j:jsFunction name="lookTest" reRender="testinfo" eventsQueue="mainQueue"  action="#{partitionInfoHome.editTest()}"  oncomplete="lookTest_();_Q('.testinfo_').scrollTop(0);rerendTest();" >
        <a4j:actionparam name="param3" assignTo="#{partitionInfoHome.testId}"></a4j:actionparam>
		</a4j:jsFunction>
<a4j:jsFunction name="deletTest" reRender="test_list_" eventsQueue="mainQueue"  action="#{partitionInfoHome.deletTest()}" oncomplete="_Q('.test_list').scrollTop(0);"  >
        <a4j:actionparam name="param3" assignTo="#{partitionInfoHome.testId}"></a4j:actionparam>
		</a4j:jsFunction>
<a4j:jsFunction name="deleteSoil" reRender="soil_list_,history" eventsQueue="mainQueue"  action="#{partitionInfoHome.deleteSoil()}" oncomplete="_Q('.soil_list').scrollTop(0);"  >
        <a4j:actionparam name="param3" assignTo="#{partitionInfoHome.soil_id}"></a4j:actionparam>
		</a4j:jsFunction>		
<a4j:jsFunction name="selectPreHarvest"  eventsQueue="mainQueue"  action="#{partitionInfoHome.selectPreHarvest()}" data="#{partitionInfoHome.pre_str}" oncomplete="selectPreHarvest_next(data)"  >
        <a4j:actionparam name="param3" assignTo="#{partitionInfoHome.pre_time}"></a4j:actionparam>
		</a4j:jsFunction>		
<a4j:jsFunction name="deleteHarvest_next" reRender="harvest" oncomplete="plottable()" eventsQueue="mainQueue"  action="#{partitionInfoHome.deleteHarvest()}"  >
        <a4j:actionparam name="param3" assignTo="#{partitionInfoHome.harvestId}"></a4j:actionparam>
		</a4j:jsFunction>
<a4j:jsFunction eventsQueue="mainQueue" name="searchInputsList" action="#{partitionInfoHome.searchGoodsInfoList()}" oncomplete="searchInputsList_next()" reRender="recordInputList">
	<a4j:actionparam name="param" assignTo="#{partitionInfoHome.param}" />
	<a4j:actionparam name="dataStandard" assignTo="#{partitionInfoHome.dataStandard}" />
	<a4j:actionparam name="searchInfo" assignTo="#{partitionInfoHome.searchInfo}" />
	<a4j:actionparam name="inputsPageNum" assignTo="#{partitionInfoHome.inputsPageNum}" />
</a4j:jsFunction>
<a4j:jsFunction eventsQueue="mainQueue" name="changeStorageRoom" action="#{partitionInfoHome.changeStorageRoom()}" data="#{partitionInfoHome.resultData}" oncomplete="changeRoom_next(data)" >
	<a4j:actionparam name="storageRoomId" assignTo="#{partitionInfoHome.storageRoomId}" />
	<a4j:actionparam name="inputsInfoId" assignTo="#{partitionInfoHome.inputsInfoId}" />
</a4j:jsFunction>
<a4j:jsFunction eventsQueue="mainQueue" name="searchGoodsCount" action="#{partitionInfoHome.searchGoodsCount()}" data="#{partitionInfoHome.resultData}" oncomplete="changeGoodsBatch_next(data)">
	<a4j:actionparam name="goodsBatchIds" assignTo="#{partitionInfoHome.goodsBatchIds}" />
	<a4j:actionparam name="inputsInfoId" assignTo="#{partitionInfoHome.inputsInfoId}" />
</a4j:jsFunction>
<a4j:jsFunction eventsQueue="mainQueue" name="changeGoodsInfo" action="#{partitionInfoHome.searchStorageRoomList()}" data="#{partitionInfoHome.resultData}" oncomplete="storageCallback(data);">
	<a4j:actionparam name="inputsIds" assignTo="#{partitionInfoHome.inputsIds}" />
</a4j:jsFunction>
<a4j:jsFunction eventsQueue="mainQueue" name="delInputRecordList" action="#{partitionInfoHome.delRecordList()}" reRender="nsInputsCost,jhInputsCost" oncomplete="jquery('#login').hide();">
	<a4j:actionparam name="param" assignTo="#{partitionInfoHome.param}" />
	<a4j:actionparam name="agricultralType" assignTo="#{partitionInfoHome.agricultralType}" />			
</a4j:jsFunction>

<a4j:jsFunction eventsQueue="mainQueue" name="clearData" action="#{partitionInfoHome.clearData()}" reRender="nsInputsCost,jhInputsCost"></a4j:jsFunction>

<a4j:jsFunction name="getGoodsCode"  action="#{goodsInfoHome.getInputsInfoCode()}" data="#{goodsInfoHome.goodsCode}" oncomplete="changeGoodsCode(data)" >
	<a4j:actionparam name="gt" assignTo="#{goodsInfoHome.goodsType}"/>
	<a4j:actionparam name="gtc" assignTo="#{goodsInfoHome.goodsTypeCode}"/>
</a4j:jsFunction>
<a4j:jsFunction name="delfarmingPicList" reRender="picId" action="#{partitionInfoHome.delfarmingPicList()}" oncomplete="farpicref('')">
	<a4j:actionparam name="index" assignTo="#{partitionInfoHome.index}"/>
</a4j:jsFunction>

</a4j:form>

<a4j:status id="ajaxStatus" forceId="true" onstart="_Q('#login').show()" onstop="_Q('#login').hide()" />
<script type="text/javascript">
function BtHide(id){var Div = document.getElementById(id);if(Div){Div.style.display="none"}}
function BtShow(id){var Div = document.getElementById(id);if(Div){Div.style.display="block"}}

function BtPopload(showId){//蒙版生成div+iframe
	var h = Math.max(document.documentElement.scrollHeight,document.documentElement.clientHeight) + 'px';
	var w = document.body.clientWidth + 'px';

	var popCss = "background:#000;opacity:0.3;filter:alpha(opacity=30);position:fixed;left:0;top:0;overflow:hidden;"
	var exsit = document.getElementById("popBox");
	if (!exsit) {
		pop_Box = document.createElement("div");pop_Box.id = "popBox";
		document.getElementsByTagName("body")[0].appendChild(pop_Box);
		pop_Box.style.cssText = popCss;pop_Box.style.zIndex = "1000";
		pop_Box.style.height = h;pop_Box.style.width = w;
		
		pop_Iframe = document.createElement("iframe");pop_Iframe.id = "popIframe";
		document.getElementsByTagName("body")[0].appendChild(pop_Iframe);	
		pop_Iframe.style.cssText = popCss;pop_Iframe.style.zIndex = "999";
		pop_Iframe.style.height = h;pop_Iframe.style.width = (parseInt(w)-5)+"px";
	}
	BtShow("popIframe");BtShow("popBox");BtShow(showId);
	pop_Win = document.getElementById(showId);
	pop_Win.style.position = "absolute";
	pop_Win.style.zIndex = "1001";
	pop_Win.style.top = document.documentElement.clientHeight/2-_Q(".pop_td").height()/2+ 'px';
	pop_Win.style.left = (document.documentElement.clientWidth/2-pop_Win.offsetWidth/2) + 'px';
}
function BtPopShow(Bid,Did) { 
	var UploadBtn = document.getElementById(Bid);
	if (UploadBtn){UploadBtn.onclick = function() {BtPopload(Did);return false;}}	
}
function BtPopHide(Bid,Did) { 
	var UploadBtn = document.getElementById(Bid);
	if (UploadBtn){UploadBtn.onclick = function() {BtHide(Did);BtHide("popBox");BtHide("popIframe");return false;}}	
}
function closeDoor(){
	BtHide("pop");BtHide("popBox");BtHide("popIframe");return false;
}
</script>
<td valign="top" width="214" style=" border-right:1px solid #e1e4eb;" id="leftHeight">
<div class="ui-widget" style=" width: 190px; height: 40px; margin-top: 32px; padding-left: 20px;#{partitionInfoHome.baseList.size>1?'':'display:none'}">
            <a4j:form id="baseform" rendered="#{partitionInfoHome.baseList.size>1}">
           </a4j:form>
            <input type="hidden" value="#{partitionInfoHome.baseId}" id="base_id"/>
        </div>                  
      <!--menu 开始-->
      <script type="text/javascript">
		function jump(a,b){
			var str = #{partitionInfoHome.baseId};
			if(!str)
				str = _Q("#base_id").val();
			window.location.href=window.location.pathname+"?tnnelId="+a+"&amp;partId="+b+"&amp;baseId="+str;
		}
      </script>
      <div class="main_none">
      <h:panelGroup id="menuList" >
      <div class="menutree" style="  height: 870px;overflow-x: hidden;overflow-y:auto;width: 214px; #{partitionInfoHome.baseList.size>1?'':'padding-top:15px'}">
      <a4j:repeat value="#{partitionInfoHome.partList}" var="par" >
      	<h1 style=" width:170px;white-space:nowrap;word-break:keep-all;overflow:hidden;text-overflow:ellipsis;#{par[2].size==0?'display:none':''}" class="#{par[0] eq partitionInfoHome.partId?'ons2_dk':'nav_h1_dk'} first_menu" aa="#{par[0] eq partitionInfoHome.partId?'1':'0'}" title="#{par[1]}">#{par[1]}</h1>
      	<div class="slist_2_dk" style="#{par[0] eq partitionInfoHome.partId?'display:block':'display:none'}">
	      <a4j:repeat value="#{par[2]}" var="var">
	      	<h2 class="l2 #{var[0] eq partitionInfoHome.tnnelId?'currentl2':'l2'} second_menu" onclick="jump(#{var[0]},#{par[0]})">
	      		#{var[1]} 
	      	</h2>
	      </a4j:repeat>
      </div>
      </a4j:repeat>
       </div>
        </h:panelGroup>
        </div>
    <!--menu 结束-->
    </td>
    
	<!--右边开始-->
            <td valign="top" width="100%" id="mainHeight">
              <div class="right_c" style="padding-left:10px;">
                	<div class="r_title">
                    	<div class="r_t_l fl">                           
                            	数字农场&#160;&gt;&#160;&#160;<font size="3">地块档案</font>
                        </div>
                        <div style="float:right;position:relative; z-index:1;">
							<ul class="cm_resumeList clear">								
                            	<li>
                                	<a href="#{request.contextPath}/map/PartitionList.seam" ><img src="../asset/images/qoe_03.png"/><span>地块信息</span></a>
                                </li>
                            	<li>
                                	<a href="javascript:void(0)" disabled="true" class="borderBt" style="cursor:default;"><img src="../asset/images/qie_05.png" /><span>地块详情</span></a>
                                </li>
                        	</ul>
                        	</div>
                    </div>
                                       
				
            <!---左侧树开始-->
            <table cellpadding="0" cellspacing="0" width="100%">
            
            <tr>
             <td  valign="top" >
               <!--左侧开始-->
                 <div class="dk_con01">                
                  <table cellpadding="0" cellspacing="0" class="dk_tb_01"  width="100%" height="166">
                     <tr>
                     <td width="160" valign="top"><div class="dk_mcb">
                     <img src="#{request.contextPath}/asset/images/dk_003.jpg" class="dk_nc"/>
                      <img src="#{request.contextPath}/asset/images/dk_mc.png" class="dk_yc"/>
                      </div>
                      </td>
                     
                     <td valign="top">
                     
                         <table cellpadding="0" cellspacing="0" width="100%" class="dk_tb02" >
                           <tr><td >
                               <div class="dk_lfont1"> #{partitionInfoHome.ti.tunnelName}</div>
                               <div class="dk_rfont1">
                               <input type="button" class="btn btn-default" value="检测报告" style="display: inline; position:relative;z-index:4;" onclick="openTestList();return false;"/>
                           </div>
                                                 </td>
                           </tr>
                           <tr>
                           <td >
                           <h:panelGroup id="landT">
                              <ul class="dk_tb03" >
                              	<li class="dk_tb03_li">
                                	<table cellpadding="0" cellspacing="0">
                                      <tr> 
                                        <td class="dk_fs01">检测日期  </td>
                                     </tr>	
                                      <tr> 
                                        <td  class="dk_fs02">
                                        <s:div rendered="#{partitionInfoHome.landTest.testDate!=null &amp;&amp; partitionInfoHome.landTest.testDate !=''}">
                                        <h:outputText value="#{partitionInfoHome.landTest.testDate}">
											<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd" />
									    </h:outputText>
									    </s:div>
									    <s:div rendered="#{partitionInfoHome.landTest.testDate==null||partitionInfoHome.landTest.testDate==''}">
									    --
									    </s:div>
                                        </td>
                                      </tr>
                                    </table>   
                               </li> 
                              <li class="dk_tb03_li">
                               		<table cellpadding="0" cellspacing="0">
                                      <tr>     
                                      	<td  class="dk_fs01">检测机构</td>
                                      </tr>
                                      <tr>
                                      	<td  class="dk_fs02">
                                      	<s:div rendered="#{partitionInfoHome.landTest.testOrg!=null &amp;&amp; partitionInfoHome.landTest.testOrg !=''}">
                                      	#{partitionInfoHome.landTest.testOrg}
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.testOrg==null||partitionInfoHome.landTest.testOrg==''}">
									    --
									    </s:div>
                                      	</td>
                                      </tr>  
                                    </table>  
                               </li>       
                              <li class="dk_tb03_li">
                               		<table cellpadding="0" cellspacing="0">
                                      <tr>         
                                      	<td  class="dk_fs01">PH值 </td>
                                      </tr>
                                      <tr>	
                                        <td  class="dk_fs02">
                                        <s:div rendered="#{partitionInfoHome.landTest.phVal!=null &amp;&amp; partitionInfoHome.landTest.phVal !=''}">
                                      	#{partitionInfoHome.landTest.phVal} 
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.phVal==null||partitionInfoHome.landTest.phVal==''}">
									    --
									    </s:div></td>
                                      </tr>  
                                   </table>  
                               </li>     
                             <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">EC值</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.ecVal!=null &amp;&amp; partitionInfoHome.landTest.ecVal !=''}">
                                      	#{partitionInfoHome.landTest.ecVal}
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.ecVal==null||partitionInfoHome.landTest.ecVal==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>   
                              <!---->
                              	<li class="dk_tb03_li">
                                	<table cellpadding="0" cellspacing="0">
                                      <tr> 
                                        <td class="dk_fs01">土壤容重</td>
                                     </tr>	
                                      <tr> 
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.soilBulkDensity!=null &amp;&amp; partitionInfoHome.landTest.soilBulkDensity !=''}">
                                      	#{partitionInfoHome.landTest.soilBulkDensity}
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.soilBulkDensity==null||partitionInfoHome.landTest.soilBulkDensity==''}">
									    --
									    </s:div></td>
                                      </tr>
                                    </table>   
                               </li> 
                              <li class="dk_tb03_li">
                               		<table cellpadding="0" cellspacing="0">
                                      <tr>     
                                      	<td  class="dk_fs01">土壤机械组成</td>
                                      </tr>
                                      <tr>
                                      	<td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.soilComposition!=null &amp;&amp; partitionInfoHome.landTest.soilComposition !=''}">
                                      	#{partitionInfoHome.landTest.soilComposition}
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.soilComposition==null||partitionInfoHome.landTest.soilComposition==''}">
									    --
									    </s:div></td>
                                      </tr>  
                                    </table>  
                               </li>       
                              <li class="dk_tb03_li">
                               		<table cellpadding="0" cellspacing="0">
                                      <tr>         
                                      	<td  class="dk_fs01">土壤水分</td>
                                      </tr>
                                      <tr>	
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.soilWater!=null &amp;&amp; partitionInfoHome.landTest.soilWater !=''}">
                                      	#{partitionInfoHome.landTest.soilWater} %
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.soilWater==null||partitionInfoHome.landTest.soilWater==''}">
									    --
									    </s:div></td>
                                      </tr>  
                                   </table>  
                               </li>     
                             <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">全氮量</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.nitrogen!=null &amp;&amp; partitionInfoHome.landTest.nitrogen !=''}">
                                      	#{partitionInfoHome.landTest.nitrogen} %
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.nitrogen==null||partitionInfoHome.landTest.nitrogen}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>  
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">全磷量</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.phosphorus!=null &amp;&amp; partitionInfoHome.landTest.phosphorus !=''}">
                                      	#{partitionInfoHome.landTest.phosphorus} %
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.phosphorus==null||partitionInfoHome.landTest.phosphorus==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li> 
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">全钾量</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.potassium!=null &amp;&amp; partitionInfoHome.landTest.potassium !=''}">
                                      	#{partitionInfoHome.landTest.potassium} %
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.potassium==null||partitionInfoHome.landTest.potassium==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li> 
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">有机质含量</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.organicVal!=null &amp;&amp; partitionInfoHome.landTest.organicVal !=''}">
                                      	#{partitionInfoHome.landTest.organicVal} %
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.organicVal==null||partitionInfoHome.landTest.organicVal==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li> 
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">阳离子交换量</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.cec!=null &amp;&amp; partitionInfoHome.landTest.cec !=''}">
                                      	#{partitionInfoHome.landTest.cec} mol/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.cec ==null||partitionInfoHome.landTest.cec ==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li> 
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">氧化还原电位</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.redoxPotential!=null &amp;&amp; partitionInfoHome.landTest.redoxPotential !=''}">
                                      	#{partitionInfoHome.landTest.redoxPotential} mV
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.redoxPotential==null||partitionInfoHome.landTest.redoxPotential==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li> 
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">速效氮量</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.availableNitrogen!=null &amp;&amp; partitionInfoHome.landTest.availableNitrogen !=''}">
                                      	#{partitionInfoHome.landTest.availableNitrogen} mg/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.availableNitrogen==null||partitionInfoHome.landTest.availableNitrogen==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li> 
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">速效磷量</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.availablePhosphorus!=null &amp;&amp; partitionInfoHome.landTest.availablePhosphorus !=''}">
                                      	#{partitionInfoHome.landTest.availablePhosphorus} mg/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.availablePhosphorus==null||partitionInfoHome.landTest.availablePhosphorus==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li> 
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">速效钾量</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.availableK!=null &amp;&amp; partitionInfoHome.landTest.availableK !=''}">
                                      	#{partitionInfoHome.landTest.availableK} mg/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.availableK==null||partitionInfoHome.landTest.availableK==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li> 
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">交换性钙</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.exchangeCa!=null &amp;&amp; partitionInfoHome.landTest.exchangeCa !=''}">
                                      	#{partitionInfoHome.landTest.exchangeCa} cmol/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.exchangeCa==null||partitionInfoHome.landTest.exchangeCa==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li> 
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">交换性镁</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.exchangeMg!=null &amp;&amp; partitionInfoHome.landTest.exchangeMg !=''}">
                                      	#{partitionInfoHome.landTest.exchangeMg} cmol/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.exchangeMg==null||partitionInfoHome.landTest.exchangeMg==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li> 
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">全量钙</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.totalCa!=null &amp;&amp; partitionInfoHome.landTest.totalCa !=''}">
                                      	#{partitionInfoHome.landTest.totalCa} g/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.testDate==totalCa||partitionInfoHome.landTest.testDate==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li> 
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">全量镁</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.totalMg!=null &amp;&amp; partitionInfoHome.landTest.totalMg !=''}">
                                      	#{partitionInfoHome.landTest.totalMg} g/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.totalMg==null||partitionInfoHome.landTest.totalMg==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li> 
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">全量钠</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.totalSodium!=null &amp;&amp; partitionInfoHome.landTest.totalSodium !=''}">
                                      	#{partitionInfoHome.landTest.totalSodium} g/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.totalSodium==null||partitionInfoHome.landTest.totalSodium==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li> 
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">总汞</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.countMercury!=null &amp;&amp; partitionInfoHome.landTest.countMercury !=''}">
                                      	#{partitionInfoHome.landTest.countMercury} mg/L
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.countMercury==null||partitionInfoHome.landTest.countMercury==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">总砷</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.countArsenic!=null &amp;&amp; partitionInfoHome.landTest.countArsenic !=''}">
                                      	#{partitionInfoHome.landTest.countArsenic} mg/L
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.countArsenic==null||partitionInfoHome.landTest.countArsenic==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">总铬</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.countChrome!=null &amp;&amp; partitionInfoHome.landTest.countChrome !=''}">
                                      	#{partitionInfoHome.landTest.countChrome} mg/L
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.countChrome==null||partitionInfoHome.landTest.countChrome==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">总铅</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.countLead!=null &amp;&amp; partitionInfoHome.landTest.countLead !=''}">
                                      	#{partitionInfoHome.landTest.countLead} mg/L
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.countLead==null||partitionInfoHome.landTest.countLead==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">总镍</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.countNickel!=null &amp;&amp; partitionInfoHome.landTest.countNickel !=''}">
                                      	#{partitionInfoHome.landTest.countNickel} mg/L
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.countNickel==null||partitionInfoHome.landTest.countNickel==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">总镉</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.countCadmium!=null &amp;&amp; partitionInfoHome.landTest.countCadmium !=''}">
                                      	#{partitionInfoHome.landTest.countCadmium} mg/L
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.countCadmium==null||partitionInfoHome.landTest.countCadmium==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">有效硼</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.effectiveBoron!=null &amp;&amp; partitionInfoHome.landTest.effectiveBoron !=''}">
                                      	#{partitionInfoHome.landTest.effectiveBoron} mg/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.effectiveBoron==null||partitionInfoHome.landTest.effectiveBoron==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">有效钼</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.wffectiveMolybdenum!=null &amp;&amp; partitionInfoHome.landTest.wffectiveMolybdenum !=''}">
                                      	#{partitionInfoHome.landTest.wffectiveMolybdenum} mg/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.wffectiveMolybdenum==null||partitionInfoHome.landTest.wffectiveMolybdenum==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">有效锌</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.wffectiveZn!=null &amp;&amp; partitionInfoHome.landTest.wffectiveZn !=''}">
                                      	#{partitionInfoHome.landTest.wffectiveZn} mg/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.wffectiveZn==null||partitionInfoHome.landTest.wffectiveZn==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">有效锰</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.effectiveManganese!=null &amp;&amp; partitionInfoHome.landTest.effectiveManganese !=''}">
                                      	#{partitionInfoHome.landTest.effectiveManganese} mg/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.effectiveManganese==null||partitionInfoHome.landTest.effectiveManganese==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">有效铁</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.effectiveIron!=null &amp;&amp; partitionInfoHome.landTest.effectiveIron !=''}">
                                      	#{partitionInfoHome.landTest.effectiveIron} mg/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.effectiveIron==null||partitionInfoHome.landTest.effectiveIron==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">有效铜</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.effectiveCopper!=null &amp;&amp; partitionInfoHome.landTest.effectiveCopper !=''}">
                                      	#{partitionInfoHome.landTest.effectiveCopper} mg/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.effectiveCopper==null||partitionInfoHome.landTest.effectiveCopper==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">全硒</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.countSe!=null &amp;&amp; partitionInfoHome.landTest.countSe !=''}">
                                      	#{partitionInfoHome.landTest.countSe} mg/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.countSe==null||partitionInfoHome.landTest.countSe==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">有效硫</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.effectiveSulfur!=null &amp;&amp; partitionInfoHome.landTest.effectiveSulfur !=''}">
                                      	#{partitionInfoHome.landTest.effectiveSulfur} mg/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.effectiveSulfur==null||partitionInfoHome.landTest.effectiveSulfur==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">有效硅</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.effectiveSilicon!=null &amp;&amp; partitionInfoHome.landTest.effectiveSilicon !=''}">
                                      	#{partitionInfoHome.landTest.effectiveSilicon} mg/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.effectiveSilicon==null||partitionInfoHome.landTest.effectiveSilicon==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">氯离子含量</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.chlorideIonContent!=null &amp;&amp; partitionInfoHome.landTest.chlorideIonContent !=''}">
                                      	#{partitionInfoHome.landTest.chlorideIonContent} mg/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.chlorideIonContent==null||partitionInfoHome.landTest.chlorideIonContent==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">除草剂残留量</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.herbicideResidues!=null &amp;&amp; partitionInfoHome.landTest.herbicideResidues !=''}">
                                      	#{partitionInfoHome.landTest.herbicideResidues} mg/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.herbicideResidues==null||partitionInfoHome.landTest.herbicideResidues==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">硫酸根离子含量</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.sulfateIonContent!=null &amp;&amp; partitionInfoHome.landTest.sulfateIonContent !=''}">
                                      	#{partitionInfoHome.landTest.sulfateIonContent} g/kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.sulfateIonContent==null||partitionInfoHome.landTest.sulfateIonContent==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>
                              <li class="dk_tb03_li">
                                   <table cellpadding="0" cellspacing="0">
                                 
                                      <tr> 
                                         <td  class="dk_fs01">交换性盐基及盐基总量</td>
                                      </tr>
                                      <tr>   
                                        <td  class="dk_fs02"><s:div rendered="#{partitionInfoHome.landTest.exchangeTotalBase!=null &amp;&amp; partitionInfoHome.landTest.exchangeTotalBase !=''}">
                                      	#{partitionInfoHome.landTest.exchangeTotalBase} cmol/Kg
                                      	</s:div>
                                      	<s:div rendered="#{partitionInfoHome.landTest.exchangeTotalBase==null||partitionInfoHome.landTest.exchangeTotalBase==''}">
									    --
									    </s:div></td>
                                      </tr> 
                                    </table>  
                              </li>
                              </ul>
                              </h:panelGroup>
                           </td>
                           </tr>
                         	<tr>
                            	<td class="dk_hiden_but"><img id="img_1" src="#{request.contextPath}/asset/images/dkbut.jpg" width="78" height="20" /></td>
                            </tr>
                         
                         </table>
                     
                     
                     
                    
                      </td>
                     
                     </tr>
                  
                  
              
                  
                  </table>
                 
                 
                 <!--当前历史种植开始-->
				<script type="text/javascript">
					var yes = "#{request.contextPath}/asset/images/dk_right.png";
					var no = "#{request.contextPath}/asset/images/dk_pcdi2.png";
					function showone(id,obj,dataDic){
						_Q("#dataStandard").val(dataDic);
						if(arguments.length>2){
							if(arguments[2]=='aps'){
								return;
							}
						}
						if(!_Q(obj).closest("li").find(".yes").hasClass("dk_zzr2")){
							_Q(".yes_").attr("class","dk_title10 yes_");
							_Q(".yes img").attr("src",no);
							_Q(".yes img").attr("class","dk_zzr3");
							_Q(obj).closest("li").find(".yes img").attr("src",yes);
							_Q(obj).closest("li").find(".yes img").attr("class","dk_zzr2");
							_Q(obj).closest("li").find(".yes_").attr("class","dk_title9 yes_");
							reFreshInfo(id);
						}
					}
				</script>                 
                 <div class="dk_zz">
                 <input type="hidden" name="dataStandard" id="dataStandard"/>
                 <a class="dk_addn" style="display:none" onclick="addPlant()"><img src="#{request.contextPath}/asset/images/dk_addn.jpg"/></a>
                 <a class="dk_listh"><img src="#{request.contextPath}/asset/images/dk_times.png" /></a>
                 <h:panelGroup id="realp_lant">
                     <ul>
                     <a4j:repeat var="var" value="#{partitionInfoHome.realPlantList}" rendered="#{partitionInfoHome.realPlantList.size() gt 0}">
                       <li class="dk_zz_li #{var[2] gt 0 ?'aps':''}">
                       <span class=" #{var[0].realPlantId == partitionInfoHome.realId?'dk_title9':'dk_title10'} yes_">#{var[2] gt 0?'排产种植':''}#{var[2] le 0 and var[1] ge 0?'当前种植':'历史种植'}</span>
                       	
                       		<script type="text/javascript">
                       			var rId='#{var[0].realPlantId}';
                       			var pId='#{partitionInfoHome.realId}';                      			
                       			if(rId==pId){
                       				var dataDic='#{var[0].plantStandard}';
                       				_Q("#dataStandard").val(dataDic);
                           		}
                       		  
                       		</script>
                       
                       <table cellpadding="0" cellspacing="0">
                       <tr>
                          <td width="60" >
                            <div class="dk_zzs" style="cursor:#{var[2] gt 0 ?'default':'pointer'}  " onclick="showone(#{var[0].realPlantId},this,#{var[0].plantStandard});return false;">
                            	<ui:fragment rendered="#{var[0].breedBreedId.plant.plantImgRound ne null &amp;&amp; var[0].breedBreedId.plant.plantImgRound ne ''}">
                            		<img src="#{var[0].breedBreedId.plant.plantImgRound}" width="50" height="50" />
                            	</ui:fragment>
                                <ui:fragment rendered="#{obj1.plantImgRound eq null || obj1.plantImgRound eq ''}">
                            		<img src="#{request.contextPath}/asset/images/wt.png" width="50" height="50" />
                            	</ui:fragment>
                                 <a href="#"><img src="#{request.contextPath}/asset/images/dk_pcdi.png" class="dk_zzr"/></a>
                                 <ui:fragment rendered="#{var[0].realPlantId == partitionInfoHome.realId}">
                                 	<a href="#" class="yes"><img src="#{request.contextPath}/asset/images/dk_right.png" class="dk_zzr2"/></a>
                                 </ui:fragment>                                 
                                 <ui:fragment rendered="#{var[0].realPlantId != partitionInfoHome.realId}">
                                	 <a href="#" class="yes"><img src="#{request.contextPath}/asset/images/dk_pcdi2.png" class="dk_zzr3"/></a>
                                 </ui:fragment>
                            </div>
                          </td>
                           <td>
                              <div >#{var[0].breedBreedId.plant.name}</div>
                             <div ><h:outputText value="#{var[0].plantBeginTime}">
											<s:convertDateTime type="both" dateStyle="short" pattern="yyyy/MM/dd" />
									    </h:outputText> - 
										<h:outputText value="#{var[0].plantEndTime}">
											<s:convertDateTime type="both" dateStyle="short" pattern="yyyy/MM/dd" />
									    </h:outputText></div>
                           </td>
                         </tr>
                      </table>
                    <div class="dkzzedit" onclick="showone(#{var[0].realPlantId},this,#{var[0].plantStandard});return false;" style="cursor:pointer">
                       
                    </div>
                    <div class="dkzzedit1" style="display:none;cursor:pointer;position: absolute;right: -7px;top: -13px;">
                       <ul class="dkzzz_llul" style="display:none">
                          <li class="dkzzz_lli"><a href="#1" onclick="editPlant('#{var[0].realPlantId}','#{var[0].breedBreedId.plant.plantId}','#{var[0].breedBreedId.breedId}','#{var[0].schedulingModelId.id}','#{var[0].plantStandard}','#{dateUtil.getDateFormat(var[0].plantBeginTime,null)}','#{dateUtil.getDateFormat(var[0].plantEndTime,null)}','#{var[0].cropArea}','#{var[1] gt 0?1:0}','#{var[0].resumePlantName}','#{dateUtil.getDateFormat(var[0].harvestTime,null)}')"><img src="#{request.contextPath}/asset/images/bianjbg.jpg" width="18" height="18" /></a></li>
                       </ul>
                    </div>
                     </li>
                     </a4j:repeat>
                     	<li class="dk_zz_li2" style="#{partitionInfoHome.realPlantList.size() gt 2 ? 'display:none':''};display:none">
                     		<a href="#" onclick="addPlant();return false;" style="margin-top:21px;display:block"><img src="#{request.contextPath}/asset/images/plus.png" /></a>
                     	</li>
                     </ul>
                     </h:panelGroup>
                 </div>
                 
                 
                 
                  <!--当前历史种植结束-->
                  
                  <!--切块开始-->
                    <div style="margin-top:35px;" class="dk_list2">
                              <ul>
                                <li class="targe1 current"><a onclick="chos(1);return false;" href="javascript:">投入品</a></li>
                                <li class="targe2"><a onclick="chos(2);return false;" href="javascript:">成本</a></li>
                                 <li class="targe3"><a onclick="chos(3);return false;" href="javascript:">农事管理</a></li>
                                 <li class="targe4"><a onclick="chos(4);return false;" href="javascript:">采收</a></li>
                              </ul>
                        </div>
                  
                  <div class="dkbox2">
                            <div id="tar1" style="display: block;">
                              <div class="dk_ns001">
                              <h:panelGroup id="info_all">
                              <table width="100%" border="0" cellspacing="0" cellpadding="0" class="dk_ns001_t">
                                  <tr>
                                    <td width="100" bgcolor="#fafafa" align="center"> 
                                    <img src="#{request.contextPath}/asset/images/dk_b01.jpg" /><br/>
                                     <span>种子</span>
                                     </td>
                                    <td valign="middle">
                                    <h:panelGroup id="seeds">
                                    <ul class="dk_ns001ui" style="#{partitionInfoHome.rp ne null?'':'display:none'}">
                                    <li class="dk_ns001ui_li"  style="#{partitionInfoHome.rp ne null?'':'display:none'}">
	                                    <ui:fragment rendered="#{partitionInfoHome.rp.breedBreedId.packingImagesUrl ne null&amp;&amp;partitionInfoHome.rp.breedBreedId.packingImagesUrl ne ''}">
											<a href="#" ><img src="#{partitionInfoHome.rp.breedBreedId.packingImagesUrl}" width="111" height="89" /></a>
		                                 </ui:fragment>                                 
		                                 <ui:fragment rendered="#{partitionInfoHome.rp.breedBreedId.packingImagesUrl eq null||partitionInfoHome.rp.breedBreedId.packingImagesUrl eq ''}">
		                                	 <a href="#" ><img src="#{request.contextPath}/asset/images/wt001.jpg" width="111" height="89" /></a>
		                                 </ui:fragment>
                                        <span class="dk_ns001t">#{partitionInfoHome.rp.breedBreedId.name}</span>
                                    </li>
                                    </ul>
                                    </h:panelGroup>
                                    <a style="display:none" href="#" class="dk_add" onclick="if(!checkR())return false;addSeeds();return false;"><img src="#{request.contextPath}/asset/images/dk_add02.jpg" /></a>
                                    
                                    </td>
                                  </tr>
                                  <tr>
                                    <td  bgcolor="#fafafa" align="center">
                                      <img src="#{request.contextPath}/asset/images/dk_b02.jpg" /><br/>
                                    <span>农药</span>
                                    </td>
                                    <td valign="middle">
                                    <h:panelGroup id="pesticides">
                                    <ul class="dk_ns001ui">
                                    <a4j:repeat value="#{partitionInfoHome.pesticidesList}" var="var">
                                    <li class="dk_ns001ui_li" >
										<s:fragment rendered="#{var.inputsInfoId.packingImagesUrl ne null and var.inputsInfoId.packingImagesUrl ne ''}"><img src="#{var.inputsInfoId.packingImagesUrl}"  style="width:111px;height:89px"/></s:fragment> 
										<s:fragment rendered="#{var.inputsInfoId.packingImagesUrl eq null or var.inputsInfoId.packingImagesUrl eq ''}"><img src="#{request.contextPath}/asset/images/wt003.jpg"  style="width:111px;height:89px"/></s:fragment>                               
                                        <span class="dk_ns001t">#{var.inputsInfoId.name}</span>
                                    </li>
                                    </a4j:repeat>
                                    </ul>
                                    </h:panelGroup>
                                    </td>
                                  </tr>
                                  <tr>
                                    <td bgcolor="#fafafa" align="center">
                                      <img src="#{request.contextPath}/asset/images/dk_b03.jpg" /><br/>
                                    <span>肥料</span></td>
                                    <td valign="middle">
                                    <h:panelGroup id="fertilizers">
                                    <ul class="dk_ns001ui">
                                    <a4j:repeat value="#{partitionInfoHome.fertilizersList}" var="var">
                                    <li class="dk_ns001ui_li">
										<s:fragment rendered="#{var.inputsInfoId.packingImagesUrl ne null and var.inputsInfoId.packingImagesUrl ne ''}"><img src="#{var.inputsInfoId.packingImagesUrl}"  style="width:111px;height:89px"/></s:fragment>   
										<s:fragment rendered="#{var.inputsInfoId.packingImagesUrl eq null or var.inputsInfoId.packingImagesUrl eq ''}"><img src="#{request.contextPath}/asset/images/wt003.jpg"  style="width:111px;height:89px"/></s:fragment>                               
                                        <span class="dk_ns001t">#{var.inputsInfoId.name}</span>
                                    </li>
                                    </a4j:repeat>
                                    </ul>
                                    </h:panelGroup>
                                    </td>
                                  </tr>
                                  <tr>
                                    <td bgcolor="#fafafa" align="center">
                                      <img src="#{request.contextPath}/asset/images/dk_b01.jpg" /><br/>
                                      <span>其他</span></td>
                                    <td valign="middle">
                                    <h:panelGroup id="other">
                                    <ul class="dk_ns001ui">
                                    <a4j:repeat value="#{partitionInfoHome.otherList}" var="var">
                                    <li class="dk_ns001ui_li">
										<s:fragment rendered="#{var.inputsInfoId.packingImagesUrl ne null and var.inputsInfoId.packingImagesUrl ne ''}"><img src="#{var.inputsInfoId.packingImagesUrl}"  style="width:111px;height:89px"/></s:fragment> 
										<s:fragment rendered="#{var.inputsInfoId.packingImagesUrl eq null or var.inputsInfoId.packingImagesUrl eq ''}"><img src="#{request.contextPath}/asset/images/wt003.jpg"  style="width:111px;height:89px"/></s:fragment>                               
                                        <span class="dk_ns001t">#{var.inputsInfoId.name}</span>
                                    </li>
                                    </a4j:repeat>
                                    </ul>
                                    </h:panelGroup>
                                    </td>
                                  </tr>
                                </table>
                              </h:panelGroup>
                              
                              
                              </div>
                             
                            </div>
                            <div style="display: none;" id="tar2">
                            <h:panelGroup id="costI">
                                   <div class="dktj"><a href="#" onclick="if(!checkR())return false;addCostInfo();return false;"><img src="#{request.contextPath}/asset/images/dktj.jpg" width="72" height="30" /></a></div> 
                                   <div class="dk_cb01">
                                    <table width="600" border="0" cellspacing="0" cellpadding="0" class="dk_cbt01">
                                          <tr>
                                            <td class="dk_cbt01_1">总投入成本</td>
                                            <td class="dk_cbt01_1">平均采收成本</td>
                                            <td class="dk_cbt01_1">固定成本</td>
                                            <td class="dk_cbt01_1 dk_cbtno">变动成本</td>
                                          </tr>
                                          <tr>
                                            <td class="dk_cbt01_2">#{partitionInfoHome.total}</td>
                                            <td class="dk_cbt01_2">#{partitionInfoHome.avageTotal}</td>
                                            <td class="dk_cbt01_2">#{partitionInfoHome.money1}</td>
                                            <td class="dk_cbt01_2 dk_cbtno">#{partitionInfoHome.money2}</td>
                                          </tr>
                                        </table>
                                   </div>
                                   <div class="dk_cb02">
                                  
                                   <table width="100%" border="0" cellspacing="0" cellpadding="0" align="center" class="dk_cb2table">
                                      <tr>
                                        <th>日期</th>
                                        <th>名称</th>
                                        <th>类别</th>
                                        <th>数量</th>
                                        <th>单价</th>
                                        <th>金额</th>
                                        <th>经办人</th>
                                        <th>备注</th>
                                        <th>操作</th>
                                      </tr>
                                      <a4j:repeat value="#{partitionInfoHome.costList}" var="var" >
                                      <tr>
                                        <td class="dk_cb021 table_cost_date#{var.id}" bgcolor="#FFFFFF" >
										<h:outputText value="#{var.inputsTime}">
											<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd" />
									    </h:outputText>
										</td>
                                        <td class="dk_cb022">#{var.name}</td>
                                        <td class="dk_cb022">#{var.costType.name}</td>
                                        <td class="dk_cb022">#{var.number}</td>
                                        <td class="dk_cb022">#{var.unitPrice}</td>
                                        <td class="dk_cb022">#{var.money} </td>
                                        <td class="dk_cb022">#{var.managers}</td>
                                        <td class="dk_cb022" title="#{var.description}">#{stringUtil.shortString(var.description,8)}</td>
                                        <td>
                                        	<s:fragment rendered="#{empty var.inputsRecordId}">
												<a  class="list_edit" onclick="editCostInfo('#{var.id}',_Q('.table_cost_date#{var.id}').html(),'#{var.name}','#{var.costType.dataDicId}','#{var.number}','#{var.unitPrice}','#{var.money}','#{var.managers}','#{var.description}');return false;" title="编辑" href="#"></a>
												<a class="list_delete" title="删除" onclick="deleteReal(#{var.id},this);return false;" href="#"></a>
											</s:fragment>
										</td>
                                      </tr>
                                      </a4j:repeat>
                                      <ui:fragment rendered="#{partitionInfoHome.costList.size lt 6}">
                                      <tr>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      </tr>
                                      <tr>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      </tr>
                                      <tr>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      </tr>
                                      <tr>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      <td class="dk_cb022"></td>
                                      </tr>
                                      
                                      </ui:fragment>
                                    </table>
                                                                       
                                   
                                   </div>
                                   </h:panelGroup>
                                   
                        </div>  
                           <div style="display: none;" id="tar3">
                                  <!--农事管理开始-->
                                  <h:panelGroup id="operate_js" layout="none">
                                  <script type="text/javascript">
                                  var calendarData = [#{partitionInfoHome.calendarStr}];
                                  </script>
                                  </h:panelGroup>
                                   <h:panelGroup id="operate" layout="none">
                                  <div class="dk_gl01">
                                  	   <div class="dktj"><a href="#" onclick="if(!checkR())return false;openOperate();return false;"><img src="#{request.contextPath}/asset/images/dktj.jpg" width="72" height="30" /></a></div>
                                        <ul class="noshiul">
                                            <li class="noli noshili" onclick="calen(0)" style=" border-right:1px solid #ddd;">列表</li>
                                            <li class="noli noshili01" onclick="calen(1)">日历</li>
                                        </ul>
                                       <div style="width:160px;height:24px;float:right; margin-right: -59px;"><img src="#{request.contextPath}/asset/images/pm.jpg"/></div>
                                          <div class="nosidiv">
                                          	 <!--列表开始-->
                                             <div style="border:1px solid #e0e5eb;">
                                             	
                                             	<table width="100%" cellpadding="0" cellspacing="0" style="table-layout:fixed;">
                                                	<tr id="trwidth">
                                                    	<td width="89" style=" background:url(#{request.contextPath}/asset/images/dk_tx.png) bottom center repeat-x;"></td>
                                                        <td class="nos_timetd">0点</td>
                                                        <td class="nos_timetd">2点</td>
                                                        <td class="nos_timetd">4点</td>
                                                        <td class="nos_timetd">6点</td>
                                                        <td class="nos_timetd">8点</td>
                                                        <td class="nos_timetd">10点</td>
                                                        <td class="nos_timetd">12点</td>
                                                        <td class="nos_timetd">14点</td>
                                                        <td class="nos_timetd">16点</td>
                                                        <td class="nos_timetd">18点</td>
                                                        <td class="nos_timetd">20点</td>
                                                        <td class="nos_timetd">22点</td>
                                                        <td width="9" style="background:url(#{request.contextPath}/asset/images/dk_tx.png) bottom center repeat-x;"></td>
                                                    </tr>
                                                    <a4j:repeat value="#{partitionInfoHome.amaList}" var="varr">
                                                    <tr>
                                                    	<td width="89"  class="kd_data_bg"><font class="dk_date_td">#{varr[2]}</font><br/><font>#{varr[1]}</font></td>
                                                    	<td colspan="13" class="dk_data_bg02" style="overflow-x:inherit;overflow-y:inherit">
                                                    	
                                                        	<a4j:repeat value="#{varr[0]}" var="_var" >
                                                        	<div style="position:relative;z-index:5;margin-top:2px;" class="operateList" aa="#{_var[7]}" bb="#{_var[9]}" cc="#{_var[11]}">
                                                        	<table style=" width:90px;#{_var[3]==0||_var[3]==null||_var[3]==1?'':'display:none'}" cellpadding="0" class="mytable_" cellspacing="0" >
                                                            	<tr>
                                                                	<td width="4" height="4" ><img src="#{request.contextPath}/asset/images/nosi01.png" width="4" height="4" /></td>
                                                                    <td height="4" class="bwi" style=" background:url(#{request.contextPath}/asset/images/nosi012.png) top repeat-x;"></td>
                                                                    <td width="4" height="4" ><img src="#{request.contextPath}/asset/images/nosi013.png" width="4" height="4" /></td>
                                                            	</tr>
                                                            	<tr>
                                                                	<td width="4" style=" background:url(#{request.contextPath}/asset/images/nosi014.png) left repeat-y;"></td>
                                                                    <td height="30" style=" background:#b7e2e9;">
                                                                    	<div class="dk_nos"></div>
                                                                    	<div class="dk_nos"></div>
                                                                    </td>
                                                                    <td width="4" style=" background:url(#{request.contextPath}/asset/images/nosi015.png) right repeat-y;" ></td>
                                                            	</tr>
                                                            	<tr>
                                                                	<td width="4" height="4" ><img src="#{request.contextPath}/asset/images/nosi016.png" width="4" height="4" /></td>
                                                                    <td height="4" class="bwi" style=" background:url(#{request.contextPath}/asset/images/nosi017.png) bottom repeat-x;"></td>
                                                                    <td width="4" height="4" ><img src="#{request.contextPath}/asset/images/nosi018.png" width="4" height="4" /></td>
                                                            	</tr>
                                                            </table>
                                                            <table  cellpadding="0" style="width:100px; height:33px; #{_var[3]==2?'':'display:none'}" class="mytable_" cellspacing="0" >
                                                            	<tr>
                                                                	<td width="4" height="4" ><img src="#{request.contextPath}/asset/images/nosi3_01.png" width="4" height="4" /></td>
                                                                    <td height="4" style=" background:url(#{request.contextPath}/asset/images/nosi3_03.png) top repeat-x;"></td>
                                                                    <td width="4" height="4" ><img src="#{request.contextPath}/asset/images/nosi3_05.png" width="4" height="4" /></td>
                                                            	</tr>
                                                            	<tr>
                                                                	<td width="4" style=" background:url(#{request.contextPath}/asset/images/nosi3_10.png) left repeat-y;"></td>
                                                                    <td style=" background:#d0e87a;">
                                                                    	<div class="dk_nos"></div>
                                                                    	<div class="dk_nos"></div>
                                                                    </td>
                                                                    <td width="4" style=" background:url(#{request.contextPath}/asset/images/nosi3_09.png) right repeat-y;" ></td>
                                                            	</tr>
                                                            	<tr>
                                                                	<td width="4" height="4" ><img src="#{request.contextPath}/asset/images/nosi3_13.png" width="4" height="4" /></td>
                                                                    <td height="4" style=" background:url(#{request.contextPath}/asset/images/nosi3_14.png) bottom repeat-x;"></td>
                                                                    <td width="4" height="4" ><img src="#{request.contextPath}/asset/images/nosi3_15.png" width="4" height="4" /></td>
                                                            	</tr>
                                                            </table>
                                                             <div class="_cont" style="position:absolute;z-index:6;left:3px;top:3px;">
                                                                <div class="dk_nos">#{_var[2]}</div>
                                                                <div class="dk_nos">#{_var[0]}&#160;#{_var[1]}#{_var[1]==null ?'':'小时'}</div>
                                                            
                                                            </div>
                                                            <div  class="pc_name" >
                                                <div style=";display: none;#{_var[3]==null||_var[3]==0||_var[3]==1?'margin-left:35px !important;margin-top:-105px !important':'margin-left:35px !important;margin-top:-77px !important'}" class="pc_p2">
                                                   <table width="190"  cellspacing="0" cellpadding="0" style=" table-layout:fixed;width:190px;height:auto">
                                                   		<tbody><tr>
                                                        	<td width="7" valign="middle"><img width="7" height="13" src="#{request.contextPath}/asset/images/san.png"/></td>
                                                            <td valign="top" style="background:url(#{request.contextPath}/asset/images/tab_bg.png) repeat;">
                                                            	<table width="90%" cellspacing="0" cellpadding="0" style="margin:10px auto;">
                                                            		<tbody>
                                                                    <tr>
                                                                    	<td width="50%" class="ap_none">操作人</td>
                                                                        <td width="50%" class="ap_none2">#{_var[5]}</td>
                                                                    </tr>
                                                                    <tr>
                                                                    	<td width="50%" class="ap_none">操作内容</td>
                                                                        <td width="50%" class="ap_none2">#{_var[2]}</td>
                                                                    </tr>
                                                                    <tr style="#{_var[3]>1?'display:none':''}">
                                                                    	<td width="50%" class="ap_none">图片</td>
                                                                        <td width="50%" class="ap_none2">
                                                                        <a4j:repeat value="#{_var[4].split(',')}" var="__var">
                                                                        <img src="#{__var}" width="30" height="30"/>&#160;
                                                                        </a4j:repeat>
                                                                        <s:div rendered="#{_var[4]==null || _var[4]==''}">
                                                                        无
                                                                        </s:div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                    	<td width="50%" class="ap_none">操作时间</td>
                                                                        <td width="50%" class="ap_none2">
                                                                        	#{_var[0]}
                                                                        </td>
                                                                    </tr>
                                                                    <tr  style="#{_var[3]>1?'display:none':''}">
                                                                    	<td width="50%" class="ap_none">工时</td>
                                                                        <td width="50%" class="ap_none2">
                                                                        	#{_var[1]}小时
                                                                        </td>
                                                                    </tr>
                                                                    <tr style="">
                                                                    	<td width="50%" class="ap_none">备注</td>
                                                                        <td width="50%" class="ap_none2">
                                                                        	#{_var[8]==null||_var[8]==''?'无':_var[8]}
                                                                        </td>
                                                                    </tr>
                                                            	</tbody></table>
                                                            </td>
                                                        </tr>
                                                   </tbody></table>
                                                   
                                                </div>
                                            </div>
                                                            </div>
                                                        	</a4j:repeat>
                                                        </td>
                                                    </tr>
                                                    </a4j:repeat>
                                                    <ui:fragment rendered="#{partitionInfoHome.amaList.size == 0}">
                                      					<tr>
                                                    	<td width="89" class="kd_data_bg"></td>
                                                    	<td class="dk_data_bg02" colspan="12" style="width: 703px; height: 340px; text-align: center; font-size: 16px;"> 当前无农事记录                                                	                                                         </td>
                                                    </tr>
                                                    </ui:fragment>
                                             	</table>
                                             </div><!--农事管理结束-->
                                             <!--列表结束-->
                                             <div>
											                 	<div id="calendar"></div>
											                 	<div class="clear"></div>
											 </div>
                                          	 
                                          </div>
                                      
                                  </div>
                                  </h:panelGroup>
                                  <!--农事管理结束-->
                        </div> 
                        <!--添加农事图片开始-->
                        <div class="farmingInputs_mini modal-dialog" id="addMyFarming" style="z-index:1011;position:fixed; left:50%; top:56%; margin-left:-235px; margin-top:-260px;width:487px;display: none; ">
			             	<a4j:form ajaxSubmit="true" id="pic" autocomplete="on">
			             	<div class="farmingInputs_miniHd"><h3>添加农事图片</h3><input type="button" class="butt" onclick="jQuery('#addMyFarming').hide()"/></div>
			                 <div class="farmingInputs_miniBd_min">
			                 <table>
			                 <iframe src="#{request.contextPath}/agricultural/farmingPic.seam" id="myframPic" name="myframPic" frameBorder="0" scrolling="no" height="228px" width="320" onLoad="" ></iframe>
								<tr>
			                      <td width="100"><h3 class="all_te" style="margin-top:-26px;">图片说明:</h3></td>
			                     <td width="230" >
			                     	<h:inputTextarea value="#{partitionInfoHome.centent}" styleClass="form-control" id="contentId" style="width:319px; float:left; display:inline; margin-right:5px;"/>
			                     	<h:inputHidden value="#{partitionInfoHome.imgUrl}" id="imgUrl"/>
			                     	<h:inputHidden value="#{partitionInfoHome.picJson}" id="picJson"/>
			                     	<span style="color:#f00;">最多不能超过70字</span>
			                     </td>
			                   
			                 </tr>
			                 </table>
			                 </div>
			                 <div class="farmingInputs_miniFt">
			                 <a4j:commandButton value="提交"  onclick="if(!myPicUrl())return false" oncomplete="farpicref('')" reRender="picId"  action="#{partitionInfoHome.farmingPic()}" styleClass="btn btn-success" />
			                 <input class="btn btn-default" onclick="jQuery('#addMyFarming').hide();" type="button" value="返回" style="margin-left:5px;"></input>
			                 </div>
			                 </a4j:form>
		             </div>
		             <!--添加农事图片结束-->
                           <div style="display: none;" id="tar4">
                          	 
                                
                           		<div class="dk_cb07">
                                	<div>
                                       <div id="rainfallDevice" class="chart244" style="margin:auto;width:700px;height:255px;"></div>
                                          <div class="dktj" style="top:-307px;rigth:-9px; display: none;"><a href="#" onclick="if(!checkR())return false;openHarvest();return false;"><img src="#{request.contextPath}/asset/images/dktj.jpg" width="72" height="30" /></a></div>
                                       <table  cellspacing="0" cellpadding="0" width="100%" height="5" >
                                         <tr class="alt">
                                          <td width="5" height="4"><img width="5" height="4" src="#{request.contextPath}/asset/images/table_d_40.jpg" /></td>
                                           <td style="border-top:1px solid #e1e1e1; background:#f0f5fb;" colspan="2"></td>
                                       <td width="5" height="4"><img width="5" height="4" src="#{request.contextPath}/asset/images/table_d_43.jpg" /></td>
                                       </tr>
                                       </table>
                                        <h:panelGroup id="harvest">
                                        <script type="text/javascript">
											var harvestStr =  #{partitionInfoHome.harvestStr};
											var harvestName = #{partitionInfoHome.harvestName};
                                        </script>
                                        <table width="100%" border="0" cellspacing="0" cellpadding="0" class="ze_table" style="margin:0; border-left:1px solid #dddddd; border-right:1px solid #dddddd;"  >
                                              <tr>
                                                <th class="ze_bg" >日期</th>
                                                <th class="ze_bg" >未来一天总采收量</th>
                                                <th class="ze_bg" >未来一周总采收量 </th>
                                                <th class="ze_bg" >采收量</th>
                                              </tr>
                                              <a4j:repeat value="#{partitionInfoHome.harvestList}" var="var">
                                              <tr>
                                                <td  class="ze_bg2">#{var[0]}</td>
                                                <td  class="ze_bg2">#{var[3]==null?"0":var[3]}&#160;KG</td>
                                                <td  class="ze_bg2">#{var[2]==null?"0":var[2]}&#160;KG</td>
                                                <td  class="ze_bg2">#{var[1]}&#160;KG</td>
                                              </tr>
                                              </a4j:repeat>
                                         </table>
                                         </h:panelGroup>
                                       </div>  
                       			 
                             </div>
                        </div>
                  </div>
                  <!--切块介绍-->
                  
                  
                 
                 </div>
             
             
             
                  <!--左侧结束-->
             </td>
             <td valign="top" width="180"  style=" border-left:1px solid #e1e4eb; padding-left:12px;">
                <!--右侧开始-->
                  <!-- 地块信息开始-->
                  <div class="dk_viwe">
                     <span class="dk_vi1">地块信息</span> 
                     <s:div styleClass="dk_vibox" rendered="#{partitionInfoHome.ti.staticPicture eq null}">
                     <img src="#{request.contextPath}/asset/images/dk_004.jpg" class="dk_vinc"/> 
                     <img src="#{request.contextPath}/asset/images/dk_border.png" class="dk_viyc"/>
                     </s:div>
                     <s:div styleClass="dk_vibox" rendered="#{partitionInfoHome.ti.staticPicture ne null}">
					<img src="#{partitionInfoHome.ti.staticPicture}" class="dk_vinc"/> 
					<img src="#{request.contextPath}/asset/images/dk_border.png" class="dk_viyc"/>
					</s:div>
                    <div class="dkedit">
                       <ul class="dkz_llul">
                          <li class="dkz_lli"><a href="#{request.contextPath}/map/MapGroupEdit.seam?group_id=#{partitionInfoHome.ti.tunnelInfoId}&amp;baseId=#{partitionInfoHome.baseId}" ><img src="#{request.contextPath}/asset/images/bianj.jpg" width="28" height="28" /></a></li>
                         
                       </ul>
                    </div>

                      <span class="dk_vi_text">总面积：#{partitionInfoHome.ti.muNumber}亩 </span>   
                  </div>
                    <!-- 地块信息结束-->
                      <!-- 地块历史开s始-->
                        <div class="dk_history">
							<input type="button" class="btn btn-default" value="详情" style="display: inline; position:relative;z-index:4;right: -112px; top: 34px;" onclick="openSoilList();return false;"/>
                           <div class="dk_his_list">
                             <img src="#{request.contextPath}/asset/images/dk_line01.jpg" />
                             <span>土地历史记录</span>
                             <h:panelGroup id="history">
                             <ul>
                             <a4j:repeat var="var" value="#{partitionInfoHome.soilList}" rendered="#{partitionInfoHome.soilList.size() gt 0}" rowKeyVar="_index">
                               <li>
                                  <div class="dk_his_co">
                                   <span>#{var.beginTime}-#{var.endTime}</span>
                                   <div class="dk_his_box">
                                        <div class="dk_htop"></div>
                                        <div class="dk_his_cen">
                                        #{partitionInfoHome.map20[var.soilDataDicId]}
                                        #{partitionInfoHome.map21[var.soilsDataDicId]}
                                        <br/>
                                        #{var.pollutionLevel}
                                        </div>
                                         <div class="dk_hbottom"></div>
                                   </div>
                                   <div class="dk_his_po"><img src="#{request.contextPath}/asset/images/dk_his0#{_index%3+1}.jpg" /></div>
                                  </div>                        
                               </li>
                               </a4j:repeat>
                               <li style="#{partitionInfoHome.soilList.size() gt 0?'display:none':''}">
                                  <div class="dk_his_co">
                                   <span></span>
                                   <div class="dk_his_box">
                                        <div class="dk_htop"></div>
                                        <div class="dk_his_cen">
                                        无历史记录 <br/>点详情添加
                                        </div>
                                         <div class="dk_hbottom"></div>
                                   </div>
                                   <div class="dk_his_po"><img src="#{request.contextPath}/asset/images/dk_his0#{_index%3+1}.jpg" /></div>
                                  </div>                        
                               </li>
                             </ul>
                             </h:panelGroup>
                            <img src="#{request.contextPath}/asset/images/dk_line01.jpg" />
                           </div>
                            
                        </div>
                      <!-- 地块历史开始-->
                  
                  
                  
              <!--右侧结束-->
               </td>
            </tr></table>
            </div>
            <style>
            .cm_resumeList{}
.cm_resumeList li{ float:left;}
.cm_resumeList li a{display:block; height:44px; line-height:44px; padding:0 10px; color:#3f3f3f; overflow:hidden; font-family:'宋体';}
.cm_resumeList li a:active{border-bottom:2px solid #33aedc;}
.cm_resumeList li img{ float:left; margin-top:16px;}
.cm_resumeList li span{ float:left; text-indent:10px;}
.borderBt{ border-bottom:2px solid #33aedc;}
.borderBt02{ border-bottom:1px solid #cbcbcb;}
		.dr-mpnl-pnl-b{padding:0px;font-size:14px;font-weight:bold;}
		.landtest .tc_font{width:120px}
		.flot-base{left:0; top:0; position: absolute;}
/*@media all and (-webkit-min-device-pixel-ratio:0)*/
@media screen and (-webkit-min-device-pixel-ratio:0){
		.dkzzedit{width: 230px;
height: 107px;
background: url(#{request.contextPath}/asset/images/zzbjbg.png) no-repeat;
position: absolute;
top: -13px;
right: -2px;
display: none;
}
.dk_zz_li{float: left;
margin-right: 30px;
margin-bottom: 17px;
padding: 0 13px;
padding-left:15px;
position: relative;
border: 1px solid #fff;
}
}
 .fr{float:right;}
	.r_ulli1{float:right;}
		</style>
            <rich:modalPanel id="landTest" autosized="true" headerClass="modalHeader"  style=" margin-top:-100px;">
		<div class="tck_div" style="height:430px;">
       <div class="tck_ti" style="right:0px"><div style="float:left;margin-top:2px;">编辑土地检测记录</div>
       <h:outputLink value="#" style="margin-right:-13px"
                onclick="#{rich:component('landTest')}.hide();return false;">
                    <img src="../images/close_17.jpg" width="20" height="20"/>
                </h:outputLink>
                </div>
                <ui:include src="/map/PartitionInfoLandTest.xhtml" />
       </div>
   </rich:modalPanel>
   
   <rich:modalPanel id="costInfo" autosized="true" headerClass="modalHeader"  style=" margin-top:-100px;">
		<div class="tck_div" style="height:430px;">
       <div class="tck_ti" style="right:0px"><div style="float:left;margin-top:2px;">成本管理</div>
       <h:outputLink value="#" style="margin-right:-13px"
                onclick="#{rich:component('costInfo')}.hide();return false;">
                    <img src="../images/close_17.jpg" width="20" height="20"/>
                </h:outputLink>
                </div>
       </div>
   </rich:modalPanel>
   <div>
                        	<table class="pop" id="pop" width="700" height="200" cellpadding="0" cellspacing="0">
                            	<tr>
                                	<td><img src="#{request.contextPath}/asset/images/left_top.png" width="9" height="8" /></td>
                                    <td width="100%" height="8" style="background:url(#{request.contextPath}/asset/images/top_cen.png) repeat-x;"></td>
                                    <td><img src="#{request.contextPath}/asset/images/right_top.png" width="9" height="8" /></td>
                                </tr>
                            	<tr>
                                	<td width="9" height="100%" style="background:url(#{request.contextPath}/asset/images/left_cen.png) repeat-y;"></td>
                                    <td class="pop_td" valign="top">
                                    	<table width="100%" cellpadding="0" cellspacing="0">
                                        	<tr>
                                            	<td align="left" width="19" height="17" class="tcdbor"><img src="#{request.contextPath}/asset/images/tck_12.jpg" width="19" height="17" /></td>
                                                <td align="left" class="tcdbor tcdtext">农事记录管理</td>
                                                <td align="right" class="tcdbor"><a href="#" id="close"><img src="#{request.contextPath}/asset/images/close_12.jpg" style="width:14px;height:14px;" /></a></td>
                                        	</tr>
                                          </table>  
                                         
                                          <div class="dk_tdiv operate_" style="height: auto;width: 800px;">
                                          <div class="farmRecord" style="top:inherit;position:relative; box-sizing:border-box;width: 800px;">
                                           <a4j:form ajaxSubmit="true" id="aai" autocomplete="on">
								              <div class="clearfix" style="max-height: 532px;overflow: auto;min-height:338px;">
							                    <div class="choice" style="width:100%; margin-bottom: 12px;">
							                        <p class="item">记录/计划</p>
							                        <input type="hidden" name="operate_type" id="operate_type"/>
							                        <ul class="six3">
							                            <li class="fxy_lidate">
										                	<label aa="0" class="checked radio" name="sex_nomale" for="sex_nomale">记录</label>
										                </li>
										                <li class="fxy_lidate" style="display:#{partitionInfoHome.enterpriseSettings.farmPlatChecked ?'block;' : 'none;'}">
										                	<label aa="1" class="radio" name="sex_nomale" for="sex_nomale">计划</label>
										                </li>
							                        </ul>
							                    </div>
							                    <div class="choice aai_1">
							                        <p class="item">操作人：</p>
							                        <select id="aai_farmId" class="" name="aai_farmId" multiple="multiple">
										                <a4j:repeat value="#{partitionInfoHome.farList}" var="var">
										                	<option value="#{var[0]}">#{var[1]}</option>
										                </a4j:repeat>
									                </select>
							                    </div>
							                    <div class="choice aai_1">
							                        <p class="item">操作类型：</p>
							                        <select id="aai_type1" name="aai_type1" data-live-search="true">
										                <a4j:repeat value="#{partitionInfoHome.frfidList}" var="var">
										                	<option value="#{var[0]}">#{var[1]}</option>
										                </a4j:repeat>
									                </select>
							                    </div>
							                   <div class="choice aai_1">
							                        <p class="item">操作时间：</p>
							                        <div class="input-append date aai_startT form_datetime "  >
													    <input size="23" type="text" value="" readonly="readonly" id="aai:aai_startTInputDate" name="aai:aai_startTInputDate" autocomplete="off" />
													    <span class="add-on" style="height:14px"><i class="icon-th"></i></span>
												    </div>
							                    </div>
							                    <div class="choice aai_1 #{partitionInfoHome.enterpriseSettings.workTimeChecked?'':'disnone'}">
							                        <p class="item">工时:</p>
							                        <input size="23" type="text" value="" class="form-control nw130"  id="work_time" name="work_time" autocomplete="off" />
							                        <p class="unit">小时</p>
							                        <p class="unit" style="color:red;">*</p>
							                    </div>
							                    <div class="choice aai_1 #{partitionInfoHome.enterpriseSettings.environmentChecked?'':'disnone'}">
							                        <p class="item">环境温度:</p>
							                        <input class="form-control nw130"  type="text" id="record_temp" name="record_temp"/>
							                        <p class="unit">℃</p>
							                    </div>
							                     <div class="choice aai_1 #{partitionInfoHome.enterpriseSettings.environmentChecked?'':'disnone'}" >
							                        <p class="item">环境湿度:</p>
							                       <input class="form-control nw130" type="text" id="record_humi" name="record_humi"/> 
							                        <p class="unit">%</p>
							                    </div>
							                   	<div class="tup clear aai_1" >
							                   		<div class="choice">
							                       		<p class="item">农事图片:</p>
							                        		<div class="farmPics">
							                           		<h:panelGroup id="picId">
		                                                    	<a4j:repeat value="#{partitionInfoHome.farmingPicList}" var="var" id="farmingPicList" rowKeyVar="row">
			                                                     	<div class="farmingInputs fl">
			                                                         	<a class="farmingInputs_pic" href="javascript:;"><img src="#{var[0]}" width="128" height="128" /></a>
			                                                             <em class="closeInputs" onclick="delfarmingPicList(#{row})"><img src="#{request.contextPath}/asset/images/clo_04.jpg" /></em>
			                                                        </div>
			                                                    </a4j:repeat>
		                                                     	<input type="button" class="farmingInputs_add3" style="margin-bottom:25px;float:left;" onclick="addFarming()"></input>
		                                                  	</h:panelGroup>
			                                        	</div>
							                        </div> 
							                        <div class="choice #{partitionInfoHome.enterpriseSettings.inputsInfoChecked? '' :'disnone'}">
							                            <p class="item">投入品:</p>
							                            <div class="farmPics">
								                            <s:div id="farmingInputs_wp1" styleClass="farmingInputs_wp">
	                                                          <a4j:repeat value="#{partitionInfoHome.recordList}" var="var" id="recordList" rowKeyVar="row">
	                                                                <div class="farmingInputs fl">
	                                                                    <a class="farmingInputs_pic" href="javascript:;">
																		<s:fragment rendered="#{var.inputsInfoId.packingImagesUrl eq null or var.inputsInfoId.packingImagesUrl eq ''}"><img src="#{request.contextPath}/asset/images/inputs/tourupin.jpg" width="128" height="128" /></s:fragment>
		                                                                <s:fragment rendered="#{var.inputsInfoId.packingImagesUrl ne null and var.inputsInfoId.packingImagesUrl ne ''}"><img src="#{var.inputsInfoId.packingImagesUrl}" width="128" height="128" /></s:fragment>
	                                                                     <p>#{var.inputsInfoId.name} #{var.amount}#{var.inputsInfoId.unitInfo.name}</p>
	                                                                     </a>
	                                                                      <em class="closeInputs" onclick="delRecordList(this,#{var.id_index})"><img src="#{request.contextPath}/asset/images/clo_04.jpg" /></em>
	                                                                    </div>
	                                                          </a4j:repeat>                                                                  	
		                                                        <div class="farmingInputs_add" style="position:static;">
		                                                             <input type="button" class="farmingInputs_add3" style="margin-bottom:25px;" onclick="addRecord()"></input>
		                                                		</div>
	                                                 		</s:div>
							                        	</div>
							                        </div> 
							                   	</div>
							                    <div class="choice aai_1" style="display:#{partitionInfoHome.enterpriseSettings.inputsInfoChecked?'block;':'none;'}">
							                        <p class="item">农资成本</p>
							                        <s:div id="nsInputsCost">
							                        	<p class="unit" id="nsInputsCostVal"><h:outputText value="#{partitionInfoHome.nsInputsCost}" ><f:convertNumber pattern="#.##"/></h:outputText>元</p>
							                        </s:div>
							                    </div>
							                    <div class="choice aai_1 #{partitionInfoHome.enterpriseSettings.costChecked?'':'disnone'}">
							                        <p class="item">其他成本:</p>
							                        <input  class="form-control nw130"  id="record_costing"  name="record_costing" />
							                        <p class="unit">元</p>
							                    </div>
							                  	<div class="choice aai_1">
							                        <p class="item">备注:</p>
							                       	<textarea style="resize: none;width:490px; height:51px;" class="form-control nw300" id="aai_description" name="aai_description"></textarea>
							                    </div>
							                    <div class="choice aai_2">
							                        <p class="item">操作类型：</p>
							                       	<select id="arh_type" name="arh_type" data-live-search="true">
										                <a4j:repeat value="#{partitionInfoHome.nofatherList}" var="var">
										                	<option value="#{var[0]}">#{var[1]}</option>
										                </a4j:repeat>
										                </select>
							                    </div>
							                    <div class="choice aai_2">
							                        <p class="item">预计时间：</p>
							                       	<div class="input-append date  form_datetime record_date2"  >
													    <input size="23" type="text" value="" readonly="readonly" id="aai:arh_sendTimeInputDate" name="aai:arh_sendTimeInputDate" autocomplete="off" />
													    <span class="add-on" style="height:14px"><i class="icon-th"></i></span>
													</div>
							                    </div>
							                    <div class="choice aai_2 clear #{partitionInfoHome.enterpriseSettings.inputsInfoChecked?'':'disnone'}">
							                        <p class="item">投入品：</p>
							                        <div class="farmPics">
							                       	<s:div id="farmingInputs_wp2" styleClass="farmingInputs_wp">
		                                              <a4j:repeat value="#{partitionInfoHome.recordList2}" var="var" id="recordList2" rowKeyVar="row">
		                                                  <div class="farmingInputs fl">
		                                                      <a class="farmingInputs_pic" href="javascript:;">													
																<s:fragment rendered="#{var.inputsInfoId.packingImagesUrl eq null or var.inputsInfoId.packingImagesUrl eq ''}"><img src="#{request.contextPath}/asset/images/inputs/tourupin.jpg" width="128" height="128" /></s:fragment>
			                                                    <s:fragment rendered="#{var.inputsInfoId.packingImagesUrl ne null and var.inputsInfoId.packingImagesUrl ne ''}"><img src="#{var.inputsInfoId.packingImagesUrl}" width="128" height="128" /></s:fragment>
		                                                        <p>#{var.inputsInfoId.name} #{var.amount}#{var.inputsInfoId.unitInfo.name}</p>
		                                                        </a>
		                                                         <em class="closeInputs" onclick="delRecordList(this,#{var.id_index})"><img src="#{request.contextPath}/asset/images/clo_04.jpg" /></em>
		                                                   </div>
		                                               </a4j:repeat>                  	
							                          <div class="farmingInputs_add" id="jihualist" style="position:static;">
							                          	<input type="button" class="farmingInputs_add3" style="margin-bottom:25px;" onclick="addRecord()"></input>
							             				</div>
							                      </s:div>
					                            	</div>
							                    </div>
							                    <div class="choice aai_2" style="clear:both;display:#{partitionInfoHome.enterpriseSettings.inputsInfoChecked?'block;':'none;'}">
							                        <p class="item">农资成本</p>
							                        <s:div id="jhInputsCost">
							                        	<p class="unit" id="nsInputsCostVal"><h:outputText value="#{partitionInfoHome.jhInputsCost}" ><f:convertNumber pattern="#.##"/></h:outputText>元</p>
							                        </s:div>
							                    </div>
							                    <div class="choice aai_2 #{partitionInfoHome.enterpriseSettings.costChecked?'':'disnone'}">
							                        <p class="item">其他成本:</p>
							                        <input  class="form-control nw130"  id="record_costing2" name="record_costing2" />
							                        <p class="unit">元</p>
							                    </div>
							                    <div class="choice aai_2">
							                        <p class="item">工作内容：</p>
							                       	<textarea style="resize: none; width:490px; height:51px;" class="form-control nw300" id="arh_content" name="arh_content"></textarea>
							                    </div>
								            	
								            </div>	
							                <div class="modal-footer" style="text-align:center;">
							                	<a4j:commandButton id="hidAddAgrBtn" status="ajaxStatus" styleClass="btn btn-primary" value="保存" onclick="if(!checkOperate())return false;" reRender="operate,operate_js,pesticides,fertilizers,other,costI" 
									             eventsQueue="mainQueue" style="cursor: pointer;" action="#{partitionInfoHome.updateAai}" data="#{partitionInfoHome.messageStr}" oncomplete="submitAgr(data)"/>
									              &#160;&#160;
									            <input type="button" class="btn btn-default" value="返回" style=" cursor:pointer"  onclick="closeDoor()"/>
							                </div>
							              
							              
							              </a4j:form>
							              </div>
							              <!-- 添加投入品开始 -->
                                              <div class="farmingInputs_mini modal-dialog" id="addInputRecord" style="z-index:101;position:absolute; left:50%; top:50%; width:828px; margin-left:-341px; margin-top:-80px;">
										        <a4j:form ajaxSubmit="true" id="record_" autocomplete="on">
										            <div class="farmingInputs_miniHd"><h3>添加投入品</h3><input type="button" class="butt" onclick="_Q('#addInputRecord').hide()"/></div>
										                 <div class="farmingInputs_miniBd" style="padding:0;">
										                     <div class="box_padding20">
											                     <div id="iradio-InputProductInfo">
										                             <!-- 投入品搜索 -->
										                             <div class="farminputs_search clear" style="margin-bottom:25px;">
										                                  	<div class="public-search">
																				<span class="octicon-search02"></span>
																				<input class="form-control srarchfont" id="searchInputText" type="text" value="请输入查询内容" onfocus="FocusFn(this,'#333','请输入查询内容')" onblur="BlurFn(this,'#a8a8a8','请输入查询内容')"></input>
																			</div>
																			<p class="txt_name fl">投入品类型</p>
																			<div class="inputs_selectpicker">
																				<select class="selectpicker" id="inputType">
											                                         <option value="2">农药</option>
											                                         <option value="3">肥料</option>
											                                         <option value="5">种子</option>
											                                         <option value="4">其他</option>
										                                        </select>
										                                    </div>
										                                     <input type="button" class="btn btn-primary fl" onclick="searchInputs(1);" value="搜索"/>
										                             </div>
										                             <!-- 投入品表格上 -->
											                          <h:panelGroup id="recordInputList">
											                              <div class="inputs_table" id="inputs_table">
											                                   <table width="100%" cellpadding="0" cellspacing="0" id="inputsTable">
											                                       <tr>
											                                       	<th width="30" class="br_bt br_rt radius_lt"><span id="mn_checkall" class="mn_checkall" onclick="OutputCheckAll(this,'#inputs_table')"></span></th>
											                                       	<th width="164" class="br_bt br_rt">投入品编号</th>
											                                       	<th width="170" class="br_bt br_rt">投入品名称</th>
											                                       	<th width="176" class="br_bt br_rt">投入品规格</th>
											                                       	<th class="br_bt radius_lt">生产厂家</th>
											                                       </tr>
											                                       <a4j:repeat value="#{partitionInfoHome.goodsInfoList}" var="var">
											                                        <tr id="trp_#{var[0]}">
											                                        	<td class="br_bt br_rt"><span class="mn_check" id="check_#{var[0]}" onclick="OutputCheck(this,'#inputs_table','#mn_checkall','#{var[0]}')"></span>
											                                        		<input type="hidden" value="#{var[0]}"/>
											                                        		<input type="hidden" value="#{var[9]}"/>
											                                        	</td>
											                                        	<td class="br_bt br_rt"><p class="ellipsis">#{var[11]}</p></td>
											                                        	<td class="br_bt br_rt"><p class="ellipsis">#{var[1]}</p> </td>
											                                        	<td class="br_bt br_rt"><p class="ellipsis">#{var[5]}#{var[10]}<s:fragment rendered="#{not empty var[7]}">/#{var[7]}</s:fragment></p></td>
											                                        	<td class="br_bt"><p class="ellipsis">#{var[8]}</p></td>
											                                        </tr>
											                                       </a4j:repeat>
											                                    </table>
											                              </div>
										                              	<!-- 分页 开始 -->
																    	<table class="pageModel-wap fr" cellpadding="0" cellspacing="0">
																	        <tr>
																	            <td>
																	                <div style="width:auto;">
																	                    <table class="pageModel" cellpadding="0" cellspacing="0">
																	                        <tr>
																	                            <td>
																	                            	<s:fragment rendered="#{partitionInfoHome.inputsPageNum ne 1 and partitionInfoHome.inputsTotalPageNum gt 0}">
																	                            		<span class="page_num"><a id="lastPage" href="javascript:inputsJump(1);">首页</a></span>
																		                            	<span class="page_num"><a href="javascript:inputsJump(#{partitionInfoHome.inputsPageNum-1});">&lt;&lt;</a></span>
																		                            </s:fragment>
																		                            <a4j:repeat value="#{partitionInfoHome.inputsPageList}" var="_page">
																		                            	<span class="page_num #{partitionInfoHome.inputsPageNum eq _page? 'page_Cur':''}"><a href="javascript:inputsJump(#{_page});">#{_page}</a></span>
																		                            </a4j:repeat>
																		                            <s:fragment rendered="#{partitionInfoHome.inputsPageNum ne partitionInfoHome.inputsTotalPageNum and partitionInfoHome.inputsTotalPageNum gt 0}">
																		                            	<span class="page_num"><a href="javascript:inputsJump(#{partitionInfoHome.inputsPageNum+1});">&gt;&gt;</a></span>
																		                            	<span class="page_num"><a id="lastPage" href="javascript:inputsJump(#{partitionInfoHome.inputsTotalPageNum});">尾页</a></span>
																		                            </s:fragment>																						                               
																	                                <span class="page_num pageCount page_last" style="border-right:0;"><a href="javascript:;" style="cursor:default;">共#{partitionInfoHome.inputsTotalPageNum}页</a></span>
																	                             </td>
																	                    	</tr>
																	                    </table>
																	                </div>
																	            </td>
																	        </tr>
																    	</table>
																	</h:panelGroup>
																</div>
										                    </div>
															<!-- 投入品表格下 -->
															<div class="box_padding20 br_dd mb20 clear">
																<div class="inputs_table mt20">
										                          	<table width="100%" cellpadding="0" cellspacing="0" id="addInputsTable">
										                                <tr>
										                                	<th width="40" class="br_bt br_rt radius_lt">序号</th>
										                                	<th width="80" class="br_bt br_rt">投入品名称</th>
										                                	<th width="80" class="br_bt br_rt">规格</th>
										                                	<th width="60" class="br_bt br_rt">使用量</th>
										                                	<th width="60" class="br_bt br_rt">成本</th>
										                                	<th width="120" class="br_bt br_rt">出库</th>
										                                	<th width="150" class="br_bt br_rt">入库批次</th>
										                                	<th width="90" class="br_bt br_rt">经办人</th>
										                                	<th width="50" class="br_bt br_rt">库存量</th>
										                                	<th class="br_bt radius_lt">操作</th>
										                                </tr>
										                            </table>
										                        </div>
															</div>
														</div>                                                                               
										                <div class="farmingInputs_miniFt">        
										                	<input type="hidden" id="agricultralType" name="agricultralType"/>                                                                       						
															<h:inputHidden value="#{partitionInfoHome.inputsInfoData}" id="inputsInfoData"/>
		                                                    <a4j:commandButton id="submitInputs" value="提交" onclick="if(!submitRecord()){return false;}" reRender="farmingInputs_wp1,farmingInputs_wp2,nsInputsCost,jhInputsCost" 
													         oncomplete="_Q('#addInputRecord').hide();document.getElementById('record_:submitInputs').disabled = false;farpicref('')" 
													         action="#{partitionInfoHome.addInputsRecord()}" styleClass="btn btn-success"/>	         
		                                                   <input class="btn btn-default" onclick="_Q('#addInputRecord').hide();" type="button" value="返回" style="margin-left:5px"></input>
		                                                </div>
										            </a4j:form>
										         </div>
										     	<!-- 添加投入品结束-->
							              </div>
							              
							              
							              <a4j:form ajaxSubmit="true" id="har" autocomplete="on">
                                          <div class="dk_tdiv harvest_" style="height: 320px">
                             <table width="700" class="dk_showt2" border="0" cellspacing="0" cellpadding="0">
                                 <tr height="45" >
							                <td align="right">采收时间：</td>
							                 <td align="left" class="tc_strong">
                                                                     <input type="hidden" id="har_type" name="har_type" value=""/> 
							<input type="hidden" id="har_id" name="har_id" value=""/> 
							<input type="hidden" id="har_time_id" name="har_time_id" value=""/>
								 <div class="har_tim2" style="font-size:14px">
								 </div>
								 <div class="input-append date har_time form_datetime har_tim1"  >
    <input size="23" type="text" value="" readonly="readonly" id="har:har_timeInputDate" name="har:har_timeInputDate" autocomplete="off" />
    <span class="add-on" style="height:14px"><i class="icon-th"></i></span></div>
                                                                </td>
							                <td align="right">必须采收数量：</td>
							                <td> 
							                <input type="text" class="form-control nw221" style="width:170px;;float:left" id="har_must" name="har_must" />&#160;KG
							               
							              </td></tr>
							              <tr height="45" >
							                <td align="right">可采收数量：</td>
							                 <td align="left" class="tc_strong">
                                                 <input type="text" class="form-control nw221" style="width:170px;float:left" id="har_may" name="har_may" />&#160;KG                   
                                                            </td>
							                <td align="right">实际采收重量：</td>
							                <td>
							               <input type="text" class="form-control nw221" style="width:170px;;float:left" id="har_weight" name="har_weight" />&#160;KG
					                              
					                                                  </td>
							              </tr>
							   </table>             
							              <table align="center" cellspacing="0" cellpadding="0" style="margin:0 auto;margin-top:12px;"><tbody><tr><td>
							              <a4j:commandButton styleClass="btn btn-primary" value="保存" status="ajaxStatus" reRender="harvest" onclick="if(!checkHarvest())return false;" eventsQueue="mainQueue" style="cursor: pointer;" action="#{partitionInfoHome.updateHarvest}" oncomplete="closeDoor();plottable()"/>
							              &#160;&#160;
							              <input type="button" class="btn btn-default" value="返回" style=" cursor:pointer"  onclick="closeDoor()"/>
							              </td></tr></tbody></table>
							              </div>
							              
							              </a4j:form>
							              
							              <a4j:form ajaxSubmit="true" id="see" autocomplete="on">
                                          <div class="dk_tdiv seeds_" style="height: 280px">
							             <table width="700" cellspacing="0" cellpadding="0" border="0" class="dk_showt2">
						<tr height="45" >
							                <td align="right">品种：</td>
							                <td>
							                <input type="hidden" id="seeds_id" name="seeds_id"/>
							                <div class="sw170"><select id="seeds_breed" name="seeds_breed">
							                <a4j:repeat value="#{partitionInfoHome.breedList}" var="var">
							                	<option value="#{var[0]}">#{var[1]}</option>
							                </a4j:repeat>
							                </select></div></td>
							                <td align="right">千粒/重：</td>
							                <td><input type="text" class="form-control nw221" style="width:170px;" id="seeds_weight" name="seeds_weight" /></td>
							              </tr>
						<tr height="75" >
							                <td align="right">保质期：</td>
							                <td><input type="text" class="form-control nw221" style="width:170px;" id="seeds_shelfLife" name="seeds_shelfLife" />天</td>
							                <td align="right">种子来源：</td>
							                <td><table cellpadding="0" cellspacing="0">
                                                              <tr>
                                                                  <td><img src="#{request.contextPath}/asset/images/textarea_01.jpg" width="4" height="4" /></td>
                                                                  <td width="170" height="4" style="background:url(#{request.contextPath}/asset/images/textarea_03.jpg) repeat-x;"></td>
                                                                  <td><img src="#{request.contextPath}/asset/images/textarea_05.jpg" width="4" height="4" /></td>
                                                              </tr>
                                                              <tr>
                                                                  <td width="4" height="100%" style="background:url(#{request.contextPath}/asset/images/textarea_09.jpg) repeat-y;"></td>
                                                                  <td  valign="top" style="background: none repeat scroll 0 0 #FFFFFF;"><textarea style="resize: none; width:160px; height:51px; border:none;" id="seeds_source" name="seeds_source"></textarea>
                                                                  </td>
                                                                  <td width="4" height="100%" style="background:url(#{request.contextPath}/asset/images/textarea_11.jpg) repeat-y;"></td>
                                                              </tr>
                                                              <tr>
                                                                  <td width="4" height="4"><img src="#{request.contextPath}/asset/images/textarea_13.jpg" width="4" height="4" /></td>
                                                                  <td width="170" height="4" style="background:url(#{request.contextPath}/asset/images/textarea_14.jpg) repeat-x;"></td>
                                                                  <td width="4" height="4"><img src="#{request.contextPath}/asset/images/textarea_16.jpg" width="4" height="4" /></td>
                                                              </tr>
                                                          </table></td>
							              </tr>	 
							              <tr height="45" >
							                <td align="right">备注：</td>
							                <td colspan="3"><table cellpadding="0" cellspacing="0">
                                                              <tr>
                                                                  <td><img src="#{request.contextPath}/asset/images/textarea_01.jpg" width="4" height="4" /></td>
                                                                  <td width="170" height="4" style="background:url(#{request.contextPath}/asset/images/textarea_03.jpg) repeat-x;"></td>
                                                                  <td><img src="#{request.contextPath}/asset/images/textarea_05.jpg" width="4" height="4" /></td>
                                                              </tr>
                                                              <tr>
                                                                  <td width="4" height="100%" style="background:url(#{request.contextPath}/asset/images/textarea_09.jpg) repeat-y;"></td>
                                                                  <td  valign="top" style="background: none repeat scroll 0 0 #FFFFFF;"><textarea style="resize: none; width:160px; height:51px; border:none;" id="seeds_remards" name="seeds_remards"></textarea>
                                                                  </td>
                                                                  <td width="4" height="100%" style="background:url(#{request.contextPath}/asset/images/textarea_11.jpg) repeat-y;"></td>
                                                              </tr>
                                                              <tr>
                                                                  <td width="4" height="4"><img src="#{request.contextPath}/asset/images/textarea_13.jpg" width="4" height="4" /></td>
                                                                  <td width="170" height="4" style="background:url(#{request.contextPath}/asset/images/textarea_14.jpg) repeat-x;"></td>
                                                                  <td width="4" height="4"><img src="#{request.contextPath}/asset/images/textarea_16.jpg" width="4" height="4" /></td>
                                                              </tr>
                                                          </table></td>
							              </tr>             
					</table><table align="center" cellspacing="0" cellpadding="0" style="margin:0 auto;margin-top:12px;"><tbody><tr><td>
							              <a4j:commandButton styleClass="btn btn-primary" value="保存" status="ajaxStatus" reRender="seeds" onclick="if(!checkSeeds())return false;" eventsQueue="mainQueue" style="cursor: pointer;" action="#{partitionInfoHome.updateSeeds}" oncomplete="closeDoor();"/>
							              &#160;&#160;
							              <input type="button" class="btn btn-default" value="返回" style=" cursor:pointer"  onclick="closeDoor()"/>
							              </td></tr></tbody></table>
							              </div>
							              </a4j:form>
							              							              		            						              							             							              
							              <a4j:form ajaxSubmit="true" id="plant" autocomplete="on">
                                          <div class="dk_tdiv plant_" id="realplant" style="height: 320px;padding-top:5px">
                      <div class="all_da all_w01" style="width:270px;min-width:inherit;">
                        	<table>
                                <tr>
                                    <td class="all_te">作物：</td>
                                    <td>
                                    <input type="hidden" value="" id="plant_tunnel_id" name="plant_tunnel_id"></input>
	                                                  	<input type="hidden" value="" id="plant_real_id" name="plant_real_id"></input>
	                                                  	<input type="hidden" value="" id="edittype" name="edittype"></input>
	                                                  	<input type="hidden" value="" id="scheduleId" name="scheduleId"></input>
	                                                  	<input type="hidden" value="#{partitionInfoHome.pet.id}" id="env_type" name="env_type"></input>
	                                                  	<input type="hidden" value="#{partitionInfoHome.pet.name}" id="env_name" name="env_name"></input>
	                                                    <input type="hidden" value="" id="map_p"></input>
	                                                    <input type="hidden" value="" id="map_b"></input>
	                                                    <input type="hidden" value="" id="map_m"></input>
	                                                    <input type="hidden" value="" id="model_name" name="model_name"/>
	                                                    <input type="hidden" value="#{partitionInfoHome.ti.area}" id="tunnel_area" name="tunnel_area"></input>
							                <div class="sw170" style="display:none"><select id="aps_type" name="aps_type" >
	                                                  	<option value="0">历史种植</option>
	                                                  	<option value="1" selected="selected">实际种植</option>
	                                                  	</select></div>
	                                                  	<div class="sw170"><select id="plant_plantId" name="plant:plantId" class="small2" style="display:none" onchange="changeBreed();">
														<a4j:repeat value="#{partitionInfoHome.plantList}" var="var" >
	                                                      	<option value="#{var[0]}">#{var[1]}</option>
	                                                      	</a4j:repeat>
														</select></div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="all_da all_w01" style="width:270px;min-width:inherit;">
                        	<table>
                                <tr>
                                    <td class="all_te">品种：</td>
                                    <td>
                                    <div class="sw170"><select name="breedBreedId" id="breedBreedId" class="small2" style="width:170px;display:none" onchange="getModelByTime(this.value,_Q('#plant_tunnel_id').val(),_Q('#plant\\:plant_beginInputDate').val(),_Q('#plant_standard').val(),_Q('#plant\\:plant_endInputDate').val(),_Q('#plant_real_id').val())">
								</select></div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="all_da all_w01" style="width:270px;min-width:inherit;">
                        	<table>
                                <tr>
                                    <td class="all_te">种植标准：</td>
                                    <td>
                                    <div class="sw170"><select name="plant_standard" id="plant_standard" onchange="getModelByTime(_Q('#breedBreedId').val(),_Q('#plant_tunnel_id').val(),_Q('#plant\\:plant_beginInputDate').val(),_Q('#plant_standard').val(),_Q('#plant\\:plant_endInputDate').val(),_Q('#plant_real_id').val())">
	                                                      	<a4j:repeat value="#{sessionTake.ddList}" var="var" >
	                                                      	<option value="#{var.dataDicId}">#{var.name}</option>
	                                                      	</a4j:repeat>
	                                                      	</select></div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                         <div class="all_da all_w01" style="width:270px;min-width:inherit;">
                        	<table>
                                <tr>
                                    <td class="all_te modehidename_1">定植时间：</td>
                                    <td>
                                    <div class="input-append date beginInput form_datetime " style="position:relative;"  >
    <input size="23" type="text" value="" readonly="readonly" id="plant:plant_beginInputDate" name="plant:plant_beginInputDate" autocomplete="off" />
    <span class="add-on" style="height:14px; position:absolute; top:8px;"><i class="icon-th" style="margin-top:0;"></i></span>
    </div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="all_da all_w01 modehide" style="width:270px;min-width:inherit;">
                        	<table>
                                <tr>
                                    <td class="all_te">采收开始：</td>
                                    <td>
                                    <div class="input-append date harvestTime form_datetime "  style="position:relative;" >
    <input size="23" type="text" value="" readonly="readonly" id="plant:harvest_timeInputDate" name="plant:harvest_timeInputDate" autocomplete="off" />
    <span class="add-on" style="height:14px;position:absolute; top:8px;"><i class="icon-th" style="margin-top:0;"></i></span>
    </div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                         <div class="all_da all_w01" style="width:270px;min-width:inherit;">
                        	<table>
                                <tr>
                                    <td class="all_te modehidename_2">结束时间：</td>
                                    <td>
                                    <div class="input-append date endInput form_datetime "  style="position:relative;" >
    <input size="23" type="text" value="" readonly="readonly" id="plant:plant_endInputDate" name="plant:plant_endInputDate" autocomplete="off" />
    <span class="add-on" style="height:14px;position:absolute; top:8px;"><i class="icon-th" style="margin-top:0;"></i></span>
    </div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="all_da all_w01" style="display:none">
                        	<table>
                                <tr>
                                    <td class="all_te">履历名称：</td>
                                    <td>
                                    <input type="text" class="form-control nw221" style="width:170px;" id="resumePlantName" name="resumePlantName"  />
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="all_da all_w01" style="width:270px;min-width:inherit;">
                        	<table>
                                <tr>
                                    <td class="all_te">种植面积：</td>
                                    <td>
                                    <input type="text" class="form-control nw221" style="width:80px;float:left" id="plant_area" name="plant_area" onkeyup="clearNoNum(this)"/>
                                                      		<span class="mu_mianji">&#160;亩/</span>
                                                           <span class="mu_mianji"  id="plantarea" name="plantarea" ></span>
                                                     	  	<span class="mu_mianji" >亩可用</span>
                                                     	  	<input type="hidden" id="myarea"/>
                                                     	  	<input type="hidden" id="old_start"/>
                                                     	  	<input type="hidden" id="old_end" />
                                    </td>
                                </tr>
                            </table>
                        </div>
						<div class="all_da all_w01 modehide" style="width:auto;min-width:inherit;">
                        	<table>
                                <tr>
                                    <td class="all_te">预估产量：</td>
                                    <td>
                                    <div class="sw170"><select id="yield_type" name="yield_type" onchange="changeYield(this)">
                                                        <option value="1">亩产量</option>
                                                        <option value="2">地块产量</option>
                                                    </select></div>
                                    </td>
                                </tr>
                            </table>
                        </div>	              
                        <div id="prompt" style="height:20px; color: red; text-align:left;  line-height:20px; position:relative; top:-20px;"></div>
							<ul class="modehide">
                <li class="tc_li typ1" style="padding:0; height:0;"></li>
	                                    <li class="tc_li typ1" style="height:auto; padding:0;">
	                                     	<table cellspacing="0" cellpadding="0" class="spctab_le table_2" id="plant_model" style="width:95%; float:left;"> 
                                                    <tr>
                                                        <td class="semxline">1月份</td>
                                                        <td class="semxnene">
                                                            <input class="input_out3" id="month1"  name="month1" type="text" onfocus="this.className='input_on3';this.onmouseout=''" onblur="this.className='input_off3';this.onmouseout=function(){this.className='input_out3'};" onmousemove="this.className='input_move3'" onmouseout="this.className='input_out3'" />
                                                        </td>
                                                        <td class="semxline">2月份</td>
                                                        <td class="semxnene">
                                                            <input class="input_out3" id="month2" name="month2" type="text" onfocus="this.className='input_on3';this.onmouseout=''" onblur="this.className='input_off3';this.onmouseout=function(){this.className='input_out3'};" onmousemove="this.className='input_move3'" onmouseout="this.className='input_out3'" />
                                                        </td>
                                                        <td class="semxline">3月份</td>
                                                        <td class="semxnene">
                                                            <input class="input_out3" id="month3" name="month3" type="text" onfocus="this.className='input_on3';this.onmouseout=''" onblur="this.className='input_off3';this.onmouseout=function(){this.className='input_out3'};" onmousemove="this.className='input_move3'" onmouseout="this.className='input_out3'" />
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="semxline">4月份</td>
                                                        <td class="semxnene">
                                                            <input class="input_out3" id="month4" name="month4" type="text" onfocus="this.className='input_on3';this.onmouseout=''" onblur="this.className='input_off3';this.onmouseout=function(){this.className='input_out3'};" onmousemove="this.className='input_move3'" onmouseout="this.className='input_out3'" />
                                                        </td>
                                                        <td class="semxline">5月份</td>
                                                        <td class="semxnene">
                                                            <input class="input_out3" id="month5" name="month5" type="text" onfocus="this.className='input_on3';this.onmouseout=''" onblur="this.className='input_off3';this.onmouseout=function(){this.className='input_out3'};" onmousemove="this.className='input_move3'" onmouseout="this.className='input_out3'" />
                                                        </td>
                                                        <td class="semxline">6月份</td>
                                                        <td class="semxnene">
                                                            <input class="input_out3" id="month6" name="month6" type="text" onfocus="this.className='input_on3';this.onmouseout=''" onblur="this.className='input_off3';this.onmouseout=function(){this.className='input_out3'};" onmousemove="this.className='input_move3'" onmouseout="this.className='input_out3'" />
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="semxline">7月份</td>
                                                        <td class="semxnene">
                                                            <input class="input_out3" id="month7" name="month7" type="text" onfocus="this.className='input_on3';this.onmouseout=''" onblur="this.className='input_off3';this.onmouseout=function(){this.className='input_out3'};" onmousemove="this.className='input_move3'" onmouseout="this.className='input_out3'" />
                                                        </td>
                                                        <td class="semxline">8月份</td>
                                                        <td class="semxnene">
                                                            <input class="input_out3" id="month8" name="month8" type="text" onfocus="this.className='input_on3';this.onmouseout=''" onblur="this.className='input_off3';this.onmouseout=function(){this.className='input_out3'};" onmousemove="this.className='input_move3'" onmouseout="this.className='input_out3'" />
                                                        </td>
                                                        <td class="semxline">9月份</td>
                                                        <td class="semxnene">
                                                            <input class="input_out3" id="month9" name="month9" type="text" onfocus="this.className='input_on3';this.onmouseout=''" onblur="this.className='input_off3';this.onmouseout=function(){this.className='input_out3'};" onmousemove="this.className='input_move3'" onmouseout="this.className='input_out3'" />
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="semxline">10月份</td>
                                                        <td class="semxnene">
                                                            <input class="input_out3" id="month10" name="month10" type="text" onfocus="this.className='input_on3';this.onmouseout=''" onblur="this.className='input_off3';this.onmouseout=function(){this.className='input_out3'};" onmousemove="this.className='input_move3'" onmouseout="this.className='input_out3'" />
                                                        </td>
                                                        <td class="semxline">11月份</td>
                                                        <td class="semxnene">
                                                            <input class="input_out3" id="month11" name="month11" type="text" onfocus="this.className='input_on3';this.onmouseout=''" onblur="this.className='input_off3';this.onmouseout=function(){this.className='input_out3'};" onmousemove="this.className='input_move3'" onmouseout="this.className='input_out3'" />
                                                        </td>
                                                        <td class="semxline">12月份</td>
                                                        <td class="semxnene">
                                                            <input class="input_out3" id="month12" name="month12" type="text" onfocus="this.className='input_on3';this.onmouseout=''" onblur="this.className='input_off3';this.onmouseout=function(){this.className='input_out3'};" onmousemove="this.className='input_move3'" onmouseout="this.className='input_out3'" />
                                                        </td>
                                                    </tr>
                                                </table>                                          
                     					</li>
				</ul>	      
							              <table align="center" cellspacing="0" cellpadding="0" style="margin:0 auto;margin-top:12px;"><tbody><tr><td>
							              <a4j:commandButton styleClass="btn btn-primary" value="保存" status="ajaxStatus" reRender="realp_lant,costI,operate,operate_js,seeds,pesticides,fertilizers,other,harvest" onclick="if(!checkSubmit()) return false; " eventsQueue="mainQueue" style="cursor: pointer;" action="#{partitionInfoHome.updateRealPlant}" oncomplete="chechOpen();closeDoor();setTimeout(function(){calen(0);plottable()},1);"/>
							              &#160;&#160;
							              <input type="button" class="btn btn-default" value="返回" style=" cursor:pointer"  onclick="closeDoor()"/>
							              </td></tr></tbody></table>
							              </div>
							              </a4j:form>
							              
		 						<a4j:form ajaxSubmit="true" id="inputs" autocomplete="on">		 								
		 								<input type="hidden" value="" id="input_facture" name="input_facture"/>
                                          <div class="dk_tdiv inputs_" style="height:520px">
							              <table width="700px" style="margin-top: 0px;" class="r_c_table" cellpadding="0" cellspacing="0">
							              	<tr height="45" class="input_h ">
								                <td align="right">投入品编号：</td>
								                <td>
								               		<input type="text" class="form-control nw221" style="width:170px;" id="input_code" name="input_code"  /></td>
								                <td align="right">投入品名称：</td>
								                <td>
								                	<input type="hidden" value="" id="input_type" name="input_type"/>
								               		<input type="text" class="form-control nw221" style="width:170px;" id="input_name" name="input_name"  />
								               		
								               	</td>
							              	</tr>
											<tr height="45" class="input_h ">								                
								                <td align="right">投入品规格：</td>
								                <td colspan="3">
								               		<input type="text" class="form-control nw221" style="width:75px;float:left;margin-right:5px;" id="netContent" name="netContent"  />
								               		<div class="bootSelt-120" style="float:left;margin-right:5px;">
									               		<h:selectOneMenu styleClass="selectpicker" id="goodsUnitSelect"  value="goodsUnit" >
							                   				<s:selectItems value="#{goodsInfoHome.getAllSpecifications()}" var="unit" label="#{unit.name}" itemValue="#{unit.id}"/>
							                   			</h:selectOneMenu>
						                   			</div>
								               		<input type="text" class="form-control nw221" style="width:75px;;margin-right:5px;float:left;" id="packSpec" name="packSpec"  />
								               		<div><span style="color: red;">*</span>(净含量 单位规格/包装规格)</div>
								               	</td>
							              </tr>
							              <tr height="45" class="input_h ">
								                <td align="right">存储类型：</td>
								                <td>
								                	<div class="bt210">
			                                            <h:selectOneMenu styleClass="selectpicker" id="goodsStorageTypeId" style="" value="goodsStorageTypeId">
							                   				<s:selectItems value="#{goodsInfoHome.goodsStorgeTypeList()}" var="plant" label="#{plant.name}" itemValue="#{plant.goodsStorageTypeId}"/>
							                   			</h:selectOneMenu>
			                                        </div>
								                </td>					               
								                <td align="right">保质期：</td>
								                <td><input type="text" class="form-control nw221" style="width:170px;float:left" id="input_shelfLife" name="input_shelfLife"  /> 月</td>
							              </tr>
											<tr height="45" class="input_pest inpu ">
								                <td align="right">生产厂家：</td>
								                <td><input type="text" class="form-control nw221" style="width:170px;" id="input_facture2" name="input_facture2"  /></td>
								               <td align="right">有效成分：</td>
								                <td><input type="text" class="form-control nw221" style="width:170px;" id="pest_active" name="pest_active"  /> </td>
							               </tr>
										  <tr height="45" class="input_pest inpu">							                
							                <td align="right">农药类型：</td>
							                <td><input type="text" class="form-control nw221" style="width:170px;" id="pest_type" name="pest_type"  /></td>
							                <td align="right">安全间隔期：</td>
							                <td><input type="text" class="form-control nw221" style="width:170px;float:left" id="pest_interval" name="pest_interval"  /> 天</td>
							              </tr>	  
							          	 <tr height="45" class="input_pest inpu">							                
							                <td align="right">防治对象：</td>
							                <td><input type="text" class="form-control nw221" style="width:170px;" id="pest_control" name="pest_control"  /></td>
							                <td align="right">使用方法：</td>
							                <td><input type="text" class="form-control nw221" style="width:170px;" id="pest_method" name="pest_method"  /></td>
							              </tr>		
							              					              
										  <tr height="45" class="input_fert inpu">
											<td align="right">生产厂家：</td>
								            <td><input type="text" class="form-control nw221" style="width:170px;" id="input_facture3" name="input_facture3"  /></td>
							                <td align="right">登记证号：</td>
							                <td><input type="text" class="form-control nw221" style="width:170px;" id="fert_no" name="fert_no"  /></td>							                
							              </tr>	
							              <tr height="45" class="input_fert inpu">
							              	<td align="right">养分含量：</td>
							                <td><input type="text" class="form-control nw221" style="width:170px;" id="fert_content" name="fert_content"  /></td>
							                <td align="right">肥料类型：</td>
							                <td><input type="text" class="form-control nw221" style="width:170px;" id="fert_type" name="fert_type"  /></td>							                
							              </tr>	 
							              <tr height="45" class="input_fert inpu">
							              	<td align="right">适用作物：</td>
							                <td><input type="text" class="form-control nw221" style="width:170px;" id="fert_crop" name="fert_crop"  /></td>
							                <td align="right">施用方法：</td>
							                <td><input type="text" class="form-control nw221" style="width:170px;" id="fert_method" name="fert_method"  /> </td>
							              </tr>
							              
							              <tr height="45" class="input_other inpu">
											<td align="right">生产厂家：</td>
								            <td colspan="3"><input type="text" class="form-control nw221" style="width:170px;" id="input_facture4" name="input_facture4"  /></td>						                
							              </tr>            
						<tr >
							<td align="right">备注：</td>
							<td>
								<table cellpadding="0" cellspacing="0">
                                                              <tr>
                                                                  <td><img src="#{request.contextPath}/asset/images/textarea_01.jpg" width="4" height="4" /></td>
                                                                  <td width="170" height="4" style="background:url(#{request.contextPath}/asset/images/textarea_03.jpg) repeat-x;"></td>
                                                                  <td><img src="#{request.contextPath}/asset/images/textarea_05.jpg" width="4" height="4" /></td>
                                                              </tr>
                                                              <tr>
                                                                  <td width="4" height="100%" style="background:url(#{request.contextPath}/asset/images/textarea_09.jpg) repeat-y;"></td>
                                                                  <td  valign="top" style="background: none repeat scroll 0 0 #FFFFFF;"><textarea style="resize: none; width:160px; height:51px; border:none;" id="input_description" name="input_description"></textarea>
                                                                  </td>
                                                                  <td width="4" height="100%" style="background:url(#{request.contextPath}/asset/images/textarea_11.jpg) repeat-y;"></td>
                                                              </tr>
                                                              <tr>
                                                                  <td width="4" height="4"><img src="#{request.contextPath}/asset/images/textarea_13.jpg" width="4" height="4" /></td>
                                                                  <td width="170" height="4" style="background:url(#{request.contextPath}/asset/images/textarea_14.jpg) repeat-x;"></td>
                                                                  <td width="4" height="4"><img src="#{request.contextPath}/asset/images/textarea_16.jpg" width="4" height="4" /></td>
                                                              </tr>
                                                          </table>
                            </td>
                            <td rowspan="2" align="right">
                            图片上传：<input type="hidden" value="" id="url" name="url"/>
                            </td>
                  			<td >
                  			<iframe src="#{request.contextPath}/map/InputsImage.seam" id="myframe" name="myframe" frameBorder="0" scrolling="no" width="200" onLoad="" ></iframe>
                  			</td>          
						</tr>
						
					</table>
							              <table align="center" cellspacing="0" cellpadding="0" style="margin:0 auto;margin-top:12px;"><tbody><tr><td>
							              <a4j:commandButton styleClass="btn btn-primary" value="保存" status="ajaxStatus" onclick="if(!checkInput())return false;" reRender="pesticides" eventsQueue="mainQueue" style="cursor: pointer;" action="#{partitionInfoHome.updateInputs}" data="#{partitionInfoHome.re_inputs_Str}" oncomplete="updateInputs_next(data);"/>
							              &#160;&#160;
							              <input type="button" class="btn btn-default" value="返回" style=" cursor:pointer"  onclick="returnInputs_()"/>
							              </td></tr></tbody></table>
							              </div>
							              </a4j:form>
		 <div class="dk_tdiv test_list">
		 <div style="float:right;margin-top: 3px;" onclick="addTest();_Q('.editinfo_').scrollTop(0);">
		 <a href="#"><img src="#{request.contextPath}/asset/images/zwd_03.jpg"/></a></div>
		 <h:panelGroup id="test_list_">
               <table width="700" cellspacing="0" cellpadding="0" border="1" class="dk_showt dk_showf" style="margin-top: 30px">
  <tbody><tr>
    <th>检测日期</th>
    <th>检测机构</th>
    <th>酸碱度</th>
    <th>土壤水分</th>
    <th>全氮量</th>
	<th>全钾量</th>
    <th>操作</th>
  </tr>
  <a4j:repeat value="#{partitionInfoHome.testList}" var="var">
  <tr>
    <td><h:outputText value="#{var.testDate}">
											<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd" />
									    </h:outputText></td>
    <td>#{var.testOrg}</td>
    <td>#{var.phVal} </td>
    <td>#{var.soilWater}%</td>
    <td> #{var.nitrogen}%</td>
    <td>#{var.potassium}%</td>
    <td><a href="#" onclick="lookTest(#{var.id});_Q('.testinfo_').scrollTop('.testinfo_');return false;" title="查看" class="list_view"></a>
<a href="#" onclick="editTest(#{var.id});_Q('.editinfo_').scrollTop('.testinfo_');return false;" title="编辑" class="list_edit"></a>
<a href="#" onclick="deletTest(#{var.id});return false;" title="删除" class="list_delete"></a></td>
  </tr>
 </a4j:repeat>
</tbody></table>
               </h:panelGroup>
               <table align="center" cellspacing="0" cellpadding="0" style="margin:0 auto;margin-top:12px;"><tbody><tr><td>
							              <input type="button" class="btn btn-default" value="返回" style="  cursor:pointer"  onclick="closeDoor()"/>
							              </td></tr></tbody></table>
</div>

<div class="dk_tdiv testinfo_">
<h:panelGroup id="testinfo">
                                        <table width="685" cellspacing="0" cellpadding="0" border="1" class="dk_showt">
  <tbody><tr>
     <td bgcolor="#d7dfe7" style="color:#47494c;">检测日期</td>
    <td bgcolor="#d7dfe7" style="color:#47494c;" class="dk_showtbg">检测机构</td>
    <td bgcolor="#d7dfe7" style="color:#47494c;" class="dk_showtbg">酸碱度（PH值）</td>
    <td bgcolor="#d7dfe7" style="color:#47494c;" class="dk_showtbg">可溶性盐浓度（EC值）</td>
    <td bgcolor="#d7dfe7" style="color:#47494c;" class="dk_showtbg">土壤容重</td>
    <td bgcolor="#d7dfe7" style="color:#47494c;" class="dk_showtbg">土壤机械组成</td>
    <td bgcolor="#d7dfe7" style="color:#47494c;" class="dk_showtbg">土壤水分（%）</td>
    <td bgcolor="#d7dfe7" style="color:#47494c;" class="dk_showtbg">全氮量（%）</td>
  </tr>
  <tr>
    <td>&#160;<h:outputText value="#{partitionInfoHome.landt.testDate}">
											<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd" />
									    </h:outputText></td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.testOrg}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.phVal}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.ecVal}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.soilBulkDensity}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.soilComposition}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.soilWater}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.nitrogen}</td>
  </tr>
  <tr>
   
    <td bgcolor="#f1f3f5" style="color:#47494c;">全磷量（%）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">全钾量（%）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">有机质含量（%）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">阳离子交换量（mol/kg）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">氧化还原电位（mV）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">速效氮量（mg/kg）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">速效磷量（mg/kg）</td>
     <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">速效钾量（mg/kg）</td>
  </tr>
  <tr>
    <td>&#160;#{partitionInfoHome.landt.phosphorus}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.potassium}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.organicVal}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.cec}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.redoxPotential}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.availableNitrogen}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.availablePhosphorus}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.availableK}</td>
  </tr>
  <tr>
  
    <td bgcolor="#f1f3f5" style="color:#47494c;">交换性钙（cmol/kg）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">交换性镁（cmol/kg）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">全量钙（g/kg）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">全量镁（g/kg）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">全量钠（g/kg）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">总汞（mg/L）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">总砷（mg/L）</td> 
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">总铬（mg/L）</td>
  </tr>
  <tr>
     <td>&#160;#{partitionInfoHome.landt.exchangeCa}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.exchangeMg}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.totalCa}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.totalMg}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.totalSodium}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.countMercury}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.countArsenic}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.countChrome}</td>
  </tr>
  <tr>
    <td bgcolor="#f1f3f5" style="color:#47494c;">总铅（mg/L）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">总镍（mg/L）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">总镉（mg/L）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">有效硼（mg/kg）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">有效钼（mg/kg）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">有效锌（mg/kg）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">有效锰（mg/kg）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">有效铁（mg/kg）</td>
  </tr>
  <tr>
    <td>&#160;#{partitionInfoHome.landt.countLead}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.countNickel}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.countCadmium}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.effectiveBoron}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.wffectiveMolybdenum}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.wffectiveZn}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.effectiveManganese}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.effectiveIron}</td>
  </tr>
  <tr>
    <td bgcolor="#f1f3f5" style="color:#47494c;">有效铜（mg/kg）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">全硒（mg/kg）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">有效硫（mg/kg）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">有效硅（mg/kg）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">氯离子含量（mg/kg）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">除草剂残留量（mg/kg）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">硫酸根离子含量（g/kg）</td>
    <td bgcolor="#f1f3f5" style="color:#47494c;" class="dk_showtbg">交换性盐基及盐基总量（cmol/Kg）</td>
  </tr>
  <tr>
    <td>&#160;#{partitionInfoHome.landt.effectiveCopper}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.countSe}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.effectiveSulfur}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.effectiveSilicon}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.chlorideIonContent}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.herbicideResidues}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.sulfateIonContent}</td>
    <td class="dk_showtbg">#{partitionInfoHome.landt.exchangeTotalBase}</td>
  </tr>
</tbody></table>
</h:panelGroup>
<table align="center" cellspacing="0" cellpadding="0" style="margin:0 auto;margin-top:12px;"><tbody><tr><td>
							              <input type="button" class="btn btn-default" value="返回" style=" cursor:pointer"  onclick="_Q('.dk_tdiv').hide();_Q('.test_list').show();"/>
							              </td></tr></tbody></table>
</div>
<div class="dk_tdiv editinfo_">
 <a4j:form ajaxSubmit="true" id="test" autocomplete="on">
<h:panelGroup id="editinfo">
              <table width="700" cellspacing="0" cellpadding="0" border="0" class="dk_showt2">
              <tbody><tr>
                <td align="right">检测日期：</td>
                <td align="left" class="tc_strong" style="padding-left: 0px;">
	                                                 <div class="input-append date testDate form_datetime "  >
    <input size="23" class="noh" type="text" value="#{dateUtil.getDateFormat(partitionInfoHome.landt.testDate,'1')}" readonly="readonly" id="test:testDateInputDate" name="test:testDateInputDate" autocomplete="off" />
    <span class="add-on" style="height:14px"><i class="icon-th"></i></span></div></td>
                <td align="right">检测机构：</td>
                <td><h:inputText class="form-control nw221 noh" style="width:170px" value="#{partitionInfoHome.landt.testOrg}" styleClass="r_c_text002"/></td>
              </tr>
              <tr>
                <td align="right">酸碱度：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.phVal}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>PH</td>
                <td align="right">可溶性盐浓度：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.ecVal}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>EC</td>
              </tr>
              <tr>
                <td align="right">土壤容重：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.soilBulkDensity}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/></td>
                <td align="right">土壤机械组成：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.soilComposition}" styleClass="form-control nw221 noh" style="width:74px;float:left;margin-right:10px"/></td>
              </tr>
              <tr>
                <td align="right">土壤水分：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.soilWater}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>%</td>
                <td align="right">全氮量：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.nitrogen}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>%</td>
              </tr>
              <tr>
                <td align="right">全磷量：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.phosphorus}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>%</td>
                <td align="right">全钾量：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.potassium}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>%</td>
              </tr>
              <tr>
                <td align="right">有机质含量：</td>
                <td style="border-bottom:1px solid #e7e7e7; padding-bottom:15px;"> <h:inputText value="#{partitionInfoHome.landt.organicVal}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>%</td>
                <td align="right" style="border-bottom:1px solid #e7e7e7;padding-bottom:15px;">阳离子交换量：</td>
                <td style="border-bottom:1px solid #e7e7e7;padding-bottom:15px;"> <h:inputText value="#{partitionInfoHome.landt.cec}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mol/kg</td>
              </tr>
              <tr>
                <td align="right" style="padding-top:15px;">氧化还原电位：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.redoxPotential}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mV</td>
                <td align="right">速效氮量：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.availableNitrogen}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/kg</td>
              </tr>
              <tr>
                <td align="right">速效磷量：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.availablePhosphorus}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/kg</td>
                <td align="right">速效钾量：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.availableK}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/kg</td>
              </tr>
              <tr>
                <td align="right">交换性钙：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.exchangeCa}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>cmol/kg</td>
                <td align="right">交换性镁：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.exchangeMg}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>cmol/kg</td>
              </tr>
              
              <tr>
                <td align="right">全量钙：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.totalCa}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>g/kg</td>
                <td align="right">全量镁：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.totalMg}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>g/kg</td>
              </tr><tr>
                <td align="right">全量钠：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.totalSodium}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>g/kg</td>
                <td align="right">总汞：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.countMercury}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/L</td>
              </tr><tr>
                <td align="right">总砷：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.countArsenic}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/L</td>
                <td align="right">总铬：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.countChrome}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/L</td>
              </tr><tr>
                <td align="right">总铅：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.countLead}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/L</td>
                <td align="right">总镍：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.countNickel}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/L</td>
              </tr><tr>
                <td align="right">总镉：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.countCadmium}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/L</td>
                <td align="right">有效硼：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.effectiveBoron}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/kg</td>
              </tr><tr>
                <td align="right">有效钼：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.wffectiveMolybdenum}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/kg</td>
                <td align="right">有效锌：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.wffectiveZn}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/kg</td>
              </tr><tr>
                <td align="right">有效锰：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.effectiveManganese}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/kg</td>
                <td align="right">有效铁：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.effectiveIron}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/kg</td>
              </tr><tr>
                <td align="right">有效铜：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.effectiveCopper}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/kg</td>
                <td align="right">全硒：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.countSe}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/kg</td>
              </tr>
              <tr>
                <td align="right">有效硫：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.effectiveSulfur}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/kg</td>
                <td align="right">有效硅：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.effectiveSilicon}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/kg</td>
              </tr><tr>
                <td align="right">氯离子含量：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.chlorideIonContent}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/kg</td>
                <td align="right">除草剂残留量：</td>
                <td><h:inputText value="#{partitionInfoHome.landt.herbicideResidues}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>mg/kg</td>
              </tr>
              <tr>
                <td align="right">硫酸根离子含量：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.sulfateIonContent}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>g/kg</td>
                <td align="right">交换性盐基及盐基总量：</td>
                <td> <h:inputText value="#{partitionInfoHome.landt.exchangeTotalBase}" styleClass="form-control nw221" style="width:74px;float:left;margin-right:10px"/>cmol/Kg</td>
              </tr>
            </tbody></table>
     </h:panelGroup>                
                     <table align="center" cellspacing="0" cellpadding="0" style="margin:0 auto;margin-top:12px;"><tbody><tr><td>
							              <a4j:commandButton styleClass="btn btn-primary" value="保存" status="ajaxStatus" reRender="test_list_,landT"  eventsQueue="mainQueue" style="cursor: pointer;" action="#{partitionInfoHome.updateTest}" oncomplete="_Q('.dk_tdiv').hide();_Q('.test_list').show();_Q('.test_list').scrollTop(0);" onclick="if(!jcSave())return false;"/>
							              &#160;&#160;
							              <input type="button" class="btn btn-default" value="返回" style="  cursor:pointer"  onclick="if(_Q('#test_list_ tr').length==1){closeDoor()}else{_Q('.dk_tdiv').hide();_Q('.test_list').show();}"/>
							              </td></tr></tbody></table>
							             </a4j:form> 
                  </div>
                 <div class="dk_tdiv soil_list">
		 <div style="float:right;margin-top: 3px;" onclick="addSoil();return false;">
		 <a href="#"><img src="#{request.contextPath}/asset/images/zwd_03.jpg"/></a></div>
		 <h:panelGroup id="soil_list_">
               <table width="700" cellspacing="0" cellpadding="0" border="1" class="dk_showt dk_showf" style="margin-top: 30px">
  <tbody><tr>
    <th>土质类型</th>
    <th>土壤类型</th>
    <th>起始时间</th>
    <th>结束时间</th>
    <th>酸碱度</th>
	<th>用途</th>
    <th>操作</th>
  </tr>
  <a4j:repeat value="#{partitionInfoHome.soilList}" var="var">
  <tr>
    <td>#{partitionInfoHome.map20[var.soilDataDicId]}</td>
    <td>#{partitionInfoHome.map21[var.soilsDataDicId]}</td>
    <td>#{var.beginTime}</td>
    <td>#{var.endTime}</td>
    <td>#{var.ph}</td>
    <td>#{partitionInfoHome.map22[var.routeOf]}</td>
    <td><a href="#" onclick="lookSoil('#{partitionInfoHome.map20[var.soilDataDicId]}','#{partitionInfoHome.map21[var.soilsDataDicId]}','#{var.beginTime}','#{var.endTime}','#{var.ph}','#{partitionInfoHome.map22[var.routeOf]}','#{var.pollutionStatus}','#{var.pollutionLevel}','#{var.repairStatus}','#{var.description}','#{var.thicknessSoil}');return false;" title="查看" class="list_view"></a>
<a href="#"  onclick="editSoil('#{var.id}','#{var.soilDataDicId}','#{var.soilsDataDicId}','#{var.beginTime}','#{var.endTime}','#{var.ph}','#{var.routeOf}','#{var.pollutionStatus}','#{var.pollutionLevel}','#{var.repairStatus}','#{var.description}','#{var.thicknessSoil}');return false;" title="编辑" class="list_edit"></a>
<a href="#" onclick="deleteSoil(#{var.id});return false;" title="删除" class="list_delete"></a></td>
  </tr>
 </a4j:repeat>
</tbody></table>
               </h:panelGroup>
               <table align="center" cellspacing="0" cellpadding="0" style="margin:0 auto;margin-top:12px;"><tbody><tr><td>
							              <input type="button" class="btn btn-default" value="返回" style=" cursor:pointer"  onclick="closeDoor()"/>
							              </td></tr></tbody></table>
</div> 
                  <div class="dk_tdiv soilinfo_">
<h:panelGroup id="soilinfo">
                                        <table width="685" cellspacing="0" cellpadding="0" border="1" class="dk_showt">
  <tbody>
  <tr>
				<td valign="middle" class="str_td">土质类型：</td>
				<td valign="middle" class="str_text soil_1"></td>
				<td class="str_td">土壤类型：</td>
				<td class="str_text soil_2"></td>
			</tr>
			<tr>
				<td valign="middle" class="str_td">起始时间：</td>
				<td valign="middle" class="str_text soil_3"></td>
				<td class="str_td">结束时间：</td>
				<td class="str_text soil_4"></td>
			</tr>
			<tr>
				<td valign="middle" class="str_td">土层厚度：</td>
				<td valign="middle" class="str_text soil_11"></td>
				<td valign="middle" class="str_td">酸碱度：</td>
				<td valign="middle" class="str_text soil_5"></td>
			</tr>
			<tr>
				<td class="str_td">用途：</td>
				<td class="str_text soil_6"></td>
				<td valign="middle" class="str_td">污染状况：</td>
				<td valign="middle" class="str_text soil_7"></td>
			</tr>
			<tr>
				<td class="str_td">污染程度：</td>
				<td class="str_text soil_8"></td>
				<td valign="middle" class="str_td">修复程度：</td>
				<td valign="middle" class="str_text soil_9"></td>
			</tr>
			<tr>
				<td class="str_td">备注：</td>
				<td class="str_text soil_10" colspan="3"></td>
			</tr>

</tbody></table>
</h:panelGroup>
<table align="center" cellspacing="0" cellpadding="0" style="margin:0 auto;margin-top:12px;"><tbody><tr><td>
							              <input type="button" class="btn btn-default" value="返回" style=" cursor:pointer"  onclick="_Q('.dk_tdiv').hide();_Q('.soil_list').show();"/>
							              </td></tr></tbody></table>
</div>

<a4j:form ajaxSubmit="true" id="soi" autocomplete="on">
                                          <div class="dk_tdiv editsoil_" id="editsoil_" style="height: 350px">
							              <table width="700" class="dk_showt2 dk_showtcm2" border="0" cellspacing="0" cellpadding="0">
							              <tr height="" >
							                <td align="right">土质类型：</td>
							                <td align="left" class="tc_strong150">
							                <input type="hidden" id="soil_id" name="soil_id"/>
							                <div class="sw170" style="float:left;">
	                                                  	<select id="soil_type1" name="soil_type1">
	                                                  	<a4j:repeat value="#{partitionInfoHome.type1List}" var="var" >
	                                                      	<option value="#{var.dataDicId}">#{var.name}</option>
	                                                      	</a4j:repeat>
	                                                      	</select></div>
	                                                      	<span style="float:left;padding:2px 0 0 10px;color:red;line-height:30px;">*</span>
	                                                  </td>
							                <td align="right">土壤类型：</td>
							                <td align="left" class="tc_strong150">
	                                                  	<div class="sw170" style="float:left;"><select id="soil_type2" name="soil_type2">
	                                                  	<a4j:repeat value="#{partitionInfoHome.type2List}" var="var" >
	                                                      	<option value="#{var.dataDicId}">#{var.name}</option>
	                                                      	</a4j:repeat>
	                                                      	</select></div>
	                                                      	<span style="float:left;padding:2px 0 0 10px;color:red;line-height:30px;">*</span>
	                                                  </td>
							              </tr>
							              <tr height="" >
							                <td align="right">起始时间：</td>
							                <td align="left" class="tc_strong150">
	                                                  	<div class="sw170"><select id="soil_begin" name="soil_begin">
	                                                      	</select></div>
	                                                  </td>
							                <td align="right">结束时间：</td>
							                <td align="left" class="tc_strong" >
	                                                      	<div class="sw170"><select id="soil_end" name="soil_end">
	                                                      	</select></div>
	                                                      	<script type="text/javascript">
	                                                      //<![CDATA[
															var ttt__ = "";
															var da = new Date();
															var yea = da.getFullYear();
	                                                      	for(var i = 2000;i<2050;i++){
		                                                      	if(i==yea)
																	ttt__ +="<option selected='selected' value='"+i+"'>"+i+"年</option>";
																else
																	ttt__ +="<option value='"+i+"'>"+i+"年</option>";
	                                                      	}
	                                                      	document.getElementById("soil_begin").innerHTML = ttt__;
	                                                      	document.getElementById("soil_end").innerHTML = ttt__;
	                                                      //]]>
	                                                      	</script>
	                                                  </td>
							              </tr>
							              <tr height="" >
							                <td align="right">土层厚度：</td>
							                <td  valign="middle" align="left" class="thickness_soil"> 
	                                                      	<input type="text" class="form-control nw221" style="width:170px;float:left" id="thickness_soil" name="thickness_soil"/>
	                                                      <span style="float:left;line-height:30px;padding-left:10px;">cm</span><span style="float:left;padding:2px 0 0 5px;color:red;line-height:30px;">*</span>
	                                                  </td>
							                <td align="right">用途：</td>
							                 <td align="left" class="tc_strong">
	                                                      	<div class="sw170"><select id="soil_route_of" name="soil_route_of">
	                                                      	<a4j:repeat value="#{partitionInfoHome.routeOfList}" var="f" >
	                                                      		<option value="#{f.dataDicId}">#{f.name}</option>
	                                                      	</a4j:repeat>
	                                                      	</select></div>
	                                                  </td>
							              </tr>
							              <tr height="" >
							               <td align="right">酸碱度(PH)：</td>
							                <td  valign="middle" align="left" class="tc_strong74"> 
	                                                      	<input type="text" class="form-control nw221" style="width:170px;float:left" id="soil_ph" name="soil_ph"/>
	                                                      <span style="float:left;line-height:30px;padding-left:10px;">0--14</span><span style="float:left;padding:2px 0 0 5px;color:red;line-height:30px;">*</span>
	                                         </td>
							                <td align="right">污染状况：</td>
							                <td align="left" class="tc_strong150">
	                                                  	<div class="sw170" style="float:left;"><select id="soil_pollution_status" name="soil_pollution_status">
	                                                      	<a4j:repeat value="#{partitionInfoHome.polluteList}" var="f" >
	                                                      		<option value="#{f.dataDicId}">#{f.name}</option>
	                                                      	</a4j:repeat>
	                                                      	</select></div>
	                                                      	<span style="float:left;padding:2px 0 0 10px;color:red;line-height:30px;">*</span>
	                                         </td>
							              </tr>
							              <tr height="" >
							                <td align="right">污染程度：</td>
							                <td align="left" class="tc_strong">
	                                                      <table cellpadding="0" cellspacing="0">
                                                              <tr>
                                                                  <td style="height: auto;padding-left: 0px;padding-right: 0px;"><img src="#{request.contextPath}/asset/images/textarea_01.jpg" width="4" height="4" /></td>
                                                                  <td width="170" height="4" style="height: auto;padding-left: 0px;padding-right: 0px;background:url(#{request.contextPath}/asset/images/textarea_03.jpg) repeat-x;"></td>
                                                                  <td style="height: auto;padding-left: 0px;padding-right: 0px;"><img src="#{request.contextPath}/asset/images/textarea_05.jpg" width="4" height="4" /></td>
                                                              </tr>
                                                              <tr>
                                                                  <td width="4" height="100%" style="height: auto;padding-left: 0px;padding-right: 0px;background:url(#{request.contextPath}/asset/images/textarea_09.jpg) repeat-y;"></td>
                                                                  <td  valign="top" style="height: auto;padding-left: 0px;padding-right: 0px;background: none repeat scroll 0 0 #FFFFFF;"><textarea style="resize: none; width:160px; height:51px; border:none;" id="soil_pollution_level" name="soil_pollution_level"></textarea>
                                                                  </td>
                                                                  <td width="4" height="100%" style="height: auto;padding-left: 0px;padding-right: 0px;background:url(#{request.contextPath}/asset/images/textarea_11.jpg) repeat-y;"></td>
                                                              </tr>
                                                              <tr>
                                                                  <td style="height: auto;padding-left: 0px;padding-right: 0px;" width="4" height="4"><img src="#{request.contextPath}/asset/images/textarea_13.jpg" width="4" height="4" /></td>
                                                                  <td width="170" height="4" style="height: auto;padding-left: 0px;padding-right: 0px;background:url(#{request.contextPath}/asset/images/textarea_14.jpg) repeat-x;"></td>
                                                                  <td style="height: auto;padding-left: 0px;padding-right: 0px;" width="4" height="4"><img src="#{request.contextPath}/asset/images/textarea_16.jpg" width="4" height="4" /></td>
                                                              </tr>
                                                          </table>
	                                                  </td>
							                <td align="right">修复程度：</td>
							                <td align="left" class="tc_strong">
	                                                      <table cellpadding="0" cellspacing="0">
                                                              <tr>
                                                                  <td style="height: auto;padding-left: 0px;padding-right: 0px;"><img src="#{request.contextPath}/asset/images/textarea_01.jpg" width="4" height="4" /></td>
                                                                  <td width="170" height="4" style="height: auto;padding-left: 0px;padding-right: 0px;background:url(#{request.contextPath}/asset/images/textarea_03.jpg) repeat-x;"></td>
                                                                  <td style="height: auto;padding-left: 0px;padding-right: 0px;"><img src="#{request.contextPath}/asset/images/textarea_05.jpg" width="4" height="4" /></td>
                                                              </tr>
                                                              <tr>
                                                                  <td width="4" height="100%" style="height: auto;padding-left: 0px;padding-right: 0px;background:url(#{request.contextPath}/asset/images/textarea_09.jpg) repeat-y;"></td>
                                                                  <td  valign="top" style="height: auto;padding-left: 0px;padding-right: 0px;background: none repeat scroll 0 0 #FFFFFF;"><textarea style="resize: none; width:160px; height:51px; border:none;" id="soil_repair_status" name="soil_repair_status"></textarea>
                                                                  </td>
                                                                  <td width="4" height="100%" style="height: auto;padding-left: 0px;padding-right: 0px;background:url(#{request.contextPath}/asset/images/textarea_11.jpg) repeat-y;"></td>
                                                              </tr>
                                                              <tr>
                                                                  <td style="height: auto;padding-left: 0px;padding-right: 0px;" width="4" height="4"><img src="#{request.contextPath}/asset/images/textarea_13.jpg" width="4" height="4" /></td>
                                                                  <td width="170" height="4" style="height: auto;padding-left: 0px;padding-right: 0px;background:url(#{request.contextPath}/asset/images/textarea_14.jpg) repeat-x;"></td>
                                                                  <td style="height: auto;padding-left: 0px;padding-right: 0px;" width="4" height="4"><img src="#{request.contextPath}/asset/images/textarea_16.jpg" width="4" height="4" /></td>
                                                              </tr>
                                                          </table>
	                                                  </td>
							              </tr>
							              <tr height="" >
							                <td align="right">备注：</td>
							                <td align="left" class="tc_strong">
	                                                      <table cellpadding="0" cellspacing="0">
                                                              <tr>
                                                                  <td style="height: auto;padding-left: 0px;padding-right: 0px;"><img src="#{request.contextPath}/asset/images/textarea_01.jpg" width="4" height="4" /></td>
                                                                  <td width="170" height="4" style="height: auto;padding-left: 0px;padding-right: 0px;background:url(#{request.contextPath}/asset/images/textarea_03.jpg) repeat-x;"></td>
                                                                  <td style="height: auto;padding-left: 0px;padding-right: 0px;"><img src="#{request.contextPath}/asset/images/textarea_05.jpg" width="4" height="4" /></td>
                                                              </tr>
                                                              <tr>
                                                                  <td width="4" height="100%" style="height: auto;padding-left: 0px;padding-right: 0px;background:url(#{request.contextPath}/asset/images/textarea_09.jpg) repeat-y;"></td>
                                                                  <td  valign="top" style="height: auto;padding-left: 0px;padding-right: 0px;background: none repeat scroll 0 0 #FFFFFF;"><textarea style="resize: none; width:160px; height:51px; border:none;" id="soil_description" name="soil_description"></textarea>
                                                                  </td>
                                                                  <td width="4" height="100%" style="height: auto;padding-left: 0px;padding-right: 0px;background:url(#{request.contextPath}/asset/images/textarea_11.jpg) repeat-y;"></td>
                                                              </tr>
                                                              <tr>
                                                                  <td style="height: auto;padding-left: 0px;padding-right: 0px;" width="4" height="4"><img src="#{request.contextPath}/asset/images/textarea_13.jpg" width="4" height="4" /></td>
                                                                  <td width="170" height="4" style="height: auto;padding-left: 0px;padding-right: 0px;background:url(#{request.contextPath}/asset/images/textarea_14.jpg) repeat-x;"></td>
                                                                  <td style="height: auto;padding-left: 0px;padding-right: 0px;" width="4" height="4"><img src="#{request.contextPath}/asset/images/textarea_16.jpg" width="4" height="4" /></td>
                                                              </tr>
                                                          </table>
	                                                  </td>
							              </tr>
							              </table>
							              <table align="center" cellspacing="0" cellpadding="0" style="margin:0 auto;margin-top:12px;"><tbody><tr><td>
							              <a4j:commandButton status="ajaxStatus" styleClass="btn btn-primary" value="保存" reRender="soil_list_,history" onclick="if(!checkSoil()) return false; " eventsQueue="mainQueue" style="cursor: pointer;" action="#{partitionInfoHome.updateSoil}" oncomplete="_Q('.dk_tdiv').hide();_Q('.soil_list').show();"/>
							              &#160;&#160;
							              <input type="button" class="btn btn-default" value="返回" style=" cursor:pointer"  onclick="if(_Q('#soil_list_ tr').length==1){closeDoor();}else{_Q('.dk_tdiv').hide();_Q('.soil_list').show();}"/>
							              </td></tr></tbody></table>
							              </div>
							              </a4j:form>
                  <a4j:form ajaxSubmit="true" id="costForm">
                                          <div class="dk_tdiv cost_" style="width:100%;height: 280px">
							             <table width="100%" cellspacing="0" cellpadding="0" border="0" class="dk_showt2">
						<tr height="45" >
							                <td width="90" align="right">日期：</td>
							                <td width="220">
							                <input type="hidden" id="cost_id" name="cost_id"/>
	                                                  <div class="input-append date cost_date form_datetime "  >
    <input size="23" type="text" value="" readonly="readonly" id="costForm:cost_dateInputDate" name="costForm:cost_dateInputDate" autocomplete="off" />
    <span class="add-on" style="height:14px"><i class="icon-th"></i></span>
    </div>    	
	                                                      	</td>
							                <td width="100" align="right">名称：</td>
							                <td><input type="text" class="form-control nw221" style="width:170px;" id="cost_name" name="cost_name"  /></td>
							              </tr>
						<tr height="45" >
							                <td align="right">类别：</td>
							                <td><div class="sw170"><select id="cost_type" name="cost_type">
	                                                 <a4j:repeat value="#{partitionInfoHome.dicList}" var="var" >
	                                                      	<option value="#{var.dataDicId}">#{var.name}</option>
	                                                      	</a4j:repeat></select></div>
	                                                      	</td>
							                <td align="right">数量：</td>
							                <td>
							                
							                <input type="text" class="form-control nw221" style="width:170px;" id="cost_number" name="cost_number" />
							                </td>
							              </tr>
							              <tr height="45" >
							                <td align="right">单价：</td>
							                <td>
							               <input type="text" class="form-control nw221" style="width:170px;" id="cost_unit_price" name="cost_unit_price"  /></td>
							                <td align="right">经办人：</td>
							                <td>
							                <input type="text" class="form-control nw221" style="width:170px;" id="cost_managers" name="cost_managers"  /></td>
							              </tr>
							              <tr height="66" >
							                <td align="right">备注：</td>
							                <td colspan="3">
							                	<textarea style="resize: none; width:320px; height:51px;border: 1px solid #ccc;border-radius:5px;" id="cost_description" name="cost_description"></textarea>
							                </td>
							              </tr>	 
										</table>
										<table align="center" cellspacing="0" cellpadding="0" style="margin:0 auto;margin-top:12px;"><tbody><tr><td>
							              <a4j:commandButton styleClass="btn btn-primary" value="保存" status="ajaxStatus" onclick="if(!checkCost())return false;" reRender="costI" eventsQueue="mainQueue" style="cursor: pointer;" action="#{partitionInfoHome.updateCostInfo}"  oncomplete="closeDoor();"/>
							              &#160;&#160;
							              <input type="button" class="btn btn-default" value="返回" style=" cursor:pointer"  onclick="closeDoor()"/>
							              </td></tr></tbody></table>
							              </div>
							              
							              </a4j:form>
                                    </td>
                                    <td width="9" height="100%" style="background:url(#{request.contextPath}/asset/images/right_cen.png) repeat-y;"></td>
                                </tr>
                                <tr>
                                	<td width="9" height="8"><img width="9" height="8" src="#{request.contextPath}/asset/images/left_bot.png"/></td>
                                    <td width="100%" height="8" style="background:url(#{request.contextPath}/asset/images/bot_cen.png) repeat-x;"></td>
                                    <td width="9" height="8"><img width="9" height="8" src="#{request.contextPath}/asset/images/right_bot.png"/></td>
                                </tr>
                            </table>
                            
                        </div>
                        <link href="../asset/css/examples.css" rel="stylesheet" type="text/css" />
            <!--[if lte IE 8]><script language="javascript" type="text/javascript" src="js/excanvas.js"></script><![endif]-->
<script type="text/javascript" src="#{request.contextPath}/asset/js/gantt/tab.js"></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/map/select2.full.min.js" ></script>
<script type="text/javascript" src="#{request.contextPath}/asset/js/map/select2_i18n/zh-CN.js" ></script>

<script type="text/javascript">
    function rerendTest (){
    	_Q(".testDate").datetimepicker('remove').datetimepicker({
		    format: "yyyy-mm-dd",
		    autoclose: true,
			 weekStart: 1,
			  //startDate: "2014-08-14 10:00",
			 language:  'zh-CN',
		   minView:2,
		    pickerPosition: "bottom-left"
		    })
    }
    
    _Q(document).ready(function() {
    	_Q("#selected0").hide();//隐藏基地下拉框中的“全部”
    	_Q(".aai_startT,.aai_endT,.arh_sendTime").datetimepicker({
		    format: "yyyy-mm-dd hh:ii",
		    autoclose: true,
			 weekStart: 1,
			  //startDate: "2014-08-14 10:00",
			 language:  'zh-CN',
		   minView:0,
		    pickerPosition: "bottom-left"
		    })
		    
		    _Q(".record_date2").datetimepicker({
				format: "yyyy-mm-dd",  
				autoclose: true,
				 weekStart: 1,
				 language:  'zh-CN',
				 startView: 3,
				minView: 2,
				maxView: 4,	
				pickerPosition: "bottom-left"
			});
		    
		    _Q(".cost_date,.testDate").datetimepicker({
			    format: "yyyy-mm-dd",
			    autoclose: true,
				 weekStart: 1,
				  //startDate: "2014-08-14 10:00",
				 language:  'zh-CN',
			   minView:2,
			    pickerPosition: "bottom-left"
			    })
		    
		    _Q(".har_time").datetimepicker({
			    format: "yyyy-mm-dd",
			    autoclose: true,
				 weekStart: 1,
				  //startDate: "2014-08-14 10:00",
				 language:  'zh-CN',
			   minView:2,
			    pickerPosition: "bottom-left"
			    }).on('changeDate', function(ev){
			    var time = new Date(ev.date);
			    if(time!=null)
		    		 time = time.format("yyyy-MM-dd");
				 else
					time = _Q('#har\\:har_timeInputDate').val()
				selectPreHarvest(time);
				});
	    
	    _Q(".beginInput").datetimepicker({
		    format: "yyyy-mm-dd",
		    autoclose: true,
			 weekStart: 1,
			  //startDate: "2014-08-14 10:00",
			 language:  'zh-CN',
		   minView:2,
		    pickerPosition: "bottom-left"
		    }).on('changeDate', function(ev){
		    	 var time = new Date(ev.date);
				 if(time!=null)
		    		 time = time.format("yyyy-MM-dd");
				 else
					time = _Q('#plant\\:plant_beginInputDate').val()
			getModelByTime(_Q('#breedBreedId').val(),_Q('#plant_tunnel_id').val(),time,_Q('#plant_standard').val(),_Q('#plant\\:plant_endInputDate').val(),_Q('#plant_real_id').val())
			});

		
		_Q(".endInput").datetimepicker({
		    format: "yyyy-mm-dd",
		    autoclose: true,
			 weekStart: 1,
			  //startDate: "2014-08-14 10:00",
			 language:  'zh-CN',
		   minView:2,
		    pickerPosition: "bottom-left"
		    }).on('changeDate', function(ev){
		    var time = new Date(ev.date);
		    if(time!=null)
	    		 time = time.format("yyyy-MM-dd");
			 else
				time = _Q('#plant\\:plant_endInputDate').val()
			getModelByTime(_Q('#breedBreedId').val(),_Q('#plant_tunnel_id').val(),_Q('#plant\\:plant_beginInputDate').val(),_Q('#plant_standard').val(),time,_Q('#plant_real_id').val())
			});
		
		
		_Q(".harvestTime").datetimepicker({
		    format: "yyyy-mm-dd",
		    autoclose: true,
			 weekStart: 1,
			  //startDate: "2014-08-14 10:00",
			 language:  'zh-CN',
		   minView:2,
		    pickerPosition: "bottom-left"
		    });
    })
    
    
    </script>
        <script type="text/javascript">
          //<![CDATA[
          function radio22(obj){
        	if(obj.getAttribute("aa")=="0"){
        		_Q("#aai_show").val("1");
        		_Q(obj).addClass("checked");
        		obj.setAttribute("aa","1");
        	}else{
        		_Q(obj).removeClass("checked");
        		obj.setAttribute("aa","0");
        		_Q("#aai_show").val("0");
        	}
        }
       function addSeeds(){
           _Q(".tcdtext").html("添加种子");
    	   _Q("#seeds_breed")[0].selectedIndex = 0;
    		_Q("#seeds_breed").selectpicker('refresh');
            _Q("#seeds_id").val("");
            _Q("#seeds_source").val("");
            _Q("#seeds_weight").val("");
            _Q("#seeds_shelfLife").val("");
            _Q("#seeds_remards").val("");
       	  	_Q(".dk_tdiv").hide();
       		_Q(".seeds_").show();
       		BtPopload('pop');
        }
		function editSeeds(){
			_Q(".tcdtext").html("编辑种子");
			_Q("#seeds_id").val(arguments[0]);
            _Q("#seeds_source").val(arguments[1]);
            _Q("#seeds_weight").val(arguments[3]);
            _Q("#seeds_shelfLife").val(arguments[4]);
            _Q("#seeds_remards").val(arguments[5]);
            _Q("#seeds_breed").val(arguments[2]);
    		_Q("#seeds_breed").selectpicker('refresh');
       	  	_Q(".dk_tdiv").hide();
       		_Q(".seeds_").show();
       		BtPopload('pop');
		}
		function deleteSeeds(obj,id){
			_Q(obj).closest(".dk_ns001ui_li").remove();
			deleteSeeds_next(id);
		}
		function hidee(){
			var v = _Q("#myframe").contents();
			v.find(".photo_box2 li:eq(1)").show();
			v.find(".photo_box2 li:eq(0)").hide();
			v.find("#input_type").val(_Q("#input_type").val());
		}     
// 树状菜单
_Q(document).ready(function(){
	_Q('select').not("#breedBreedId").selectpicker({size:8,dropupAuto:false});
	 _Q(".box_back").css("height",document.body.clientHeight+"px ");
	 _Q(".box_back").css("top","0px ");
	_Q(".main_none").delegate(".first_menu","click",function(){
			if(_Q(this).attr("aa")==0){
				_Q(this).attr("aa",1);
				_Q(this).removeClass("nav_h1_dk");
				_Q(this).addClass("ons2_dk");
				_Q(this).next(".slist_2_dk").animate({height: 'toggle', opacity: 'toggle'}, "slow");
			}else{
				_Q(this).attr("aa",0);
				_Q(this).removeClass("ons2_dk");
				_Q(this).addClass("nav_h1_dk");
				_Q(this).next(".slist_2_dk").animate({height: 'toggle', opacity: 'toggle'}, "slow");
			}
		});

	_Q(".main_none").delegate(".second_menu","click",function(){
		_Q(".l3").removeClass("currentl3");
		_Q(".l2").removeClass("currentl2");
		_Q(this).addClass("currentl2");
	});

	chechOpen();
	
	_Q(".radio").bind("click",function(){
		if(_Q(this).attr("aa")==0){
			_Q(".radio:eq(0)").addClass("checked");
			_Q(".radio:eq(1)").removeClass("checked");
			_Q(".aai_1").show();
			_Q(".aai_2").hide();
			_Q(".disnone").hide();
			document.getElementById("operate_type").value=0;
			_Q("#isview").html("履历显示:");
		}else{
			_Q(".radio:eq(1)").addClass("checked");
			_Q(".radio:eq(0)").removeClass("checked");
			_Q(".aai_2").show();
			_Q(".aai_1").hide();
			_Q(".disnone").hide();
			document.getElementById("operate_type").value=1;
			_Q("#isview").html("操作人:");
		}		
	});
	
	_Q(".farmingInputs_wp2").delegate('.farmingInputs','mouseenter mouseleave',function ( event ) {
	    if (event.type == 'mouseenter') {
	    	jQuery(this).children('.closeInputs').css('display','block');	
	   } else {
		   jQuery(this).children('.closeInputs').css('display','none');
	   }
	});
	
	_Q(".dk_cb2table tr:even").addClass("alt");
	
	_Q(".qixtul").jTab({
        menutag: ".qixtul li",
        boxtag: ".chratdiv > ._chrat2",
        cur: 0
    });
	calen(0);
	_Q(".noshiul_cs").jTab({
        menutag: ".noshiul_cs .noli",
        boxtag: ".dk_cb07 > div",
        cur: 0
		
    });
	//鼠标移上去编辑
	_Q('.dk_viwe').hover(function(){
		  _Q(this).find('.dkedit').show();
		 },function(){
		  _Q(this).find('.dkedit').hide();
		 })
	_Q('.dk_zz').delegate('li:not(".aps")','mouseenter mouseleave',function ( event ) {
	    if (event.type == 'mouseenter') {
	    	_Q(this).find('.dkzzedit,.dkzzedit1').show();
	    } else {
	    	_Q(this).find('.dkzzedit,.dkzzedit1').hide();
	    }
  		});
	
	  _Q('.dkbox2').delegate('.dk_ns001ui_li','mouseenter mouseleave',function ( event ) {
		    if (event.type == 'mouseenter') {
		    	_Q(this).find('.dktrpedit').show();
		    } else {
		    	_Q(this).find('.dktrpedit').hide();
		    }
	  });
	  
	  _Q('#tar3').delegate('.operateList','mouseenter mouseleave',function ( event ) {
		    if (event.type == 'mouseenter') {
		    	_Q(this).find('.pc_name').parent('div').css('z-index','100');
				_Q(this).find(".pc_name").find('.pc_p2').show();
		    } else {
		    	_Q(this).find('.pc_name').parent('div').css('z-index','4');
		    	_Q(this).find(".pc_name").find('.pc_p2').hide();
				//setTimtout(function(){_Q(this).next(".pc_name").find('.pc_p2').hide();},1);
		    }
	  });
	  
	  _Q('.nosidiv').delegate('.pc','mouseenter mouseleave',function ( event ) {
		    if (event.type == 'mouseenter') {
		    	_Q(this).css('z-index','100');
				_Q(this).show();
		    } else {
				setTimtout(function(){
					_Q(this).css('z-index','4');
					_Q(this).hide();},1);
		    }
	  });
	  _Q(".dk_data_bg02").css("width",document.body.clientWidth- 646 +"px ");
	  
	  var i = 1;
	  _Q(".dk_listh").click(function(){
	 
	     if(i==1){
	      i=2;
	      _Q(".dk_zz").css( {'height' : 'auto','overflow': 'none' } );
	     }else{
	      i=1;
	      _Q(".dk_zz").css( {'height' : '90px','overflow': 'hidden' } );
	     }
	  });
})

function chos(t){
	for(var i=1;i<=4;i++){
		if(i==t){ 
			_Q("#tar"+t).css("display", "block");
			_Q(".targe"+t).addClass("current");
		}else{
			_Q("#tar"+i).css("display", "none");
			_Q(".targe"+i).removeClass("current");
		}
		if(i==3){
			setTimeout(function(){resetLeft();},1);
		}
	}
}
	
_Q(window).resize(function(){
	 var onLoadWidth = document.body.clientWidth;
		_Q(".dk_data_bg02").css("width",document.body.clientWidth- 646 +"px ");
})

_Q(document).ready(function(){
    var i = 1;
  _Q(".dk_hiden_but img").click(function(){
 
     if(i==1){
      i=2;
      _Q(".dk_tb03").css( {'height' : 'auto','overflow': 'none' } );
	  _Q("#img_1").attr("src","#{request.contextPath}/asset/images/dkbut2.jpg");
     }else{
      i=1;
      _Q(".dk_tb03").css( {'height' : '70px','overflow': 'hidden' } );
	  _Q("#img_1").attr("src","#{request.contextPath}/asset/images/dkbut.jpg");
     }
  });
  
  _Q('.farmingInputs').mouseover(function(){
		_Q(this).children('.closeInputs').css('display','block');	
	});
	_Q('.farmingInputs').mouseout(function(){
		_Q(this).children('.closeInputs').css('display','none');	
	});
	_Q('.farmingInputs .closeInputs').click(function(){
		_Q(this).parent().css('display','none');
	});	
	_Q('.farmingInputs .closeInputs').click(function(){
		_Q(this).parent('.farmingInputs').css('display','none');
		_Q(this).parent('.farmingInputs').next('.farmingMage_Magnifier2').css('display','none');	
	});	
	_Q('.farmingInputs a img').click(function(){
		_Q('.farmingMage_Magnifier2').css('display','none');
		_Q(this).parents('.farmingInputs').next('.farmingMage_Magnifier2').css('display','block');	
		_Q('.farmingInputs_mini').css('display','none');
	});
});

function addCostInfo(){
	_Q("#cost_id").val("");
	_Q("#costForm\\:cost_dateInputDate").val("");
	_Q("#cost_name").val("");
	_Q("#cost_type")[0].selectedIndex = 0;
	_Q("#cost_type").selectpicker('refresh');
	_Q("#cost_number").val("");
	_Q("#cost_unit_price").val("");
	_Q("#cost_money").val("");
	_Q("#cost_managers").val("");
	_Q("#cost_description").val("");
	_Q(".tcdtext").html("成本管理");
	_Q(".dk_tdiv").hide();
		_Q(".cost_").show();
		BtPopload('pop');
}

function editCostInfo(){
	_Q("#cost_id").val(arguments[0]);
	_Q("#costForm\\:cost_dateInputDate").val(arguments[1]);
	_Q("#cost_name").val(arguments[2]);
	_Q("#cost_type").val(arguments[3]);
	_Q("#cost_type").selectpicker('refresh');
	_Q("#cost_number").val(arguments[4]);
	_Q("#cost_unit_price").val(arguments[5]);
	_Q("#cost_money").val(arguments[6]);
	_Q("#cost_managers").val(arguments[7]);
	_Q("#cost_description").val(arguments[8]);
	_Q(".tcdtext").html("成本管理");
	_Q(".dk_tdiv").hide();
	_Q(".cost_").show();
	BtPopload('pop');
}

function deleteReal(id,obj){
	deleteReal_next(id);
	_Q(obj).closest("tr").remove();
}
//]]>
</script>
<link href='#{request.contextPath}/asset/js/fullcalendar.css' rel='stylesheet' />
<link href='#{request.contextPath}/asset/js/fullcalendar.print.css' rel='stylesheet' media='print' />
<script src='#{request.contextPath}/asset/js/jQuery-ui.custom.min_Q.js'></script>
<script src='#{request.contextPath}/asset/js/fullcalendar_Q.js'></script>    
      <h:panelGroup id="js">
<script type="text/javascript">
//<![CDATA[

function addF() {
	_Q('#calendar').empty();
	_Q('#calendar').fullCalendar({
		header: {
			left: 'prev,next today',
			center: 'title',
			right: 'month,agendaWeek,agendaDay'
		},
		editable: false,
		events: calendarData,
		timeFormat: {
			'': 'HH:mm'
		}
	});
}

function calen(index){
	if(index==1){
		_Q(".noli:eq(0)").attr("class","noli noshili ");
		_Q(".noli:eq(1)").attr("class","noli noshili01 current");
		_Q(".nosidiv>div:eq(0)").hide();
		_Q(".nosidiv>div:eq(1)").show();
		addF();
	}else{
		_Q(".noli:eq(0)").attr("class","noli noshili current");
		_Q(".noli:eq(1)").attr("class","noli noshili01");
		_Q(".nosidiv>div:eq(0)").show();
		_Q(".nosidiv>div:eq(1)").hide();
		resetLeft();
	}
}


function resetLeft(){
	var tableWidth = _Q("#trwidth").width();
	var width = tableWidth-89-9;
	var minute = width/24/60;
	_Q(".operateList").each(function(){
		var left = _Q(this).attr("aa");
		var width_ = _Q(this).attr("bb");
		var flag = _Q(this).attr("cc");
		_Q(this).css("left",left*minute);
		_Q(this).css("min-width",90);
		_Q(this).css("max-width",(tableWidth-89-left*minute+flag)+"px");
		if(width_==''){
			_Q(this).find(".mytable_").width(62+flag);
		}else{
			_Q(this).find(".mytable_").width(width_*minute+flag);
		}
		_Q(this).find(".bwi").css("width",width_*minute-8+flag);
	});
}

function aai_change_next(data){
	_Q("#aai_type2").empty().append(data);
	_Q("#aai_type2").selectpicker('refresh');
}
function openOperate(){
	var tunkeeperInfo='#{partitionInfoHome.ti.keeperInfo}';
	if(tunkeeperInfo!=null && tunkeeperInfo!=''){
		tunkeeperInfo='#{partitionInfoHome.ti.keeperInfo.farmerInfoId}';
		_Q('#aai_farmId').selectpicker('val',tunkeeperInfo);
	}
	_Q(".radio2").attr("aa","1");
	_Q(".radio2").addClass("checked");
	_Q("#aai_show").val("1");
	_Q(".tcdtext").html("农事管理");
	_Q("#aai_farmId")[0].selectIndex = 0 ;
	_Q("#aai_farmId").trigger("onchange");
	_Q("#aai_farmId").selectpicker('refresh');
	_Q("#aai_type1")[0].selectedIndex = 0;
	_Q("#aai_type1").trigger("onchange");
	_Q("#aai_type1").selectpicker('refresh');
	_Q(".radio:eq(0)").trigger("click");
	_Q(':input','#aai').not(':button, :submit, :reset, :hidden').val('').removeAttr('checked').removeAttr('selected'); 
	_Q("#aai\\:aai_startTInputDate").val("");
	_Q("#work_time").val("");
	_Q("#aai_description").val("");
	_Q("#aai\\:record_costing").val(null);
	_Q("#aai\\:arh_sendTimeInputDate").val("");
	_Q("#arh_content").val("");
	_Q("#aai\\:record_costing2").val(null);
	_Q(".dk_tdiv").hide();
	_Q(".operate_").show();
	_Q(".farmingInputs").remove();
	_Q("#record_temp").val("");
	_Q("#record_humi").val("");
	clearData();
	BtPopload('pop');
	operateChange(0);
}
function openHarvest(){
	_Q(".tcdtext").html("采收管理");
	_Q("#har_weight").val("");
	_Q("#har_person").val("");
	_Q("#har\\:har_timeInputDate").val("");
	_Q("#har_id").val("");
	_Q("#har_must").val("");
	_Q("#har_may").val("");
	_Q(".har_tim2").hide();
	_Q(".har_tim2").html("");
	_Q(".har_tim1").show();
	_Q("#har_type").val(1);
	_Q(".dk_tdiv").hide();
	_Q(".harvest_").show();
	_Q(".harvest_").css("height","165px");
	BtPopload('pop');
}

function operateChange(obj){
	if(obj==0){
		_Q(".aai_1").show();
		_Q(".aai_2").hide();
		_Q(".disnone").hide();
	}else{
		_Q(".aai_1").hide();
		_Q(".aai_2").show();
		_Q(".disnone").hide();
	}
}

//var rainfallDevice = [[1407506400000,1.0],[1407502800000,2.0],[1407499200000,3.0],[1407495600000,4.0],[1407492000000,5.0],[1407488400000,6.0],[1407484800000,7.0],[1407481200000,8.0],[1407477600000,9.0],[1407474000000,10.0],[1407470400000,11.0],[1407466800000,12.0],[1407463200000,13.0],[1407459600000,14.0],[1407456000000,15.0],[1407452400000,16.0],[1407448800000,17.0],[1407445200000,18.0],[1407441600000,21.0],[1407438000000,22.0],[1407434400000,23.0],[1407430800000,31.0],[1407427200000,32.0],[1407423600000,41.0]];
var previousPoint = null, previousLabel = null;

function showTooltip(x, y, contents) {
	jq("<div id='tooltip'>" + contents + "</div>").css({
		position: "absolute",
		display: "none",
		top: y + 5,
		left: x + 5,
		border: "1px solid #fdd",
		padding: "2px",
		"background-color": "#fee",
		opacity: 0.80
	}).appendTo("body").fadeIn(200);
}

_Q().ready(function(){
	plottable();
	_Q(".semxnene input").focus(function(){
		var a = _Q("#plant\\:harvest_timeInputDate").val();
		var b = _Q("#plant\\:plant_endInputDate").val();
		a = a.split("-")[1];
		b = b.split("-")[1];
		a = parseInt(a,10);
		b = parseInt(b,10);
		var arr = [];
		if(b>=a){
			for(var i = a ;i<=b;i++){
				arr.push(i);
			}
		}else if(b<a){
			for(var i = a ;i<=12;i++){
				arr.push(i);
			}
			for(var i = 1 ;i<=b;i++){
				arr.push(i);
			}
		}
		for(var i = 0;i<arr.length;i++){
			if(arr[i]==_Q(this).attr("name").replace("month","")){
				break;
			}else if(i==arr.length-1){
				alert("该月份不在采收开始和结束时间之内");
				_Q(this).blur();
			}
		}
  })
});

function getModelByTime (v1,v2,v3,v4,v5,v6){
	if(v5=="" || v1==null || v1 == "")
		return;
	else{
		getModelByTime_ (v1,v2,v3,v4,v5,v6);
	}
}

function chemodel (){
	if(_Q("#model_valuetime").val()==-2){
		alert("请选择定植时间!");
		return false;
	}
	//if(_Q("#model_nurserytime").val()==-2){
		//alert("请选择育种开始!");
		//return false;
	//}
	if(_Q("#model_begintime").val()==-2){
		alert("请选择采收开始!");
		return false;
	}
	if(_Q("#model_endtime").val()==-2){
		alert("请选择采收结束!");
		return false;
	}
	return true;
}

function model_ok(data,event){
	_Q("#prompt2").html("");
	_Q("#prompt").html("");
	getModelByTime(_Q('#breedBreedId').val(),_Q('#plant_tunnel_id').val(),_Q('#plant\\:plant_beginInputDate').val(),_Q('#plant_standard').val(),_Q('#plant\\:plant_endInputDate').val(),_Q('#plant_real_id').val());
	_Q(".list1").hide();
	_Q("#realplant").show();
}

function notaddmodel(){
				_Q('#model_name_1').val(_Q('#m_type').html()+'-'+_Q('#m_standard').html()+'-'+_Q('#model_valuetime').val()+'-'+_Q('#model_valueten').val());
				if(!chemodel())
					return false;
				_Q("#modelId").val(-1);
				_Q("#model_type_1").val(_Q("#model_type").val());
				_Q("#model_plant_1").val(_Q("#model_plant").val());
				_Q("#model_breed_1").val(_Q("#model_breed").val());
				_Q("#model_standard_1").val(_Q("#model_standard").val());
				_Q("#model_valuetime_1").val(_Q("#model_valuetime").val());
				_Q("#model_valueten_1").val(_Q("#model_valueten").val());
				_Q("#model_begintime_1").val(_Q("#model_begintime").val());
				_Q("#model_beginten_1").val(_Q("#model_beginten").val());
				_Q("#model_endtime_1").val(_Q("#model_endtime").val());
				_Q("#model_endten_1").val(_Q("#model_endten").val());
				_Q("#month1_1").val(_Q("#month1").val());
				_Q("#month2_1").val(_Q("#month2").val());
				_Q("#month3_1").val(_Q("#month3").val());
				_Q("#month4_1").val(_Q("#month4").val());
				_Q("#month5_1").val(_Q("#month5").val());
				_Q("#month6_1").val(_Q("#month6").val());
				_Q("#month7_1").val(_Q("#month7").val());
				_Q("#month8_1").val(_Q("#month8").val());
				_Q("#month9_1").val(_Q("#month9").val());
				_Q("#month10_1").val(_Q("#month10").val());
				_Q("#month11_1").val(_Q("#month11").val());
				_Q("#month12_1").val(_Q("#month12").val());
				var str = '<tr><td class="spcine">时间<input type="hidden" value="8" id="checkStart"><input type="hidden" id="checkMonth" value="12"><input type="hidden" id="checkDays" value="3"></td><td class="spcbgc">亩产</td><td class="spcbgc">地块产量</td></tr>';
				if(_Q("#month1_1").val()!=''){
					var a = _Q("#plant_area").val();
					var b = _Q("#month1_1").val();
					var c = parseFloat(a)*parseFloat(b);
					c = c.toFixed(2);
					str+='<tr><td class="spcine">1月</td><td class="spcbgc">'+b+'kg</td><td class="mul spcbgc" mul="'+b+'">'+c+'kg</td></tr>';
				}
				if(_Q("#month2_1").val()!=''){
					var a = _Q("#plant_area").val();
					var b = _Q("#month2_1").val();
					var c = parseFloat(a)*parseFloat(b);
					c = c.toFixed(2);
					str+='<tr><td class="spcine">2月</td><td class="spcbgc">'+b+'kg</td><td class="mul spcbgc" mul="'+b+'">'+c+'kg</td></tr>';
				}
				if(_Q("#month3_1").val()!=''){
					var a = _Q("#plant_area").val();
					var b = _Q("#month3_1").val();
					var c = parseFloat(a)*parseFloat(b);
					c = c.toFixed(2);
					str+='<tr><td class="spcine">3月</td><td class="spcbgc">'+b+'kg</td><td class="mul spcbgc" mul="'+b+'">'+c+'kg</td></tr>';
				}
				if(_Q("#month4_1").val()!=''){
					var a = _Q("#plant_area").val();
					var b = _Q("#month4_1").val();
					var c = parseFloat(a)*parseFloat(b);
					c = c.toFixed(2);
					str+='<tr><td class="spcine">4月</td><td class="spcbgc">'+b+'kg</td><td class="mul spcbgc" mul="'+b+'">'+c+'kg</td></tr>';
				}
				if(_Q("#month5_1").val()!=''){
					var a = _Q("#plant_area").val();
					var b = _Q("#month5_1").val();
					var c = parseFloat(a)*parseFloat(b);
					c = c.toFixed(2);
					str+='<tr><td class="spcine">5月</td><td class="spcbgc">'+b+'kg</td><td class="mul spcbgc" mul="'+b+'">'+c+'kg</td></tr>';
				}
				if(_Q("#month6_1").val()!=''){
					var a = _Q("#plant_area").val();
					var b = _Q("#month6_1").val();
					var c = parseFloat(a)*parseFloat(b);
					c = c.toFixed(2);
					str+='<tr><td class="spcine">6月</td><td class="spcbgc">'+b+'kg</td><td class="mul spcbgc" mul="'+b+'">'+c+'kg</td></tr>';
				}
				if(_Q("#month7_1").val()!=''){
					var a = _Q("#plant_area").val();
					var b = _Q("#month7_1").val();
					var c = parseFloat(a)*parseFloat(b);
					c = c.toFixed(2);
					str+='<tr><td class="spcine">7月</td><td class="spcbgc">'+b+'kg</td><td class="mul spcbgc" mul="'+b+'">'+c+'kg</td></tr>';
				}
				if(_Q("#month8_1").val()!=''){
					var a = _Q("#plant_area").val();
					var b = _Q("#month8_1").val();
					var c = parseFloat(a)*parseFloat(b);
					c = c.toFixed(2);
					str+='<tr><td class="spcine">8月</td><td class="spcbgc">'+b+'kg</td><td class="mul spcbgc" mul="'+b+'">'+c+'kg</td></tr>';
				}
				if(_Q("#month9_1").val()!=''){
					var a = _Q("#plant_area").val();
					var b = _Q("#month9_1").val();
					var c = parseFloat(a)*parseFloat(b);
					c = c.toFixed(2);
					str+='<tr><td class="spcine">9月</td><td class="spcbgc">'+b+'kg</td><td class="mul spcbgc" mul="'+b+'">'+c+'kg</td></tr>';
				}
				if(_Q("#month10_1").val()!=''){
					var a = _Q("#plant_area").val();
					var b = _Q("#month10_1").val();
					var c = parseFloat(a)*parseFloat(b);
					c = c.toFixed(2);
					str+='<tr><td class="spcine">10月</td><td class="spcbgc">'+b+'kg</td><td class="mul spcbgc" mul="'+b+'">'+c+'kg</td></tr>';
				}
				if(_Q("#month11_1").val()!=''){
					var a = _Q("#plant_area").val();
					var b = _Q("#month11_1").val();
					var c = parseFloat(a)*parseFloat(b);
					c = c.toFixed(2);
					str+='<tr><td class="spcine">11月</td><td class="spcbgc">'+b+'kg</td><td class="mul spcbgc" mul="'+b+'">'+c+'kg</td></tr>';
				}
				if(_Q("#month12_1").val()!=''){
					var a = _Q("#plant_area").val();
					var b = _Q("#month12_1").val();
					var c = parseFloat(a)*parseFloat(b);
					c = c.toFixed(2);
					str+='<tr><td class="spcine">12月</td><td class="spcbgc">'+b+'kg</td><td class="mul spcbgc" mul="'+b+'">'+c+'kg</td></tr>';
				}
				if(_Q("#aps_type").val()<2){
					_Q("#mu_table").html("编辑");
					_Q(".table_0").show();
					_Q(".table_0").empty().append(str);
				}else{
					_Q("#mu_table2").html("编辑");
					_Q(".table_1").empty().append(str);
					_Q(".table_1").show();
				}
				
				
				_Q(".list1").hide();
				_Q("#realplant").show();
			}

function noteditmodel(){
				_Q("#model_type").val(_Q("#model_type_1").val());
				_Q("#model_plant").val(_Q("#model_plant_1").val());
				_Q("#model_breed").val(_Q("#model_breed_1").val());
				_Q("#model_standard").val(_Q("#model_standard_1").val());
				_Q("#model_valuetime").val(_Q("#model_valuetime_1").val());
				_Q("#model_valuetime").selectpicker('refresh');
				_Q("#model_valueten").val(_Q("#model_valueten_1").val());
				_Q("#model_valueten").selectpicker('refresh');
				_Q("#model_begintime").val(_Q("#model_begintime_1").val());
				_Q("#model_begintime").selectpicker('refresh');
				_Q("#model_beginten").val(_Q("#model_beginten_1").val());
				_Q("#model_beginten").selectpicker('refresh');
				_Q("#model_endtime").val(_Q("#model_endtime_1").val());
				_Q("#model_endtime").selectpicker('refresh');
				_Q("#model_endten").val(_Q("#model_endten_1").val());
				_Q("#model_endten").selectpicker('refresh');
				_Q("#month1").val(_Q("#month1_1").val());
				_Q("#month2").val(_Q("#month2_1").val());
				_Q("#month3").val(_Q("#month3_1").val());
				_Q("#month4").val(_Q("#month4_1").val());
				_Q("#month5").val(_Q("#month5_1").val());
				_Q("#month6").val(_Q("#month6_1").val());
				_Q("#month7").val(_Q("#month7_1").val());
				_Q("#month8").val(_Q("#month8_1").val());
				_Q("#month9").val(_Q("#month9_1").val());
				_Q("#month10").val(_Q("#month10_1").val());
				_Q("#month11").val(_Q("#month11_1").val());
				_Q("#month12").val(_Q("#month12_1").val());
				
			}

function addModelElse(){
	
	_Q("#model_id").val("");
	_Q('#model_valuetime')[0].selectedIndex = 0;
	_Q("#model_valuetime").selectpicker('refresh');
	_Q('#model_valueten')[0].selectedIndex = 0;
	_Q("#model_valueten").selectpicker('refresh');
	_Q('#model_begintime')[0].selectedIndex = 0;
	_Q("#model_begintime").selectpicker('refresh');
	_Q('#model_beginten')[0].selectedIndex = 0;
	_Q("#model_beginten").selectpicker('refresh');
	_Q('#model_endtime')[0].selectedIndex = 0;
	_Q("#model_endtime").selectpicker('refresh');
	_Q('#model_endten')[0].selectedIndex = 0;
	_Q("#model_endten").selectpicker('refresh');
}

function addModel(){
	_Q(".list1").hide();
	_Q(".plant_").hide();
	_Q(".model_").show();
	_Q("#modelInfo").show();
	_Q(".dk_tdiv .model_").scrollTop(0);
	_Q("#model_name").val("");
	_Q("#mu_table").html("添加");
				_Q("#mu_table2").html("添加");
	var aps_type = _Q('#aps_type').val();
	if(_Q("#model_type_1").val()!=""){
					noteditmodel();
					return ;
				}
				if(_Q("#plant_real_id").val()==""){
						_Q(".nomore:eq(0)").show();
						_Q(".nomore:eq(1)").hide();
					}else{
						_Q(".nomore:eq(1)").show();
						_Q(".nomore:eq(0)").hide();
					}
		_Q("#m_type").html(_Q("#env_name").val());
		_Q('#model_type').val(_Q("#env_type").val());
		_Q('#model_plant').val(_Q("#plant_plantId").val());
		_Q("#m_plant").html(_Q("#plant_plantId").find("option:selected").text());
		_Q('#model_breed').val(_Q("#breedBreedId").val());
		_Q('#m_breed').html(_Q("#breedBreedId").find("option:selected").text());
		_Q('#model_standard').val(_Q("#plant_standard").val());
		_Q('#m_standard').html(_Q("#plant_standard").find("option:selected").text());
		_Q(".semxnene input").val("");
		if(_Q("#modelId").val()!=''&&_Q("#modelId").val()>0){
			_Q("#model_id").val(_Q('#modelId').val());
			getModelInfoJson(_Q('#modelId').val());
		}else{
			addModelElse();
			var plant_date = _Q("#plant\\:plant_beginInputDate").val();
			if(plant_date!=""){
				var strs = plant_date.split("-");
				_Q("#model_valuetime").val(parseInt(strs[1],10));
				_Q("#model_valuetime").selectpicker('refresh');
				var s = strs[2];//.replace("0","")
				var tempStr = 1;
				if(s<11){
					tempStr = 1;
				}else if(s<21){
					tempStr = 2;
				}else{
					tempStr = 3;
				}
				_Q('#model_valueten').val(tempStr);
				_Q('#model_valueten').selectpicker('refresh');
			}
			var endTime = document.getElementById("plant:plant_endInputDate").value;
			if(endTime!=""){
				var arrs = endTime.split("-");
				_Q("#model_endtime").val(parseInt(arrs[1],10));
				_Q("#model_endtime").selectpicker('refresh');
				var s = arrs[2];//.replace("0","")
				var tempStr = 1;
				if(s<11){
					tempStr = 1;
				}else if(s<21){
					tempStr = 2;
				}else{
					tempStr = 3;
				}
				_Q("#model_endten").val(tempStr);
				_Q("#model_endten").selectpicker('refresh');
			}
		}
	
}

function addPlant(){
_Q("#plant_model input").val("");
	_Q("#prompt").text("");
	_Q("#prompt2").text("");
	_Q("#typeHide").hide();
	_Q("#edittype").val(1);
	_Q("#table_0").show();
	_Q(".typ1").show();
	_Q(".typ2").hide();
	_Q("#aps_type")[0].selectedIndex = 1;
	_Q("#aps_type").selectpicker('refresh');
	_Q("#sarea").val("");
	_Q("#map_p").val("");
	_Q("#map_b").val("");
	_Q("#map_m").val("");
	_Q("#plant_real_id").val("");
	_Q("#resumePlantName").val("");
	_Q("#scheduleId").val("");
	_Q("#xplant").val("");
	_Q("#xbreed").val("");
	_Q("#xstandard").val("");
	_Q("#xyear").val("");
	_Q("#xmonth").val("");
	_Q("#xdays").val("");
	_Q("#xmodel").val("");
    _Q(".modehide").hide();
    _Q(".modehidename_1").html("开始时间：");
    _Q(".modehidename_2").html("结束时间：");

    _Q("#plant_plantId").removeAttr("disabled");
	_Q("#breedBreedId").removeAttr("disabled");
    
	var html = _Q("#plant_plantId").html();
	//_Q("#env_type").val(_Q("#group_type").val());
	_Q("#plant_plantId").empty();
	_Q("#plant_plantId").append(html);
	_Q("#plant_plantId")[0].selectedIndex = 0;
	_Q("#plant_plantId").selectpicker('refresh');
	_Q("#plant_plantId ~ .custom-combobox").filter(":eq(0)").find("input").val(_Q("#plant_plantId").find("option:selected").text());
	_Q("#plant_plantId").trigger("onchange");
	_Q("#plant_standard")[0].selectedIndex = 0;
	_Q("#plant_standard").selectpicker('refresh');
	_Q(".table_0").empty();
	_Q(".table_1").empty();
	_Q("#plant\\:plant_beginInputDate").val("");
	_Q("#plant\\:plant_endInputDate").val("");
	_Q("#plant\\:harvest_timeInputDate").val("");
	_Q("#plant_area").val(_Q("#tunnel_area").val());
	_Q("#plantarea").text(_Q("#tunnel_area").val());
	_Q(".tcdtext").html("添加种植");
	_Q(".edittype").val(1);
	_Q(".dk_tdiv").hide();
	_Q(".plant_").show();
	BtPopload('pop');
}

function changeBreed(){
	initComplex();
	if(_Q("#plant_plantId").val()==0){
        _Q(".modehide").hide();
        _Q(".modehidename_1").html("开始时间：");
        _Q(".modehidename_2").html("结束时间：");
    }else{
        _Q(".modehide").show();
        _Q(".modehidename_1").html("定植时间：");
        _Q(".modehidename_2").html("种植结束：");
    }
}


function editPlant(){
			_Q("#typeHide").hide();
			_Q("#plant_model input").val("");
		    _Q("#aps_type")[0].selectedIndex=arguments[8];
		    _Q("#aps_type").selectpicker('refresh');
			_Q("#prompt").text("");
			_Q(".typ1").show();
			_Q(".typ2").hide();
			_Q("#prompt2").html("");
			_Q("#plant_real_id").val(arguments[0]);
			_Q("#edittype").val(2);
			_Q("#typeHide").hide();
			_Q("#map_p").val(arguments[1]);
			_Q("#map_b").val(arguments[2]);
			_Q("#map_m").val(arguments[3]);
			var html = _Q("#plant_plantId").html();
			_Q("#plant_plantId").empty().append(html);
			_Q("#plant_plantId").val(arguments[1]);
			if(_Q("#plant_plantId")[0].selectedIndex==-1)
				_Q("#plant_plantId")[0].selectedIndex=0;
			_Q("#plant_plantId").selectpicker('refresh');
			_Q("#plant_plantId ~ .custom-combobox").filter(":eq(0)").find("input").val(_Q("#plant_plantId").find("option:selected").text());
			_Q("#plant_plantId").trigger("onchange");
			_Q("#plant_standard").val(arguments[4]);
			if(_Q("#plant_standard")[0].selectedIndex==-1)
				_Q("#plant_standard")[0].selectedIndex=0;
			_Q("#plant_standard").selectpicker('refresh');
			_Q("#plant\\:plant_beginInputDate").val(arguments[5]);
			_Q("#plant\\:plant_endInputDate").val(arguments[6]);
			var nowD = new Date();
			var nowD_ = new Date(nowD.getFullYear(),nowD.getMonth()+1,nowD.getDate());
			
			if(arguments[5]!="0" && arguments[5]!= null && arguments[5]!= ""){
				var arrs = arguments[5].split("-");
			    var lktime = new Date(arrs[0], arrs[1], arrs[2]);
				if(lktime > nowD_.getTime()){
					_Q("#plant_plantId").removeAttr("disabled");
					_Q("#breedBreedId").removeAttr("disabled");
				}else{
					_Q("#plant_plantId").prop("disabled","true");
					_Q("#breedBreedId").prop("disabled","true");
				}
			}
			if(arguments[10]=="0"){
				_Q("#plant\\:harvest_timeInputDate").val("");
			}else{
				_Q("#plant\\:harvest_timeInputDate").val(arguments[10]);
			}
			_Q("#old_start").val(arguments[5]);
			_Q("#old_end").val(arguments[6]);
			_Q("#plant_area").val(arguments[7]);//_Q("#tunnel_area")
			_Q("#myarea").val(arguments[7]);
			_Q("#plantarea").text(_Q("#tunnel_area").val());
			_Q("#resumePlantName").val(arguments[9]);
			_Q(".dk_tdiv").hide();
			_Q(".list1").hide();
			_Q("#realplant").show();
			_Q(".tcdtext").text("编辑种植");
			BtPopload('pop');
}


function getModelByTime_next(data){
	if(data==""){
		_Q(".table_0").empty();
		_Q("#modelId").val(0);
		_Q("#mu_table").html("(添加)");
		return;
	}
		
	var strs = data.split("-~_");
	_Q(".table_0").empty();
	if(_Q("#edittype").val()==1){
		_Q("#plantarea").html(strs[0]);
		_Q("#plant_area").val(strs[0]);
	}else{
		_Q("#plantarea").html(strs[0]);
		_Q("#plant_area").val(_Q("#myarea").val());
	}
	if(strs.length==1){
		_Q("#modelId").val(0);
		_Q("#mu_table").html("(添加)");
		return;
	}
	
	_Q("#modelId").val(strs[1]);
	_Q(".table_0").empty();
	_Q("#mu_table").html("(编辑)");
	_Q(".table_0").append(strs[2]);
}

function getModelByRealId_next(data){
	begin_end();
	var datas = data.split("-~_");
	if(_Q("#edittype").val()==1){
		_Q("#plantarea").html(datas[0]);
		_Q("#plant_area").val(datas[0]);
	}else{
		_Q("#plantarea").html(datas[0]);
		_Q("#plant_area").val(_Q("#myarea").val());
	}
	if(datas.length==1)
		return;
	var start = datas[5];
	var starts = start.split("-");
	var ht = "";
	if(_Q("#plant\\:harvest_timeInputDate").val()==""){
		if(starts[0]=="null"){
			var val = _Q("#plant\\:plant_beginInputDate").val();
			var vals = val.split("-");
			if(parseInt(vals[1],10)<=parseInt(starts[1],10)){
				ht+=vals[0];
			}else{
				ht+=(parseInt(vals[0],10)+1);
			}
			if(starts[1].length==1){
				ht+="-0"+starts[1];
			}else{
				ht+="-"+starts[1];
			}
			if(parseInt(starts[2],10)==1){
				ht+="-01";
			}else if(parseInt(starts[2],10)==2){
				ht+="-11";
			}else if(parseInt(starts[2],10)==3){
				ht+="-21";
			}
			if(ht.length>4)
				_Q("#plant\\:harvest_timeInputDate").val(ht);
		}else {
			ht = starts[0]+"-"+starts[1]+"-";
			if(parseInt(starts[2],10)<10){
				ht+="0"+starts[2];
			}else{
				ht+=starts[2];
			}
			_Q("#plant\\:harvest_timeInputDate").val(ht);
		}
	}
	if(datas[2]==1){
		_Q("#yield_type")[0].selectedIndex = 0;
		eval("var tempData="+datas[3]);
		if(tempData.month1&&parseFloat(tempData.month1)>0){
			_Q("#month1").val(tempData.month1);
		}
		if(tempData.month2&&parseFloat(tempData.month2)>0){
			_Q("#month2").val(tempData.month2);
		}
		if(tempData.month3&&parseFloat(tempData.month3)>0){
			_Q("#month3").val(tempData.month3);
		}
		if(tempData.month4&&parseFloat(tempData.month4)>0){
			_Q("#month4").val(tempData.month4);
		}
		if(tempData.month5&&parseFloat(tempData.month5)>0){
			_Q("#month5").val(tempData.month5);
		}
		if(tempData.month6&&parseFloat(tempData.month6)>0){
			_Q("#month6").val(tempData.month6);
		}
		if(tempData.month7&&parseFloat(tempData.month7)>0){
			_Q("#month7").val(tempData.month7);
		}
		if(tempData.month8&&parseFloat(tempData.month8)>0){
			_Q("#month8").val(tempData.month8);
		}
		if(tempData.month9&&parseFloat(tempData.month9)>0){
			_Q("#month9").val(tempData.month9);
		}
		if(tempData.month10&&parseFloat(tempData.month10)>0){
			_Q("#month10").val(tempData.month10);
		}
		if(tempData.month11&&parseFloat(tempData.month11)>0){
			_Q("#month11").val(tempData.month11);
		}
		if(tempData.month12&&parseFloat(tempData.month12)>0){
			_Q("#month12").val(tempData.month12);
		}
	}else{
		_Q("#yield_type")[0].selectedIndex = 1;
		eval("var tempData="+datas[3]);
		if(tempData.month1&&parseFloat(tempData.month1)>0){
			var tempv = parseFloat(tempData.month1)*datas[4];
			tempv = tempv.toFixed(2);
			_Q("#month1").val(tempv);
		}
		if(tempData.month2&&parseFloat(tempData.month2)>0){
			var tempv = parseFloat(tempData.month2)*datas[4];
			tempv = tempv.toFixed(2);
			_Q("#month2").val(tempv);
		}
		if(tempData.month3&&parseFloat(tempData.month3)>0){
			var tempv = parseFloat(tempData.month3)*datas[4];
			tempv = tempv.toFixed(2);
			_Q("#month3").val(tempv);
		}
		if(tempData.month4&&parseFloat(tempData.month4)>0){
			var tempv = parseFloat(tempData.month4)*datas[4];
			tempv = tempv.toFixed(2);
			_Q("#month4").val(tempv);
		}
		if(tempData.month5&&parseFloat(tempData.month5)>0){
			var tempv = parseFloat(tempData.month5)*datas[4];
			tempv = tempv.toFixed(2);
			_Q("#month5").val(tempv);
		}
		if(tempData.month6&&parseFloat(tempData.month6)>0){
			var tempv = parseFloat(tempData.month6)*datas[4];
			tempv = tempv.toFixed(2);
			_Q("#month6").val(tempv);
		}
		if(tempData.month7&&parseFloat(tempData.month7)>0){
			var tempv = parseFloat(tempData.month7)*datas[4];
			tempv = tempv.toFixed(2);
			_Q("#month7").val(tempv);
		}
		if(tempData.month8&&parseFloat(tempData.month8)>0){
			var tempv = parseFloat(tempData.month8)*datas[4];
			tempv = tempv.toFixed(2);
			_Q("#month8").val(tempv);
		}
		if(tempData.month9&&parseFloat(tempData.month9)>0){
			var tempv = parseFloat(tempData.month9)*datas[4];
			tempv = tempv.toFixed(2);
			_Q("#month9").val(tempv);
		}
		if(tempData.month10&&parseFloat(tempData.month10)>0){
			var tempv = parseFloat(tempData.month10)*datas[4];
			tempv = tempv.toFixed(2);
			_Q("#month10").val(tempv);
		}
		if(tempData.month11&&parseFloat(tempData.month11)>0){
			var tempv = parseFloat(tempData.month11)*datas[4];
			tempv = tempv.toFixed(2);
			_Q("#month11").val(tempv);
		}
		if(tempData.month12&&parseFloat(tempData.month12)>0){
			var tempv = parseFloat(tempData.month12)*datas[4];
			tempv = tempv.toFixed(2);
			_Q("#month12").val(tempv);
		}
	}
	_Q("#yield_type").selectpicker('refresh');
}

function getModelInfoJson_next(json){
	eval("var tempp = "+json);
	_Q('#model_valuetime').val(tempp.valuetime);
	_Q("#model_valuetime").selectpicker('refresh');
	_Q('#model_valueten').val(tempp.valuedays);
	_Q("#model_valueten").selectpicker('refresh');
	_Q('#model_begintime').val(tempp.begintime);
	_Q("#model_begintime").selectpicker('refresh');
	_Q('#model_beginten').val(tempp.begindays);
	_Q("#model_beginten").selectpicker('refresh');
	_Q('#model_endtime').val(tempp.endtime);
	_Q("#model_endtime").selectpicker('refresh');
	_Q('#model_endten').val(tempp.enddays);
	_Q("#model_endten").selectpicker('refresh');
	_Q(".semxnene input").each(function(){
		var name = _Q(this).attr("name");
		_Q(this).val(tempp[name]);
	});
}

function clearNoNum(obj){
	obj.value = obj.value.replace(/[^\d.]/g,"");  //清除“数字”和“.”以外的字符  
	obj.value = obj.value.replace(/^\./g,"");  //验证第一个字符是数字而不是. 
	obj.value = obj.value.replace(/\.{2,}/g,"."); //只保留第一个. 清除多余的.   
	obj.value = obj.value.replace(".","$#$").replace(/\./g,"").replace("$#$",".");
	if(obj.value=="")
		return ;
	_Q(".table_0 .mul").each(function(){
		var mu = parseFloat(_Q(this).attr("mul"));
		var total = mu*parseFloat(obj.value);
		_Q(this).html(total.toFixed(2)+"kg");
	});
}

function checkSubmit(){
	var asp_type = _Q('#aps_type').val();
	var nowD = new Date();
    if(_Q("#plant_plantId").val()==0){
        document.getElementById("plant:harvest_timeInputDate").value = document.getElementById("plant:plant_beginInputDate").value;
    }
    var breedId = _Q("#breedBreedId").val();
    if(breedId == ""){
    	_Q("#prompt").text("请选择品种！");
		return false;
    }
	var nowD_ = new Date(nowD.getFullYear(),nowD.getMonth()+1,nowD.getDate());
		var beginTime = document.getElementById("plant:plant_beginInputDate").value;
	    var endTime = document.getElementById("plant:plant_endInputDate").value;
	    var plantarea = document.getElementById("plant_area").value;
	    var edittype = _Q("#edittype").val();
	    var arr = beginTime.split("-");
	    var starttime = new Date(arr[0], arr[1], arr[2]);
	    var starttimes = starttime.getTime();
	    var arrs = endTime.split("-");
	    var lktime = new Date(arrs[0], arrs[1], arrs[2]);
	    var lktimes = lktime.getTime();
	    var flag = true;
	    var allarea =  parseFloat(_Q("#plantarea").text());
	    if (starttimes >= lktimes) {
	    	_Q("#prompt").text(_Q(".modehidename_1").html()+"不能大于"+_Q(".modehidename_2").html()+"！");
			return false;
	    }
	    if(beginTime == ""){
	    	_Q("#prompt").text(_Q(".modehidename_1").html()+"不能为空！");
			return false;
	    }
	    if(endTime == ""){
        	_Q("#prompt").text(_Q(".modehidename_2").html()+"不能为空！");
			return false;
        }
	    var nowT = nowD_.getTime();
	    if(starttimes<nowT){
	    	if(lktimes<nowT){
	    		_Q('#aps_type').val(0);
	    	}else{
	    		_Q('#aps_type').val(1);
	    	}
	    }
	    if(asp_type == 1){
		    if(starttimes>nowD_.getTime()){
	        	//_Q("#prompt").text("实际种植开始日期不能大于今天！");
	        	//return false;
	        }
		    if(lktimes<nowD_.getTime()){
	        	//_Q("#prompt").text("实际种植结束日期不能小于今天！");
	        	//return false;
	        }
	    }
	    if(asp_type == 0){
	    	if(lktimes>nowD_.getTime()){
	        	//_Q("#prompt").text("历史种植结束日期不能大于今天！");
	        	//return false;
	        }
	    }
	    if(plantarea == 0){
        	_Q("#prompt").text("种植面积不能为0！");
			return false;
        }
	    if(plantarea == ""){
	    	_Q("#prompt").text("种植面积不能为空！");
			return false;
	    }
	    //if(parseFloat(plantarea) > parseFloat(_Q("#tunnel_area").val())){
	    //	_Q("#prompt").text("种植面积不能大于区域面积！");
		//	return false;
	    //}
	    
	    if(edittype == 1){
	    	if(parseFloat(plantarea) > allarea){
	            _Q("#prompt").text("种植面积不能大于剩余种植面积！");
				return false;
	        }
	    }else{
	    	if(parseFloat(plantarea) > allarea){
	            _Q("#prompt").text("种植面积不能大于剩余种植面积！");
				return false;
	        }
	    }
	    if(_Q("#modelId").val()==""||_Q("#modelId").val()==0){
	    	_Q("#prompt").text("请先预估每月产量！");
			return false;
	    }
	    var year = parseInt(_Q("#checkStart").val(),10)<parseInt(_Q("#checkMonth").val())?arr[0]:parseInt(arr[0],10)+1;
		var date1 = new Date(arrs[0],parseInt(arrs[1],10)-1,arrs[2]);
		var date2 ;
		if(_Q("#checkDays").val()==3){
			date2 = new Date(year,_Q("#checkMonth").val(),0);
		}else {
			date2 = new Date(year,(_Q("#checkMonth").val()-1),_Q("#checkDays").val()*10);
		}
		var month1 = parseInt(arr[0]) * 12 + parseInt(arr[1]);
		var month2 = parseInt(arrs[0]) * 12 + parseInt(arrs[1]);
		var cha = Math.abs(month2 - month1);
		if(cha<12){
		    if(date1>date2){
		    	_Q("#prompt").text("结束时间未在模型区间内！");
		    	return false;
		    }
		}
		_Q('#model_name').val(_Q("#env_name").val()+'-'+_Q("#plant_standard option:selected").html()+'-'+arr[1]+'-'+arr[2]);
		
	   return true;
}

function openTestList(){
	_Q(".tcdtext").html("检测记录");
	if(_Q("#test_list_ tr").length==1){
		_Q(".dk_tdiv").hide();
		updateTest();_Q('.editinfo_').scrollTop(0);
		_Q('.editinfo_').scrollTop(0);
		BtPopload('pop');
		return false;
	}
	_Q(".dk_tdiv").hide();
	_Q(".test_list").show();
	BtPopload('pop');
}

function updateTest(){
	_Q(".dk_tdiv").hide();
	_Q(".editinfo_").show();
}

function lookTest_(){
	_Q(".dk_tdiv").hide();
	_Q(".testinfo_").show();
}

function openSoilList(){
	_Q(".tcdtext").html("土地使用记录");
	if(_Q("#soil_list_ tr").length==1){
		_Q(".dk_tdiv").hide();
		addSoil();
		BtPopload('pop');
		return false;
	}
	_Q(".dk_tdiv").hide();
	_Q(".soil_list").show();
	BtPopload('pop');
}

function lookSoil(){
	//_Q("#soil_end option[value='2014']")
	_Q(".soil_1").html(arguments[0]);
	_Q(".soil_2").html(arguments[1]);
	if(arguments[2]!='')
		_Q(".soil_3").html(arguments[2]+"年");
	else
		_Q(".soil_3").html('');
	if(arguments[3]!='')
		_Q(".soil_4").html(arguments[3]+"年");
	else
		_Q(".soil_4").html("");
	_Q(".soil_5").html(arguments[4]);
	_Q(".soil_6").html(arguments[5]);
	var str = _Q("#soil_pollution_status option[value='"+arguments[6]+"']").html();
	_Q(".soil_7").html(str);
	_Q(".soil_8").html(arguments[7]);
	_Q(".soil_9").html(arguments[8]);
	_Q(".soil_10").html(arguments[9]);
	if(arguments[10]!="")
		_Q(".soil_11").html(arguments[10]+"cm");
	else
		_Q(".soil_11").html("");
	_Q(".dk_tdiv").hide();
	_Q(".soilinfo_").show();
}

function addSoil(){
	_Q("#soil_id").val("");
	_Q("#soil_partitionId").val(_Q("#partition_id").val());
	_Q("#soil_partitionName").val(_Q("#partition_name").val());
	
	_Q("#soil_type1")[0].selectedIndex = 0;
	_Q("#soil_type1").selectpicker('refresh');
	
	
	_Q("#soil_type2")[0].selectedIndex = 0;
	_Q("#soil_type2").selectpicker('refresh');
	
	_Q("#soil_begin").val(yea);
	_Q("#soil_begin").selectpicker('refresh');
	
	_Q("#soil_end").val(yea);
	_Q("#soil_end").selectpicker('refresh');
	
	_Q("#soil_ph").val("7");

	_Q("#thickness_soil").val("0");
	
	_Q("#soil_route_of")[0].selectedIndex = 0;
	_Q("#soil_route_of").selectpicker('refresh');
	
	_Q("#soil_pollution_status")[0].selectedIndex = 0;
	_Q("#soil_pollution_status").selectpicker('refresh');
	
	_Q("#soil_description").val("");
	_Q("#soil_pollution_level").val("");
	_Q("#soil_repair_status").val("");
	_Q(".dk_tdiv").hide();
	_Q(".editsoil_").show();
}

function editSoil(){
	_Q("#soil_id").val(arguments[0]);
	_Q("#soil_type1").val(arguments[1]);
	_Q("#soil_type1").selectpicker('refresh');
	
	_Q("#soil_type2").val(arguments[2]);
	_Q("#soil_type2").selectpicker('refresh');
	
	_Q("#soil_begin").val(arguments[3]);
	_Q("#soil_begin").selectpicker('refresh');
	
	_Q("#soil_end").val(arguments[4]);
	_Q("#soil_end").selectpicker('refresh');
	
	_Q("#soil_ph").val(arguments[5]);

	_Q("#thickness_soil").val(arguments[11]);
	
	_Q("#soil_route_of").val(arguments[6]);
	_Q("#soil_route_of").selectpicker('refresh');
	
	_Q("#soil_pollution_status").val(arguments[7]);
	_Q("#soil_pollution_status").selectpicker('refresh');
	
	_Q("#soil_description").val(arguments[10]);
	_Q("#soil_pollution_level").val(arguments[8]);
	_Q("#soil_repair_status").val(arguments[9]);
	_Q(".dk_tdiv").hide();
	_Q(".editsoil_").show();
}

function checkSoil(){
	
	var start = _Q("#soil_begin").val();
	var end = _Q("#soil_end").val();
	if(start>end){
		alert("起始时间不能大于结束时间!");
		return false;
	}
	var obj = document.getElementById("soil_ph");
	var test = /^[+]?(([1-9]\d*[.]?)|(0.))(\d{0,2})?$/;
	var a = parseFloat(obj.value);
	if(!test.test(obj.value)||a<=0||a>14){
		alert("请填写0--14之间的数字!");
		return false;
	}

	var th_soil = document.getElementById("thickness_soil");
	var b = parseFloat(th_soil.value);
	if(b==0){
		
	}else if(!test.test(th_soil.value)){
		alert("抱歉，土层厚度数值应为正数，小数点后保留2位，请重新输入。");
		return false;
	}

	var a=_Q('#thickness_soil').val().split('.');
	if(a[0].length>6){
		alert("土层厚度整数不能大于6位数");
		return false;
	}
	return true;
}

function chechOpen(){
	if(_Q(".dk_zz_li").length==3){
		_Q(".dk_addn").show();
	}else if(_Q(".dk_zz_li").length>3){
		_Q(".dk_addn").show();
		_Q(".dk_listh").show();
	}else{
		_Q(".dk_addn").hide();
		_Q(".dk_listh").hide();
	}
}

function checkfloat(val){
	var test = /^[+]?(([1-9]\d*[.]?)|(0.))(\d{0,2})?$/;
	if(!test.test(val)){
		return false;
	}
	return true;
}

function checkint(val){
	var test = /^\d*$/;
	if(!test.test(val)){
		return false;
	}
	return true;
}

function checkSeeds(){

	var seeds_weight = _Q("#seeds_weight").val();
	if(seeds_weight!=""){
		if(!checkint(seeds_weight)){
			alert("千粒/重需填写数字");
			return false;
		}
	}

	var seeds_shelfLife = _Q("#seeds_shelfLife").val();
	if(seeds_shelfLife!=""){
		if(!checkint(seeds_shelfLife)){
			alert("保质期需填写数字");
			return false;
		}
	}

	return true;
}

function checkCost(){
	
	var cost_date = _Q("#costForm\\:cost_dateInputDate").val();
	if(cost_date ==""){
		alert("请填写日期");
		return false;
	}
	var cost_name = _Q("#cost_name").val();
	if(cost_name==""){
		alert("请填写名称!");
		return false;
	}
	var cost_number = _Q("#cost_number").val();
	if(cost_number==""){
		alert("请填写数量");
		return false;
	}else{
		if(!checkfloat(cost_number)){
			alert("请填写正确的数量");
			return false;
		}
	}

	var cost_unit_price = _Q("#cost_unit_price").val();
	if(cost_unit_price==""){
		alert("请填写单价!");
		return false;
	}else{
		if(!checkfloat(cost_unit_price)){
			alert("单价填写数字");
			return false;
		}
	}
	return true;
}

function begin_end(){
	var a = _Q("#model_begintime").val();
	var b = _Q("#model_endtime").val();
	a = parseInt(a,10);
	b = parseInt(b,10);
	var arr = [];
	if(b>=a){
		for(var i = a ;i<=b;i++){
			arr.push(i);
		}
	}else if(b<a){
		for(var i = a ;i<=12;i++){
			arr.push(i);
		}
		for(var i = 1 ;i<=b;i++){
			arr.push(i);
		}
	}
	_Q(".semxnene input").each(function(){
		for(var i = 0;i<arr.length;i++){
			if(arr[i]==_Q(this).attr("name").replace("month","")){
				break;
			}else if(i==arr.length-1){
				_Q(this).val("");
			}
		}
	});
}

function checkR(){
	if(_Q('.dk_zz_li').length==0){
		alert("请先添加种植!");
		return false;
	}
	return true;
}

function checkHarvest(){
	if(_Q("#har\\:har_timeInputDate").val()==""){
		alert("请选择采收日期!");
		return false;
	}
	
	if(_Q("#har_must").val()==""){
		alert("请填写必采收量!");
		return false;
	}else if(!checkfloat(_Q("#har_must").val())){
		alert("必采收量需填写数字!");
		return false;
	}
	
	if(_Q("#har_may").val()==""){
		alert("请填写可采收量!");
		return false;
	}else if(!checkfloat(_Q("#har_may").val())){
		alert("可采收量需填写数字!");
		return false;
	}
	
	if(_Q("#har_weight").val()==""){
		alert("请填写采收量!");
		return false;
	}else if(!checkfloat(_Q("#har_weight").val())){
		alert("采收量需填写数字!");
		return false;
	}
	
	return true;
}

function selectPreHarvest_next(data){
	var sp = data.split("+__");
	_Q("#har_may").val(sp[0]);
	_Q("#har_must").val(sp[1]);
}

function editHarvest(){
	_Q(".tcdtext").html("采收管理");
	_Q("#har_weight").val(arguments[4]);
	//_Q("#har_person").val("");
	_Q("#har\\:har_timeInputDate").val(arguments[1]);
	_Q("#har_time_id").val(arguments[5]);
	_Q("#har_id").val(arguments[0]);
	_Q("#har_must").val(arguments[2]);
	_Q("#har_may").val(arguments[3]);
	_Q(".har_tim1").hide();
	_Q(".har_tim2").html(arguments[1]);
	_Q(".har_tim2").show();
	_Q("#har_type").val(2);
	_Q(".dk_tdiv").hide();
	_Q(".harvest_").show();
	if(_Q("#har_time_id").val()=="0"){
		_Q("#har_time_id").val("");
	}
	if(_Q("#har_id").val()=="0"){
		_Q("#har_id").val("");
		_Q("#har_type").val(1);
	}
	BtPopload('pop');
}

function deleteHarvest(id,obj){
	//_Q(obj).closest("tr").remove();
	deleteHarvest_next(id);
}

function mouseon(obj){
	_Q(obj).next('.pc_name').parent('div').css('z-index','100');
	_Q(obj).next(".pc_name").find('.pc_p2').show();
}
function mouseout(obj){
	_Q(obj).next('.pc_name').parent('div').css('z-index','4');
	_Q(obj).next(".pc_name").find('.pc_p2').hide();
}
function checkOperate(){
	var type = _Q("#operate_type").val();
	if(type==0){
//		if(_Q("#aai_farmId").val()==null){
//			alert("请选择操作人!");
//			return false;
//		}
		if(_Q("#aai\\:aai_startTInputDate").val()==""){
			alert("请填写操作时间!");
			return false;
		}		

		if(_Q("#work_time").parent().css('display')!='none'){
			var rtime=_Q("#work_time").val();
			if(_Q("#work_time").val()==""){
				alert("请填写工时!");
				return false;
			}	
		}

		if(_Q("#record_temp").parent().css('display')!='none'){
			var temp = _Q("#record_temp").val();
			if(isNaN(temp)){
				alert("环境温度请填写数字!");
				return false;
			}
			var humi = _Q("#record_humi").val();
			if(isNaN(humi)){
				alert("环境湿度请填写数字!");
				return false;
			}
			if(isNaN(rtime)){
				alert("工时请填写数字!");
				return false;
			}else{
				rtime = parseFloat(rtime);
				if(rtime>200){
					alert("工时不能超过200!");
					return false;
				}
			}	
		}	

		if(_Q("#record_costing").parent().css('display')!='none'){
			var costing = _Q("#record_costing").val();
			if(isNaN(costing)){
				alert("其他成本请填写数字!");
				return false;
			}else{
				costing = parseFloat(costing);
				if(costing>1000000){
					alert("其他成本不能超过1000000!");
					return false;
				}
			}
		}
	}else{
//		if(_Q("#aai_farmId2").val==null){
//			alert("请选择操作人!");
//			return false;	
//		}
		if(_Q("#aai\\:arh_sendTimeInputDate").val()==""){
			alert("请填写预计时间!");
			return false;
		}

		if(_Q("#record_costing2").parent().css('display')!='none'){
			var costing = _Q("#record_costing2").val();
			if(isNaN(costing)){
				alert("其他成本请填写数字!");
				return false;
			}else{
				costing = parseFloat(costing);
				if(costing>1000000){
					alert("其他成本不能超过1000000!");
					return false;
				}
			}
		}
	}
	
	return true;
if(_Q("#operate_type").val()==0){
	var k = _Q("#aai\\:aai_startTInputDate").val();
	var j = _Q("#aai\\:aai_endTInputDate").val();
	if(k==""){
		alert("请填写操作时间!");
		return false;
	}
	if(j==""){
		alert("请填写结束时间!");
		return false;
	}
	var kk = k+":00";
	var jj = j+":00";
	 var d1 = new Date(kk.replace(/\-/g, "\/")); 
	 var d2 = new Date(jj.replace(/\-/g, "\/")); 
	//alert(d1);
	//alert(d2);
	if(d1>d2){
		alert("结束时间需要大于开始时间!");
		return false;
	}
}
	return true;
}
function submitAgr(data){
	if(""!=data){
		alert(data);			
	}else{
		closeDoor();setTimeout(function(){calen(0);},1);					
	}
}
function addInputs(){
	getGoodsCode('投入品','5');//生成编号
	_Q("#input_description").not("[type='button']").val("");
	_Q(".inputs_ input").not("[type='button']").val("");
	if(inputsType==2){
		_Q(".inpu").hide();
		_Q("#input_type").val(2);
		_Q(".input_pest").show();
	}else if(inputsType==3){
		_Q(".inpu").hide();
		_Q(".input_fert").show();
		_Q("#input_type").val(3);
	}else if(inputsType==4){
		_Q(".inpu").hide();
		_Q(".input_other").show();
		_Q("#input_type").val(4);
	}
	_Q(".dk_tdiv").hide();
	_Q(".inputs_").show();
	hidee();
	_Q(".inputs_").scrollTop(0);
	BtPopload('pop');
}

function updateInputs_next(data){
	if(data&&data.length>0){
		if(_Q("#input_type").val()==2){
			_Q("#pest_inputs").append(data);
    		_Q("#pest_inputs").selectpicker('refresh');
    		 _Q(".dk_tdiv").hide();
	       		_Q(".pest_").show();
		}else if(_Q("#input_type").val()==3){
			 _Q("#fert_inputs").append(data);
	    		_Q("#fert_inputs").selectpicker('refresh');
	    		 _Q(".dk_tdiv").hide();
		       		_Q(".fert_").show();
		}else if(_Q("#input_type").val()==4){
			_Q("#other_inputs").append(data)
    		_Q("#other_inputs").selectpicker('refresh');
    		 _Q(".dk_tdiv").hide();
	       		_Q(".other_").show();
		}
	}
}

function returnInputs_(){
	_Q(".dk_tdiv").hide();
	_Q(".pest_").show();
}
var reg = new RegExp("^[0-9]*$");
function checkInput(){
	var type=_Q("#input_type").val();	
	if(type==2){
		_Q("#input_facture").val(_Q("#input_facture2").val());
	}else if(type==3){
		_Q("#input_facture").val(_Q("#input_facture3").val());
	}else if(type==4){
		_Q("#input_facture").val(_Q("#input_facture4").val());
	}
	
	if(_Q("#input_shelfLife").val()!=""){
		if(!reg.test(_Q("#input_shelfLife").val())){
			alert("请正确填写保质期!");
			return false;
		}
	}
	if(_Q("#pest_interval").val()!=""){
		if(!reg.test(_Q("#pest_interval").val())){
			alert("请正确填写安全间隔期!");
			return false;
		}
	}
	var v = _Q("#myframe").contents().find("#url").val();
	_Q("#url").val(v);
	return true;
}

function changeYield(obj){
	var area = _Q("#plant_area").val();
	if(obj.value==1){
		_Q(".semxnene input").each(function(){
			var val = _Q(this).val()
			if(val!=""){
				var tempv = parseFloat(val)/parseFloat(area);
				tempv = tempv.toFixed(2);
				_Q(this).val(tempv);
			}
		});
	}else if(obj.value==2){
		_Q(".semxnene input").each(function(){
			var val = _Q(this).val()
			if(val!=""){
				var tempv = parseFloat(val)*parseFloat(area);
				tempv = tempv.toFixed(2);
				_Q(this).val(tempv);
			}
		});
	}
}

Date.prototype.format = function(format)
{
	var o = {
	"M+" : this.getMonth()+1, //month
	"d+" : this.getDate(),    //day
	"h+" : this.getHours(),   //hour
 	"m+" : this.getMinutes(), //minute
	"s+" : this.getSeconds(), //second
 	"q+" : Math.floor((this.getMonth()+3)/3),  //quarter
 	"S" : this.getMilliseconds() //millisecond
	}

	if(/(y+)/.test(format)) 
	{
		format=format.replace(RegExp.$1,(this.getFullYear()+"").substr(4 - RegExp.$1.length));
	}
	
 	for(var k in o)
	{
		if(new RegExp("("+ k +")").test(format))
		{
 			format = format.replace(RegExp.$1,RegExp.$1.length==1 ? o[k] : ("00"+ o[k]).substr((""+ o[k]).length));
		}
	}
	return format;
}
//]]>
</script>
</h:panelGroup>
<style>
textarea{outline:none;}
.radio, .checkbox {
    min-height: 19px;
}
#pest_inputs-button,#fert_inputs-button,#other_inputs-button{float:left}

.r_c_table {
    margin-left: auto;
    margin-right: auto;
}
	#calendar {
		width: 97%;
		float:left;
		}
		.rich-calendar-exterior tr td{height:auto;}
		.rich-calendar-exterior  tr td {
    height: auto;
    line-height:20px;
    padding-left: 0;
    padding-right: 0;
}
.rich-calendar-time-layout  span {
    background: none;
    float: none;
    font-weight: normal;
    height:10px;
    line-height:10px;
    padding-left: 3px;
}
.ze_bg2 {
    color: #6c6a6b;
    font-size: 13px;
    text-align: center;
}
.pc_p2 {
    display: none;
    margin-left: 30px;
    margin-top: -111px;
    position: absolute;
    z-index: 20;
}
.box_back{background:url(../asset/images/bg_png3.png) repeat; width:100%; height:100%; position:fixed; z-index:8888; display:none;}
.dk_data_bg02{ background:url(../asset/images/dk_data_bg02.jpg) repeat; border-bottom:1px solid #e1e6ec; }
</style>          
<style>
.datetimepicker-dropdown-bottom-left:before {
    border-bottom: 7px solid rgba(0, 0, 0, 0.2);
    border-left: 7px solid transparent;
    border-right: 7px solid transparent;
    content: "";
    display: inline-block;
    position: absolute;
    right: 6px;
    top: -7px;
}
.datetimepicker-dropdown-bottom-left:after {
    border-bottom: 6px solid #ffffff;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
    content: "";
    display: inline-block;
    position: absolute;
    right: 7px;
    top: -6px;
}
.sw170{width:170px;}
.sw170 .bootstrap-select:not([class*="span"]):not([class*="col-"]):not([class*="form-control"]):not(.input-group-btn) {
    width: 170px;
}


.icon-th {
    background-position: -240px 0;
}
.form_datetime input{border:1px solid #CCC; height:30px; line-height:30px;width:170px}
.icon-arrow-left { background-position: -240px -96px; } .icon-arrow-right { background-position: -264px -96px; } .dropdown-menu { position: absolute; top: 100%; left: 0; z-index: 1000; display: none; float: left; min-width: 160px; padding: 5px 0; margin: 2px 0 0; font-size: 14px; text-align: left; list-style: none; background-color: #fff; -webkit-background-clip: padding-box; background-clip: padding-box; border: 1px solid #ccc; border: 1px solid rgba(0, 0, 0, .15); border-radius: 4px; -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, .175); box-shadow: 0 6px 12px rgba(0, 0, 0, .175); } .form_datetime input { border: 1px solid #ccc; height: 30px; line-height: 30px; }
.input-append.date .add-on i, .input-prepend.date .add-on i {
  cursor: pointer;
    height: 14px;
    margin-left: -41px;
    margin-top:9px; /* IE8支持 */ 
    width: 14px;
}
@media all and (-webkit-min-device-pixel-ratio:0){
.add-on {height:14px;
position: relative;
z-index:10;
display: block;
}

.all_da .add-on {height:14px;
position: relative;
z-index:10;
top:-29px;
display: block;

}
 .input-append.date .add-on i, .input-prepend.date .add-on i {
  cursor: pointer;
    height: 14px;
    /*margin-left: -49px;*/  
    width: 14px;
 
 }
}

.map_sele4 li{ float: none;
    height: 26px;
    margin-right: 0px;
    width:auto;
   }
.add-on{height: 14px; float: left; position: relative; z-index: 10; left: 194px;

}

.farmingInputs_mini{ position:absolute; top:54px; left:0; z-index:10; width:346px; border:1px solid #e5e5e5; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5); background-clip: padding-box; background-color: #fff; border: 1px solid rgba(0, 0, 0, 0.2); border-radius:6px; outline: 0 none;}
.farmingInputs_mini{ display:none;}
.farmingInputs_miniHd{ overflow:hidden; border-bottom:1px solid #e5e5e5; min-height:16.43px; padding:15px;}
.farmingInputs_miniHd h3{ float:left; font-size:14px; margin:0;}
.farmingInputs_miniHd .butt{ float:right; width:11px; height:11px; margin-top:3px; background:url(../asset/images/farmingIco16.jpg) no-repeat; border:none; zoom:1;}
.farmingInputs_miniHd .butt:hover, .farmingInputs_miniHd .butt:focus{ background-image:url(../asset/images/farmingIco17.jpg); zoom:1;}
.farmingInputs_miniBd{ position:relative; padding:20px 15px 0;}
.farmingInputs_miniBd .bootstrap-select.btn-group:not(.input-group-btn), .bootstrap-select.btn-group[class*="span"]{ float:left; display:inline; margin-right:5px;}
.farmingInputs_miniBd .bootstrap-select > .btn-{width:inherit; padding:7px 12px;}
.farmingInputs_add2{ float:left; width:34px; height:34px; background:url(../asset/images/farmingIco14.jpg) no-repeat; border:none;}
.farmingbgIco18{ width:64px; height:30px; line-height:30px; border:none; padding:0 10px 0 12px; font-size:12px; zoom:1; background:none; float:left;}
.farmingInputs_add3{ float:left; width:130px; height:130px;background:url(../asset/images/farmingIco15.jpg) no-repeat; border:none;}
.farmingInputs_miniFt{ padding:15px; border-top: 1px solid #e5e5e5; text-align:right; overflow:hidden;}
.farmingInputs_miniFt .butt{ margin-left:5px; float:right;}

.farmingInputs{ position:relative; width:130px; margin-right:10px;}
.farmingInputs .closeInputs{ display:none; position:absolute; right:0; top:0; width:27px; height:23px; cursor:pointer;}
.farmingInputs_pic{ width:130px; color:#323232;}
.farmingInputs_pic:hover{ color:#323232;}
.farmingInputs_pic img{ width:128px; height:128px; border:1px solid #ddd; border-radius:5px;}
.farmingInputs_pic p{ padding-top:2px; margin-bottom:0; line-height:20px; text-align:center; }
</style>
<script type="text/javascript">BtPopHide("close","pop")</script>    
<script type="text/javascript" src="../asset/js/highcharts/highstock.js"></script>
<script type="text/javascript">
//<![CDATA[
function  plottable() { 
	var colors = Highcharts.getOptions().colors, 
		categories = harvestName, 
		name = '采收量', 
		data = harvestStr; 
	function setChart(name, categories, data, color) { 
		chart.xAxis[0].setCategories(categories, false); 
		chart.series[0].remove(false); 
		chart.addSeries({ 
			name: name, 
			data: data, 
			color: color || 'white' 
		}, false); 
		chart.redraw(); 
	} 
	var chart = _Q('#rainfallDevice').highcharts({ 
		chart: { type: 'column' }, 
		title: { text: '采收量' }, 
		xAxis: { categories: categories,min:0,max:5}, 
		scrollbar: {enabled: true},
		yAxis: { title: { text: '采收量' } ,min:0}, 
		plotOptions: { 
			column: { 
				cursor: 'pointer', 
				dataLabels: { 
					enabled: true, 
					color: colors[0], 
					style: { fontWeight: 'bold' }, 
					formatter: function() { 
						return this.y ; 
						} 
				} 
			} 
		}, 
		tooltip: { 
			formatter: function() {
				 var point = this.point, 
				 	 s = this.x +' 采收：<b>'+ this.y +' KG</b><br>'; 
				 return s; 
			} 
		}, 
		series: [{ 
			name: name, 
			data: data, 
			color: 'white' 
		}], 
		exporting: { 
			enabled: false 
		} }) 
		.highcharts(); // return chart 
	}
	
	function checkAmount(val){
		var test = /^\d+(\.\d*)?$/
			if(!test.test(val)){
				alert("请填写正确使用量!");
				return false;
			}
			return true;
	}
	function addRecord(){
		//将投入品信息置为默认值
		_Q('#inputType').selectpicker('val',2);
		_Q("#searchInputText").val("");
		_Q("#addInputsTable .Output_tr").remove();
		searchInputs(1);

		_Q("#addInputRecord").show();
	}
	function changeRoom_next(data){
		var inputsId=data.inputsInfoId;   
		var goodsBatchSel="<select class='selectpicker' multiple='multiple' onchange='changeGoodsBatch(this,"+inputsId+")'>";
		var farmerInfoSel="<select class='selectpicker' >";

		if(typeof(data.goodsBatch) != "undefined"){
			goodsBatchSel+=data.goodsBatch;
		}
		if(typeof(data.farmerInfo) != "undefined"){
			farmerInfoSel+=data.farmerInfo;
		}  	
		if(typeof(data.goodsCount) != "undefined"){
			_Q('#goodsCount_'+inputsId).html(data.goodsCount);
			_Q('#goodsCount_'+inputsId).attr("title",data.goodsCount);
		}  
		if(typeof(data.unitinfoId) != "undefined"){
			_Q('#unit_'+inputsId).val(data.unitinfoId);
		}  		
		goodsBatchSel+="</select>";
		farmerInfoSel+="</select>";	
		_Q('#batch_'+inputsId).html(goodsBatchSel);
		_Q('#farmer_'+inputsId).html(farmerInfoSel);
		_Q('.selectpicker').selectpicker();	
	}
	function changeGoodsBatch_next(data){
		var inputsId=data.inputsInfoId; 
		var msg=data.promptMessage;   
		if(typeof(data.goodsCount) != "undefined"){
			_Q('#goodsCount_'+inputsId).html(data.goodsCount);
			_Q('#goodsCount_'+inputsId).attr("title",data.goodsCount);
		}   
		if(msg!=""){
			alert("请选择同一单位的入库批次!");
			var goodsBatchids=_Q("#batch_"+inputsId+" select").val().toString();
			var batchValue=goodsBatchids.replace(","+msg,"").split(",");
			_Q("#batch_"+inputsId+" select").selectpicker('val',batchValue);			
		}
	}

	function saveRecord(){
		var str = '<div class="farmingInputs fl" style="float:left"><a class="farmingInputs_pic" href="javascript:;"><img src="imgurl" width="128" height="128" /><p>info_infokg或ml</p></a>'+
        '<em class="closeInputs" onclick="delRecordList(this)"><img src="#{request.contextPath}/asset/images/clo_04.jpg" /></em>'+
        '<input type="hidden" name="jiluid" value="jiluid"/><input type="hidden" value="jilusl" name="jilusl"/></div>';
        
        var str2 = '<div class="farmingInputs fl" style="float:left"><a class="farmingInputs_pic" href="javascript:;"><img src="imgurl" width="128" height="128" /><p>info_infokg或ml</p></a>'+
        '<em class="closeInputs" onclick="delRecordList(this)"><img src="#{request.contextPath}/asset/images/clo_04.jpg" /></em>'+
        '<input type="hidden" name="jihuaid" value="jihuaid"/><input type="hidden" value="jihuasl" name="jihuasl"/></div>';
        
        //jilulist
		var type = _Q("#operate_type").val();
        if(_Q("#record_used").val()==""){
        	alert("请填写使用量!");
        	return false;
        }
        var obj = _Q("#record_input option:selected");
        var used = _Q("#record_used").val();
        if(type==0){
        	str = str.replace("imgurl",obj.attr("aa"));
        	str = str.replace("info_info",obj.text()+""+used+" ");
        	str = str.replace('value="jiluid"','value="'+obj.val()+'"');
        	str = str.replace('value="jilusl"','value="'+used+'"');
        	_Q(str).insertBefore("#jilulist");
        }else{
        	str2 = str2.replace("imgurl",obj.attr("aa"));
        	str2 = str2.replace("info_info",obj.text()+""+used+" ");
        	str2 = str2.replace('value="jihuaid"','value="'+obj.val()+'"');
        	str2 = str2.replace('value="jihuasl"','value="'+used+'"');
        	_Q(str2).insertBefore("#jihualist");
        }
        _Q("#addInputRecord").hide();
	}
	function submitRecord(){		
		var trLength=jQuery("#addInputsTable tr").length;
		if(trLength<=1){
			alert("请选择投入品！");
			return false;
		}
		var inputsRecordStr='{"inputsDatas":[';
	   	for(var i=1;i<trLength;i++){   	   	
	   		var inputsId=jQuery("#addInputsTable tr:eq("+i+") td:eq(0) input:eq(0)").val();
	   		var unitId=jQuery("#addInputsTable tr:eq("+i+") td:eq(0) input:eq(1)").val();
	   		var inputsName=jQuery("#addInputsTable tr:eq("+i+") td:eq(1) p").html();
	   		var useNum=jQuery("#addInputsTable tr:eq("+i+") td:eq(3) input:eq(0)").val();
	   		var cost=jQuery("#addInputsTable tr:eq("+i+") td:eq(4) input:eq(0)").val();
	   		var roomId=jQuery("#addInputsTable tr:eq("+i+") td:eq(5) select").val();
	   		var batchId=jQuery("#addInputsTable tr:eq("+i+") td:eq(6) select").val();
	   		var farmerId=jQuery("#addInputsTable tr:eq("+i+") td:eq(7) select").val();
	   		var goodsCount=jQuery("#addInputsTable tr:eq("+i+") td:eq(8)").html();
				
	   		if(""==goodsCount){
	   			goodsCount=0;
	   		}
	   		if(null==useNum || ""==useNum){
	   			alert(inputsName+"的使用量不能为空！");
	   			return false;
	   		}else if(!isFloat(useNum)){
	   			alert("请输入正确的"+inputsName+"使用量！");
	   			return false;
	   		}else if(parseFloat(useNum)>9999999){
	   			alert(inputsName+"的使用量不能大于9999999！");
	   			return false;
	   	   	}
	   		if(null==cost || ""==cost){
	   			alert(inputsName+"的成本不能为空！");
	   			return false;
	   		}else if(!isFloat(cost)){
	   			alert("请输入正确的"+inputsName+"成本！");
	   			return false;
	   		}else if(parseFloat(cost)>9999999){
	   			alert(inputsName+"的成本不能大于9999999！");
	   		   	return false;
	   		}
	   		if("0"!=roomId){		
	   			if(null==batchId || ""==batchId){
	   				alert(inputsName+"的入库批次不能为空！");
	   				return false;
	   			}
	   			if(null==farmerId || ""==farmerId){
	   				alert(inputsName+"的经办人不能为空！");
	   				return false;
	   			}
	   			if(parseFloat(useNum)>parseFloat(goodsCount)){
	   				alert(inputsName+"库存不足，请重新输入使用量！");
	   				return false;
	   			} 			
	   		}	
	   		inputsRecordStr+= "{'inputsId':'" +inputsId + "','useNum':'"+ useNum +"','cost':'"+ cost +"','roomId':'"+ roomId +
				"','batchId':'"+ batchId +"','farmerId':'"+ farmerId +"','unitId':'"+ unitId +"'},";		
	   	}
	   	inputsRecordStr = inputsRecordStr.substring(0, inputsRecordStr.length-1) + ']}';
	   	jQuery("#record_\\:inputsInfoData").val(inputsRecordStr);
	 	 var showHid=jQuery("#home").css("display");
		 if(showHid=="block"){//农事
			 jQuery("#agricultralType").val("1");
		 }else{
			 jQuery("#agricultralType").val("2");
	     }	 	
		var type = _Q("#operate_type").val();	
		_Q("#agricultralType").val(type);		
		document.getElementById('record_:submitInputs').disabled = true;
		return true;
	}
	
	 function delRecordList(obj,index){
		 _Q('#login').show();
		 var type = _Q("#operate_type").val();
		 _Q(obj).parent().css('display','none');
		 delInputRecordList(index,type);
	}
	function jcSave(){
		var str="";
		jQuery('#test\\:editinfo').find(':input').each(function(){
			var test = /^\d+(\.\d{1,2})?$/
			  if(jQuery(this).attr('class').indexOf('noh')==-1){
				  if(!test.test(jQuery(this).val()) && jQuery(this).val()!=""){
					  var name=jQuery(this).parent().prev().text();
					  str+=name.substring(0,name.length-1)+",";
			  		}
			  }

			})
		if(str!=""){
			alert(str.substring(0,str.length-1)+"只能为整数或保留2位的小数！")
			return false;
		}
		return true;
	}
	function addFarming(){
		jQuery("#pic\\:imgUrl").val(jQuery("#myframPic").contents().find("#imgUrl_id").attr("src","../asset/images/farmingIco15.jpg"));
		jQuery("#pic\\:contentId").val('');
		jQuery('#addMyFarming').show();
	} 
	function myPicUrl(){
    	jQuery("#pic\\:imgUrl").val(jQuery("#myframPic").contents().find("#imgUrl_id").attr("src"));
    	jQuery("#pic\\:picJson").val(jQuery("#myframPic").contents().find("#inputsImages\\:picJson").val());
    	jQuery('#addMyFarming').hide();
    	if(jQuery('#pic\\:contentId').val().length>70){
          	alert("图片说明字数需小于70字");
			return false;
         }
         if(jQuery("#myframPic").contents().find("#imgUrl_id").attr("src")=='../asset/images/farmingIco15.jpg'){
        	alert("上传图片不能为空！");
			return false;
	     }
		return true;
    }
	 function changeGoodsBatch_next1(obj){
	 	if(obj!=""){
	 		alert("请选择同一单位的入库批次!");
	 		var goodsBatchids=jQuery("#goodsBatch").val().toString();
	 		var batchValue=goodsBatchids.replace(","+obj,"").split(",");
	 		jQuery('#goodsBatch1').selectpicker('val',batchValue);			
	 	}
	 }
	 var beforeUnit="";
	 var goodsCount=0.0;
    function changeGoodsBatch(obj,inputsId){
        var batch=jQuery(obj).val();
        if(null==batch){
        	batch="";
        }  
        searchGoodsCount(batch.toString(),inputsId);
    }
    function isFloat(value){
	 	var mny =RegExp(/^([0-9]+(\.?))?[0-9]+$/);
	 	return mny.test(value);
	 }
	   function farpicref(data){
	       if(data != ""){
	
	       }else{
	    	jQuery('.farmingInputs').mouseover(function(){
	    		jQuery(this).children('.closeInputs').css('display','block');	
	       	});
	    	jQuery('.farmingInputs').mouseout(function(){
	    		jQuery(this).children('.closeInputs').css('display','none');	
	       	});
	       }
	   	
	   }  
	 //回调将生成的编号赋值给goodsCode
       function changeGoodsCode(goodsCode){
    	   document.getElementById("input_code").value=goodsCode;
       }   
	  	function changeRoom(room,inputsId){
	 		if(room=="0"){
	 			var goodsBatchSel="<select class='selectpicker' multiple='multiple' onchange='changeGoodsBatch(this,"+inputsId+")'></select>";
	 	    	var farmerInfoSel="<select class='selectpicker' ></select>";
	 			_Q('#batch_'+inputsId ).html(goodsBatchSel);
	 			_Q('#farmer_'+inputsId).html(farmerInfoSel); 	
	 			_Q('#goodsCount_'+inputsId).html("0"); 	
	 			_Q('#goodsCount_'+inputsId).attr("title",0);
	 			_Q('.selectpicker').selectpicker();			
	 		}else{
	 			changeStorageRoom(room,inputsId);
	 		}
	 	}

     //新版添加农事投入品------
   	window.onload = function (){
   		var searchStr = jQuery("#searchInfo_").val();
   		if(searchStr == "" || searchStr == null){
   			jQuery("#searchInfo_").val("请输入搜索条件");
   			jQuery("#searchInfo_").css("color","#a8a8a8");
   		}else if(searchStr == "请输入搜索条件"){
   			jQuery("#searchInfo_").css("color","#a8a8a8");
   		}else{
   			jQuery("#searchInfo_").css("color","#000");
   		}
   	}

   	//(1)删除投入品
   	function DeleteOutput(obj,inputsId){
   		jQuery(obj).parents('.Output_tr').remove();
   		jQuery("#check_"+inputsId).removeClass('checked');
   		//取消全选
   		if(jQuery("#mn_checkall").hasClass('checked')){   		
   			jQuery("#mn_checkall").removeClass('checked');
   		}
   		resetIndex();  	
   	}
   	//添加投入品，由于删除，添加操作序号变乱，重新排序
   	function resetIndex(){
   		var trLength=jQuery("#addInputsTable tr").length;
   		for(var i=1;i<trLength;i++){
   			jQuery("#addInputsTable tr:eq("+i+") td:eq(0) span").html(i);
   	}
   	}
   	//(2-1)投入品表格复选框，全选功能
   	function OutputCheckAll(obj,oparents){
   		if(jQuery(obj).hasClass('checked')){
   			//取消全选
   			jQuery(obj).removeClass('checked');
   			jQuery(oparents).find('td .mn_check').removeClass('checked');
   			//只取消本页的
   			//jQuery("#addInputsTable .Output_tr").remove();
   			var trLength=jQuery("#inputsTable tr").length;
   			for(var i=0;i<trLength;i++){
   				var inputIds=jQuery("#inputsTable tr:eq("+i+") td:eq(0) input:eq(0)").val();
   				jQuery("#addtr_"+inputIds).remove();
   			}
   			resetIndex();  	
   		}else{   		
   			//var trLength=jQuery("#inputsTable tr").length;
   			//全选时，判断没有选中的添加到投入品，已添加的不在查询
   			var inputIds="";   		
   			var noCheckObj=jQuery("#inputs_table").find('td .mn_check ').not(".checked");
   			var trLength=noCheckObj.length;
   			
   			for(var i=0;i<trLength;i++){
   				//inputIds+=jQuery("#inputsTable tr:eq("+i+") td:eq(0) input:eq(0)").val()+",";
   				inputIds+=jQuery(noCheckObj).eq(i).siblings("input:eq(0)").val()+",";
   	    } 
   	    if(trLength>1){
   	    	inputIds=inputIds.substring(0,inputIds.length-1);
   	    }
   			//如果是空，则是没有选中状态,点击后全选
   			jQuery(obj).addClass('checked');
   			jQuery(oparents).find('td .mn_check').addClass('checked');
   			//添加多个投入品，获取库存信息
   			changeGoodsInfo(inputIds);  
   			jQuery("#login").show();
   		}
   	}
   	var tableStr="";
   	//(2-2)如果有一个复选框没有选中，则全选按钮为取消状态，否则相反
   	function OutputCheck(obj,oparents,oAll,inputsId){
   		if(jQuery(obj).hasClass('checked')){
   			//取消全选
   			jQuery(obj).removeClass('checked');
   			//如果一个取消，那么全选为取消状态
   			jQuery(oAll).removeClass('checked');
   			jQuery('#addtr_'+inputsId).remove();
   			resetIndex();  	
   		}else{
   			jQuery(obj).addClass('checked');
   			//如果是空，则是没有选中状态,点击后选择
   			var allNum = jQuery(oparents).find('td .mn_check').length;
   			var allLen = jQuery(oparents).find('td .mn_check.checked').length;
   			//alert('allNum:'+allNum+'allLen:'+allLen)
   			//如果个数和选中的个数相等，则全选为选中状态
   			if(allLen == allNum){
   			jQuery(oAll).addClass('checked');
   			}else{
   			jQuery(oAll).removeClass('checked');
   			}
   			//添加一个投入品，获取库存信息
   			changeGoodsInfo(inputsId);    		
   			jQuery("#login").show();
   		}
   	}
   	//添加投入品-获取库存信息回调
   	function storageCallback(resultData){
	   	var inputList=resultData.result;
	   	_Q(inputList).each(function(index, data){
	   			var inputsId=data.inputsInfoId;
   		        var rowNum=jQuery("#addInputsTable tr").length;
   		    	var inputName=jQuery("#trp_"+inputsId+" td:eq(2) p").html();
   		    	var unitName=jQuery("#trp_"+inputsId+" td:eq(3) p").html();
   		    	var storageRoomSel="<select class='selectpicker'  onchange='changeRoom(this.value,"+inputsId+")'><option value='0'>无</option>";
   		    	var goodsBatchSel="<select class='selectpicker' multiple='multiple' onchange='changeGoodsBatch(this,"+inputsId+")'>";
   		    	var farmerInfoSel="<select class='selectpicker' >";
   		    	if(typeof(data.storageRoom) != "undefined"){
   		    		storageRoomSel+=data.storageRoom;
   		    	} 
   		    	if(typeof(data.goodsBatch) != "undefined"){
   		    		goodsBatchSel+=data.goodsBatch;
   		    	}
   		    	if(typeof(data.farmerInfo) != "undefined"){
   		    		farmerInfoSel+=data.farmerInfo;
   		    	}  	
   		    	storageRoomSel+="</select>";
   		    	goodsBatchSel+="</select>";
   		    	farmerInfoSel+="</select>";
   		    	
   		    	tableStr="<tr class=\"Output_tr\" id='addtr_"+inputsId+"'>"+
   			    	"<td class=\"br_bt br_rt\">"+
   		    			"<input type='hidden' value='"+inputsId+"'/>"+
   			    		"<input type='hidden' value='' id='unit_"+inputsId+"'/><span>"+rowNum+"</span></td>"+
		    		"<td class=\"br_bt br_rt\"><p class=\"ellipsis\" title='"+inputName+"'>"+inputName+"</p></td>"+
				    "<td class=\"br_bt br_rt\"><p class=\"ellipsis\" title='"+unitName+"'>"+unitName+"</p></td>"+
   			    	"<td class=\"br_bt br_rt\">"+
   			    		"<input class=\"Output_input\"></input>"+
   			    	"</td>"+
   			    	"<td class=\"br_bt br_rt\">"+
			    		"<input class=\"Output_input\" value='0'></input>"+
			    	"</td>"+
   			    	"<td class=\"br_bt br_rt\">"+
   				    	"<div class=\"Output_selectpicker\" id='room_"+inputsId+"'>"+storageRoomSel+"</div>"+
   			    	"</td>"+
   			    	"<td class=\"br_bt br_rt\">"+
   			    		"<div class=\"Output_selectpicker\" id='batch_"+inputsId+"'>"+goodsBatchSel+"</div>"+
   			    	"</td>"+
   			    	"<td class=\"br_bt br_rt\">"+
   						"<div class=\"Output_selectpicker\" id='farmer_"+inputsId+"'>"+farmerInfoSel+"</div>"+
   					"</td>"+
   			    	"<td class=\"br_bt br_rt\" style='overflow: hidden;' id='goodsCount_"+inputsId+"'>0</td>"+
   			    	"<td class=\"br_bt\">"+
   			    		"<a href=\"javascript:;\" onclick=\"DeleteOutput(this,"+inputsId+")\">删除</a>"+
   			    	"</td>"+
   		    	"</tr>";
   		    	_Q("#addInputsTable").append(tableStr);
	   		});    
	   	_Q('.selectpicker').selectpicker();			
	   	_Q("#login").hide();
   	}
   	//(3)获取焦点，失去焦点
   	function FocusFn(obj,oColor,txt_val){
   		if(jQuery(obj).val()==txt_val){
   			jQuery(obj).val('');
   			jQuery(obj).css('color',oColor)
   		}
   	}
   	function BlurFn(obj,oColor,txt_val){
   		if(jQuery(obj).val()==''){
   			jQuery(obj).val(txt_val);
   			jQuery(obj).css('color',oColor)
   		}
   	}
   	//投入品列表信息查询
   	function searchInputs(pageNum){
   		var dataStandard=jQuery("#dataStandard").val();
   		var inputType=jQuery("#inputType").val();
   		var searchText=jQuery("#searchInputText").val();
   		if(searchText=="请输入查询内容"){
   			searchText="";
   		}
   		searchInputsList(inputType,dataStandard,searchText,pageNum);
   		jQuery("#login").show();
   	}
   	//翻页
   	function inputsJump(inputsPageNum){
   		searchInputs(inputsPageNum);
   	}
   	function searchInputsList_next(){
   		var trLength=jQuery("#inputsTable tr").length;
   		for(var i=1;i<trLength;i++){
   			var inputIds=jQuery("#inputsTable tr:eq("+i+") td:eq(0) input:eq(0)").val();
   			if(jQuery("#addtr_"+inputIds).length>0){
   				jQuery("#check_"+inputIds).addClass('checked');
   			}
   		}
   		var allNum = jQuery("#inputs_table").find('td .mn_check').length;
   		var allLen = jQuery("#inputs_table").find('td .mn_check.checked').length;
   		//alert('allNum:'+allNum+'allLen:'+allLen)
   		//如果个数和选中的个数相等，则全选为选中状态
   		if(allLen == allNum && allNum>0){
   			jQuery("#mn_checkall").addClass('checked');
   		}else{
   			jQuery("#mn_checkall").removeClass('checked');
   		}
   		jQuery("#login").hide();
   	}
   	
   	var breed_select ;
	function initComplex(id,value){
		_Q('#breedBreedId').empty();
		if(typeof(id) == "undefined"){
			_Q('#breedBreedId').append("<option value=''></option>");
		}else{
			_Q('#breedBreedId').append("<option value='"+id+"'>"+value+"</option>");
		}
		
		
		
		breed_select = _Q('#breedBreedId').select2({
			language : "zh-CN",
			ajax : {
				url : "/rest/1.0/breedList",
				delay : 450,
				dataType : 'json',
				data : function(params) {
					var param = "";
					var page = "";
					if(typeof(params.term) != "undefined"){
						param = params.term;
						param = param.replace("'","\'");
					}
					if(typeof(params.page) != "undefined"){
						page = params.page;
					}
					return {
						'method' : 'breed_list',
						'field' : "{'enterprise_info_id':#{sessionTake.enterpriseInfoId},'search':'"+param+"','plant_id':"+_Q("#plant_plantId").val()+",'page':'"+page+"'}",
					};
				},
				processResults : function(data, params) {
					if(typeof(params.page) == "undefined"){
						params.page = 1
					}
					return {
						results : data.result_data,
						pagination : {
							more : (params.page * 50) < data.total_count
						}
					};
				}
			},
			escapeMarkup : function(markup) {
				return markup;
			}, // let our custom formatter work
			//minimumInputLength : 2,
			templateResult : formatData,
			templateSelection : formatDataSelection
		});
	}
	function formatData(result) {
		if (result.loading) return result.text;
			var html = '<div>'+result.text+'</div>';
	    return html;
	}

	function formatDataSelection(data) {
		if(data.id == "" || data.id == "-1")
			return '搜索品种的名称！';
		return data.text;
	}
//]]>
</script>
</td>    
<style>
.dk_tb03_li{width: 166px;}
</style>
</ui:define>

</ui:composition>
