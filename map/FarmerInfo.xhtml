<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	template="/layout/template_new2.xhtml">
	
<script type="text/javascript">
//<![CDATA[
           
jqyery(document).ready(function(){
	jqyery('.dk_data_bg02').hover(function(){
		jqyery(this).find('.pc_name').parent('div').css("z-index","100");
  		jqyery(this).find('.pc_p2').show();
 	},function(){
			jqyery(this).find('.pc_name').parent('div').css("z-index","4");
  		jqyery(this).find('.pc_p2').hide();
		
 	});
});
//]]>
</script>
<script type="text/javascript" src="js/tab.js"></script>
<script type="text/javascript">
jqyery(function(){
    jqyery(".qixtul").jTab({
        menutag: ".qixtul li",
        boxtag: ".chratdiv > ._chrat2",
        cur: 0
		
    });
});
jqyery(function(){
    jqyery(".noshiul").jTab({
        menutag: ".noshiul .noli",
        boxtag: ".nosidiv > div",
        cur: 0
		
    });
});
jqyery(function(){
    jqyery(".noshiul_cs").jTab({
        menutag: ".noshiul_cs .noli",
        boxtag: ".dk_cb07 > div",
        cur: 0
		
    });
});
//鼠标移上去编辑
jqyery(function(){
 jqyery('.dk_viwe').hover(function(){
  jqyery(this).find('.dkedit').show();
 },function(){
  jqyery(this).find('.dkedit').hide();
 })
})

jqyery(function(){
 jqyery('.dk_zz li').hover(function(){
  jqyery(this).find('.dkzzedit').show();
 },function(){
  jqyery(this).find('.dkzzedit').hide();
 })
})

jqyery(function(){
 jqyery('.dk_ns001ui_li').hover(function(){
  jqyery(this).find('.dktrpedit').show();
 },function(){
  jqyery(this).find('.dktrpedit').hide();
 })
})
</script>

	<ui:define name="body">
	<link rel="stylesheet" type="text/css" href="#{request.contextPath}/asset/css/skinBlue.css"/>
	<script type="text/javascript" src="#{request.contextPath}/asset/js/checkBox/icheck.js"></script>
    
	<script>//<![CDATA[
	/* 单选按钮 复选框js */
	jquery("#login").show();
	jquery(document).ready(function(){
		jQuery("#login").css("z-index","1105");//由于影响农事投入品
		var promptMessage = "#{farmerInfoHome.promptMessage}";
		if(promptMessage != ""){
			document.getElementById("productMsg").innerHTML = promptMessage;
			jquery("#myModal").modal('show');
		}
		
		jquery('input[name=iCheck]').iCheck({
		  checkboxClass: 'icheckbox_minimal-blue',
		  radioClass: 'iradio_minimal-blue',
		  increaseArea: '20%' // optional
		});
		var flag=false;//页面首次加载不需要判断
		var index = #{farmerInfoHome.enable};
		jquery('input[name=iCheck]').on("ifClicked", function(event){
			if(this.checked){				
				jquery("#fiform\\:checkHide").val(0);
				jquery('.enableAcctCon').hide();
			}else{
				var userId="";
				if(index == 1){
					userId="#{farmerInfoHome.user.userId}";
				}
				//启用帐号时增加限制
				if(flag){
					checkAccount(userId);
				}				
			}
		});
		/*
		jquery('.enableAcct input').on('ifClicked', function(){
			
		  if(jquery('.enableAcctCon').is(':hidden')){
			  jquery('.enableAcctCon').show();
		  }else{
			  jquery('.enableAcctCon').hide();
		  }
		});	*/
		if(index == 1){
            jquery('.iCheck-helper').click();
            jquery('.enableAcctCon').show();
			flag=true;
		}
		flag=true;
		
	});
	function accountLimit(msg){				
		if(null!=msg && ""!=msg){
			jquery("#fiform\\:checkHide").val(0);
			jquery('input[name=iCheck]').iCheck('uncheck');		
			jquery('.enableAcctCon').hide();
			jquery("#spanValue").html(msg);
			jquery("#mySubmitModal").modal('show');
			jquery(".modal-backdrop").eq(1).css({"position":"fixed","z-index":"1055"});
		}else{
			jquery("#fiform\\:checkHide").val(1);
			jquery('.enableAcctCon').show();
		}
		
	}
	function closeMsgModal(){
		jquery("#mySubmitModal").modal('hide');
	}//]]>
	</script>
	<style>
	.bootstrap-select:not([class*="span"]):not([class*="col-"]):not([class*="form-control"]):not(.input-group-btn) {
	    width: 180px;
	}
	
	.enableAcct .icheckbox_minimal-blue{}
	.enableAcctCon{}
	.iptName132{ float:left; width:132px; margin-right:10px; font-family:'宋体'; text-align:right;}
	.file_defined input[type="file"]{ display:block; width:160px;}
	.font14{ font-size:14px;}
	.modal-footer .btn{ padding:6px 19px;}
	
	.bootstrap-select-searchbox, .bootstrap-select .bs-actionsbox{height:30px;}
	.bootstrap-select.btn-group .no-results{line-height:20px;word-break:break-all;white-space:normal;}
	.form_datetime{position:relative;width:180px;}
	.form_datetime .form-control{ width:100%;}
	.form_datetime .add-on{position:absolute; right:5px; top:8px; width:14px;height:14px;}
	.input-append.date .add-on i, .input-prepend.date .add-on i{margin:0;}
	.farmPics{float: left; max-width:560px;}
	.jl .bootstrap-select.btn-group .dropdown-menu.inner{height:280px;}
	.jh .bootstrap-select.btn-group .dropdown-menu.inner{height:280px;}
	.fl{float: left;}

	.form_datetime input {
	border: 1px solid #CCC;
	height: 30px;
	line-height: 29px;
	}
	.farmingInputs_mini{ position:absolute; top:54px; left:0; z-index:10; width:346px; border:1px solid #e5e5e5; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5); background-clip: padding-box; background-color: #fff; border: 1px solid rgba(0, 0, 0, 0.2); border-radius:6px; outline: 0 none;}
	.farmingInputs_mini{ display:none;}
	.farmingInputs_miniHd{ overflow:hidden; border-bottom:1px solid #e5e5e5; min-height:16.43px; padding:15px;}
	.farmingInputs_miniHd h3{ float:left; font-size:14px; margin:0;}
	.farmingInputs_miniHd .butt{ float:right; width:11px; height:11px; margin-top:3px; background:url(../asset/images/farmingIco16.jpg) no-repeat; border:none; zoom:1;}
	.farmingInputs_miniHd .butt:hover, .farmingInputs_miniHd .butt:focus{ background-image:url(../asset/images/farmingIco17.jpg); zoom:1;}
	.farmingInputs_miniBd{ position:relative; padding:20px 15px 0;}
	.farmingInputs_miniBd .bootstrap-select.btn-group:not(.input-group-btn), .bootstrap-select.btn-group[class*="span"]{ float:left; display:inline; margin-right:5px;}
	.farmingInputs_miniBd .bootstrap-select > .btn-{ width:190px; padding:7px 12px;}
	.farmingInputs_add2{ float:left; width:34px; height:34px; background:url(../asset/images/farmingIco14.jpg) no-repeat; border:none;}
	.farmingbgIco18{ width:64px; height:30px; line-height:30px; border:none; padding:0 10px 0 12px; font-size:12px; zoom:1; background:none; float:left;}
	.farmingInputs_add3{ float:left; width:130px; height:130px;background:url(../asset/images/farmingIco15.jpg) no-repeat; border:none;}
	.farmingInputs_miniFt{ padding:15px; border-top: 1px solid #e5e5e5; text-align:right; overflow:hidden;}
	.farmingInputs_miniFt .butt{ margin-left:5px; float:right;}
	
	.farmingInputs{ position:relative; width:130px; margin-right:10px;}
	.farmingInputs .closeInputs{ display:none; position:absolute; right:0; top:0; width:27px; height:23px; cursor:pointer;}
	.farmingInputs_pic{ width:130px; color:#323232;}
	.farmingInputs_pic:hover{ color:#323232;}
	.farmingInputs_pic img{ width:128px; height:128px; border:1px solid #ddd; border-radius:5px;}
	.farmingInputs_pic p{ padding-top:2px; margin-bottom:0; line-height:20px; text-align:center; }
	.mt20{margin-top:20px;}
	.baseMageTab_ryxxbj .selectpicker{width:140px;}
	</style>
		<link type="text/css" rel="stylesheet" href="#{request.contextPath}/asset/css/agricultural/easyFarm.css" />
	
	<script type="text/javascript">
		document.getElementById("selectBaseDiv").style.display="none";
	</script>
		<div style="background:url(../asset/images/bg_png.png) repeat;width:100%; height:100%; position:absolute; z-index:1684; display:none;" id="login3">
			<div id="login2" style="width:60px; height:60px; margin:220px auto 0 auto;"><img src="../asset/images/loginda.gif" /></div>
			<div id="ossfile" style="margin-top:20px;"></div> 
		</div>
		<td valign="top">
<style>
/* CSS Document */
body {    font-size: 12px;
    color: #000;
    font-family:"微软雅黑"; height:100%;
    line-height: 150%;
    margin: 0;
    padding: 0;
}
a:focus {
    outline:none;
    -moz-outline:none;
} 
html{ height:100%; overflow-x:hidden;}
h1, h2, h3, h4, h5, h6, ul, li, dl, dt, dd, form, img, p,input {
    border: medium none;
    list-style-type: none;
    margin: 0;
    padding: 0;
}
a{text-decoration:none; color:#000;}
/*8.27*/
.r_title01 {
    border-bottom: 1px solid #ddd;
    height: 45px;
    line-height: 45px;
    margin-top: 22px;
    width: 100%;
}
.tlj{ font-size:18px; color:#00659f; font-weight:bold;}
.tljbox02{margin-top:60px; position:relative; margin-left:10px;}
.tuolaji{ width:144px; height:144px; display:block; position:absolute; top:3px; left:5px;}
.bdtlj{ position:absolute;width:154px; height:154px; display:block; }
.jianjie{ margin-left:200px;padding-top:16px;}
.jianjie font{ font-size:14px;}
.photo01{ width:16px; height:16px; }
.photo02{ width:17px; height:16px;}
.photo03{ width:16px; height:16px;}
.photo04{ width:16px; height:16px;}
.jianjie li{ margin:10px 0;}
.xxk{ margin-top:130px; position:relative;}
.tjbt{ position:absolute; right:18px;top:0;}
/*表格*/
.khtable_001y, .khtable_002 {
    border-collapse: collapse;
    table-layout: fixed;
	border:1px solid #bbd4e8; 
}
table, td {
    margin: 0;
    padding: 0;
}
.kh_th_bg01 {
    background:#ebf6ff;
}
.kh_th_font01 {
    color: #272727;
    font-size: 14px;
	font-family: "宋体";
}
.kh_td {
    border: 1px solid #bbd4e8;
    height: 39px;
    text-align: center;
    vertical-align: middle;
	border-bottom: 1px solid #ddd;
    border-left: 1px solid #dddddd;
    border-top: 1px solid #ddd;
}
.kh_td {
    border: 1px solid #bbd4e8;
    height: 39px;
    text-align: center;
    vertical-align: middle;
}
.xslc{ margin:0 auto; width:200px; margin-top:20px; margin-bottom:20px;}
.xslc font{ font-size:16px;}
.y_01 {
    background:#f5f5f5;
}
.tbbox{width:95%; float:left; padding:0 25px;}
.modal-dialog {
    margin: 30px auto;
    width: 600px;
}
.w600na{width:600px; margin:0 auto;}
.renwu{ margin-left:200px; position: relative; padding-top:20px;}
.buttonbox{ position:absolute; right:17px; top:3px;}
.font_name{ font-size:18px; color:#103580;}
.font_jianjie{ font-size:14px; font-family:"宋体"; padding:10px 0; display:block;}
.ph01{ float:left;width:200px;}
.ph02{ float:left;width:200px;}
.ph03{ float:left;width:200px;}
.ph04{ float:left;width:200px;}
.jj01{width:263px; height:30px;}
.jj02{ width:300px;}
/*农事管理开始*/

.noshiul,.noshiul_cs{ width:153px; height:27px; margin:0 auto; position:relative; z-index:5;}
.noshili,.noshili01,.noshili_cs,.noshili_cs01{width:76px; height:27px; line-height:27px; text-align:center; float:left; color:#262626;font-size:14px; cursor:pointer;}
.noshili,.noshili_cs{background:url(../asset/images/noshitableft.jpg) no-repeat;}
.noshili01,.noshili_cs01{background:url(../asset/images/noshitab.jpg) no-repeat;}
.noli.noshili.current,.noli.noshili01.current,.noli.noshili_cs.current,.noli.noshili_cs01.current{ color:#ffffff; font-size:14px; width:76px; height:27px; line-height:27px;}
.noli.noshili.current,.noli.noshili_cs.current{background:url(../asset/images/noshitabon.jpg) no-repeat;}
.noli.noshili01.current,.noli.noshili_cs01.current{background:url(../asset/images/noshitabonleft1.jpg) no-repeat;}
.nosidiv{ margin-top:25px; margin-left:10px; margin-right:10px;}
.kd_data_bg{ width:89px; height:45px; background:url(../asset/images/kd_data_bg.jpg) repeat-y; text-align:center; border-bottom:1px solid #b9bec4;}
.noshiborder{border-top:1px solid #e0e5eb;}
.nos_timetd{ height:30px; text-align:left; font-size:12px; color:#333; background:url(../asset/images/dk_tx.png) bottom center repeat-x; padding-left:10px;}
.dk_data_bg02{ background:url(../asset/images/dk_data_bg02.jpg) repeat; border-bottom:1px solid #e1e6ec; }
.dk_nos{ display:block; line-height:14px; color:#333;}
.dk_date_td{ font-size:16px; font-weight:bold; color:#333;}
.dk_date_chart{ position:relative; top:-56px; z-index:3;}
.dktj{ width:70px; height:30px; position:relative; float:right; right:5px; top:-52px;}
.r_title_left{ float:left;}
.r_title_right{ float:right;}
/*下拉框 */
.ui-helper-hidden {	display: none;}
.ui-helper-hidden-accessible {	border: 0;	clip: rect(0 0 0 0);	height: 1px;	margin: -1px;	overflow: hidden;	padding: 0;	position: absolute;	width: 1px;}
.ui-helper-clearfix:after {	clear: both;}
.ui-helper-zfix { width: 100%; height: 100%; top: 0; left: 0; position: absolute; opacity: 0; filter:Alpha(Opacity=0);}
.ui-front {	z-index: 100;}
.ui-icon {	display: block;	text-indent: -99999px;	overflow: hidden;	background-repeat: no-repeat;}
.ui-autocomplete {	position: absolute;	top: 0;	left: 0;	cursor: default;}
.ui-button { display: inline-block;	position: relative;	padding: 0;	line-height: normal; margin-right:1px; cursor: pointer; vertical-align: middle; text-align: center; overflow: visible; /* removes extra width in IE */}
.ui-button-icon-only .ui-icon {	position: absolute;	top: 50%;	margin-top: -7px;}
.ui-button-icon-only .ui-icon {	left: 50%;	margin-left: -7px;}
.ui-button,
.ui-button:link,
.ui-button:visited,
.ui-button:hover,
.ui-button:active {	text-decoration: none;}
.ui-button-icon-only { width:28px;}
.button.ui-button-icon-only { width: 2.4em;}
.ui-button .ui-button-text { display: block; line-height: normal;}
input.ui-button {	padding:2px;}
.ui-icon { width: 14px; height: 13px;}
.ui-state-default .ui-icon {	background-image: url(../asset/images/ui-icons_888888_256x240.png);}
.ui-state-hover .ui-icon,
.ui-state-focus .ui-icon {	background-image: url(../asset/images/ui-icons_454545_256x240.png);}
.ui-state-active .ui-icon {	background-image: url(../asset/images/ui-icons_454545_256x240.png);}
.ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header,
.ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header {	border-right-width: 0;	border-left-width: 1px;}
.ui-menu {	list-style: none;	padding:0px;	margin: 0;	display: block;	outline: none;}
.ui-menu .ui-menu {	margin-top: -3px;	position: absolute;}
.ui-menu .ui-menu-item {	margin: 0;	padding: 0;	width:100%;	*width: 196px;	/* support: IE10, see #8844 */	list-style-image: url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);}
.ui-menu .ui-menu-item a { width:121px; overflow:hidden; text-decoration: none;	display: block;	padding: 2px 7px; height:26px; line-height:26px; font-weight: normal; font:100 12px/26px Arial; color:#5A5A5A;}
.ui-menu .ui-menu-item a.ui-state-focus,
.ui-menu .ui-menu-item a.ui-state-active {	font-weight: normal;}
.ui-menu .ui-state-disabled {	font-weight: normal;	margin:5px 2px;	line-height: 26px;}
.ui-menu .ui-state-disabled a {	cursor: default;}
.ui-menu-icons {	position: relative;}
.ui-menu-icons .ui-menu-item a {	position: relative;	padding-left: 2em;}

.ui-menu .ui-icon {	position: absolute;	top: .2em;	left: .2em;}

/* right-aligned移上去提示框 */
.ui-menu .ui-menu-icon {	position: static;	float: right;}
.ui-tooltip {padding: 8px;	position: absolute;	z-index: 9999;	max-width: 300px;	-webkit-box-shadow: 0 0 5px #aaa;	box-shadow: 0 0 5px #aaa;}
body .ui-tooltip {	border-width: 2px;}
/* Component containers
----------------------------------*/
.ui-widget {font-family: Verdana,Arial,sans-serif;	font-size:12px;}
.ui-widget .ui-widget {	font-size:14px; color:#000; font-weight:bold;}
.ui-widget input,
.ui-widget select,
.ui-widget textarea,
.ui-widget button {	font-family: Verdana,Arial,sans-serif;	font-size:12px;}
.ui-widget-content a {	color: #222222;}
/* Interaction states
----------------------------------*/
.ui-state-default{ border:none; background:url(../asset/images/pss.jpg) no-repeat; width:31px;}
.ui-widget-content .ui-state-default,
.ui-widget-header .ui-state-default { border:none; background:url(../asset/images/pss.jpg) no-repeat;}
.ui-state-default a,
.ui-state-default a:link,
.ui-state-default a:visited {color: #555555;	text-decoration: none;}
.ui-menu .ui-menu-item a:hover{background: #EFF2F6; font-weight: normal; color: #002E68; border:none;}
.ui-state-hover,
.ui-widget-content .ui-state-hover,
.ui-widget-header .ui-state-hover,
.ui-widget-header .ui-state-focus {border:none; background:url(../asset/images/pss.jpg) no-repeat; color: #002E68; width:31px;}
.ui-state-hover a,
.ui-state-hover a:hover,
.ui-state-hover a:link,
.ui-state-hover a:visited,
.ui-state-focus a,
.ui-state-focus a:hover,
.ui-state-focus a:link,
.ui-state-focus a:visited {	color: #212121;	text-decoration: none;}
.ui-widget-content{	border: 1px solid #C3D0E1;	background: #fff;	font-weight: normal;	color: #212121;   max-height: 150px; overflow-x: hidden;  overflow-y: auto;}
.ui-state-active a,
.ui-state-active a:link,
.ui-state-active a:visited { color: #212121; text-decoration: none;}
  .custom-combobox { position: relative; display: inline-block; }
  .custom-combobox-toggle {    position: absolute;    top: 0;    bottom: 0;    margin-left: -1px;    padding: 0;    /* support: IE7 */    *height: 34px;    *top:1px;  }
  .custom-combobox-input {    margin: 0; height:30px; line-height:30px;    padding:2px 5px; width:130px; border:none;  }
  #ui-id-1{height:150px; overflow-x:hidden; overflow-y:scroll; *width:143px;}
.input_bg{ background:url(../asset/images/ppss2.jpg) right no-repeat;}

/*下拉框*/

.dkedit{ width:210px; height:210px; background:url(../asset/images/bg_map.png) no-repeat; position: absolute; *z-index:3; top:16px; right:-7px; display: none; }
.dkz_llul{ width:28px; height:28px; z-index:4; position:relative;  border:1px solid #206fbc; margin-top:17px; margin-right:16px; float:right; background: #4096ee ;}
.dkz_lli{padding:0; width:28px; height:28px; float:left;  background: #4096ee; }
.dkz_lli img{z-index:3; position:relative; border:none;}

.dkzzedit{ width:217px; height:107px; background:url(../asset/images/zzbjbg.png) no-repeat; position: absolute; *z-index:3; top:-13px; right:-7px; display: none; }
.dkzzz_llul{ width:18px; height:18px; z-index:4; position:relative;  border:1px solid #206fbc; margin-top:9px; margin-right:11px; float:right; background: #4096ee; padding:0;}
.dkzzz_lli{padding:0; width:18px; height:18px; float:left;  background: #4096ee;  padding:0;}
.dkzzz_lli img{z-index:3; position:relative; border:none;}

.dktrpedit{ width:131px; height:122px; background:url(../asset/images/ztourup.png) no-repeat; position: absolute; *z-index:3; top:-3px; right:-11px; display: none; }
.dktrp_llul{ width:18px; height:18px; z-index:4; position:relative;  border:1px solid #206fbc; margin-top:10px; margin-right:13px; float:right; background: #4096ee; padding:0;}
.dktrp_lli{padding:0; width:18px; height:18px; float:left;  background: #4096ee;  padding:0;}
.dktrp_lli img{z-index:3; position:relative; border:none;}
.cm_resumeList{}
.cm_resumeList li{ float:left;}
.cm_resumeList li a{display:block; height:44px; line-height:44px; padding:0 10px; color:#3f3f3f; overflow:hidden; font-family:'宋体';}
.cm_resumeList li a:active{border-bottom:2px solid #33aedc;}
.cm_resumeList li img{ float:left; margin-top:16px;}
.cm_resumeList li span{ float:left; text-indent:10px;}
.borderBt{ border-bottom:2px solid #33aedc;}
.borderBt02{ border-bottom:1px solid #cbcbcb;}
/*农事管理结束*/
.form-control{
	float:left;
}
.fr{float:right;}
.r_ulli1{float:right;}
/*农事投入品*/
.farmingInputs_mini .residual-volume-tip{ float:left; height:20px; line-height:20px; margin:8px 0 0 20px; padding-left:20px; background:url(../asset/images/farmingIco50.jpg) no-repeat 0 center; color:#f69b5f; font-size:12px;}
.farmingInputs_mini .fxy_ul{ margin:0; height:34px;}
.farmingInputs_mini .fxy_lidate{ height:34px; line-height:34px; margin-bottom:0;}
.farmingInputs_mini .fxy_lidate label{ line-height:34px; margin-bottom:0;}
.farmingInputs_mini .fxy_lidate .iradio_minimal-blue{ margin-top:8px;}

/* 农事图片 */
.lineHeight128{ display:block; line-height:128px;}
.farmingInputs{ position:relative; width:130px; margin-right:10px;}
.farmingInputs .closeInputs{ display:none; position:absolute; right:0; top:0; width:27px; height:23px; cursor:pointer;}
.farmingInputs_pic{ width:130px; color:#323232;}
.farmingInputs_pic:hover{ color:#323232;}
.farmingInputs_pic img{ width:128px; height:128px; border:1px solid #ddd; border-radius:5px;}
.farmingInputs_pic p{ padding-top:2px; margin-bottom:0; line-height:20px; text-align:center; }
.farmingInputs_add, .farmingInputs_add00, .farmingInputs_add1, farmingInputs_addtj{ position:relative; float:left;}

.modal .modal-header .close, .modal .modal-header .close:link {background: rgba(0, 0, 0, 0) url("../asset/images/farmingIco16.jpg") no-repeat scroll 0 0; border: medium none;float: right;height: 11px;margin-top: 5px;opacity: 1;width: 11px;filter:alpha(opacity=100);padding:auto;}
.modal .modal-header .close:hover, .modal-header .close:focus {background: rgba(0, 0, 0, 0) url("../asset/images/farmingIco17.jpg") no-repeat scroll 0 0;opacity: 1;filter:alpha(opacity=100);padding:auto;}

.record_date2 {float: left;width: 200px;position: relative;}
.record_date2 input{width: 100%;text-indent: 10px;border: 1px solid #CCC;height: 30px;line-height: 29px;}
.record_date2 .add-on{    position: absolute;right: 5px;top: 8px;width: 14px;height: 14px;}
</style>
<link rel="stylesheet" type="text/css" href="#{request.contextPath}/asset/css/personInfor_editor.css"/>
 <!-- Modal -->
<div aria-hidden="false" aria-labelledby="mySubmitModalLabel" role="dialog" tabindex="-1" id="mySubmitModal" class="modal fade in w600na" style="width:310px;z-index:1111;top:30%;">
  <div class="modal-dialog" style="width:310px;">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="mySubmitModalLabel">提示</h4>
      </div>
      <div class="modal-body">
      	<p style="text-align:center;margin-bottom: 10px;"><img src="#{request.contextPath}/asset/images/farmingIco20_1.png" alt="" /></p>
       	<p style="text-align:center;line-height: 20px;" id="spanValue">
       		
		</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success" data-dismiss="modal" onclick="closeMsgModal()">知道了</button>
      </div>
    </div>
  </div>
</div>
		
<!-- Modal -->
<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="myModal" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">提示框</h4>
      </div>
      <div class="modal-body">
       <span id="productMsg">*号部分为必填项！</span>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal">确认</button>
      </div>
    </div>
  </div>
</div>

	<div class="right_c">
			<!-- #{farmerInfoHome.operate()} -->
			<div class="r_title01">
				<div class="r_title">
                	<div class="r_t_l">数字农场&#160;&gt;&#160;&#160;<font size="3">人员档案</font></div>
                	<div class="fr" style="margin-bottom:-1px;">
                        <ul class="cm_resumeList clear">
                        	<li>
                                <a class="borderBt" href="#{request.contextPath}/map/FarmerInfoManageList.seam"><img src="#{request.contextPath}/asset/images/renyuan.png" /><span>人员管理</span></a>
                            </li>
                            <li>
                                <a href="#{request.contextPath}/user/PositionsList.seam"><img src="#{request.contextPath}/asset/images/positions.png" /><span>#{sessionTake.tempType == 9 ? '部门管理':'职位管理'}</span></a>
                            </li>
                        </ul>
                    </div>
                </div>
			</div>
			<!--简介-->
			<div>
				<div class="tljbox02">
					
					<img width="144" height="144" class="tuolaji" style=" border:1px solid #dddddd; border-radius:5px;" src="#{farmerInfoHome.instance.iePitcure eq null or farmerInfoHome.instance.iePitcure eq ''?'../asset/images/noPerson.jpg':farmerInfoHome.instance.iePitcure}" />
					
				</div>
			    <div class="renwu">
			    	<div class="buttonbox farmmingAdd"> 
			    		<button style="#{s:hasRole('user_edit')?'':'display:none;'}" class="btn btn-success" type="button" data-toggle="modal" data-target="#myModalTow">编 辑</button>
			    		
			    		
			    		 <!-- Modal 人员信息编辑弹窗 开始 -->
                                        <div class="modal fade" id="myModalTow" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                            <div class="modal-dialog" style="width:630px; margin:50px auto;">
                                            <h:form id="fiform" ajaxSubmit="true" enctype="multipart/form-data">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal"> </button>
                                                    <h4 class="modal-title font14" id="myModalLabel">人员信息编辑</h4>
                                                    </div>
                                                    <div class="modal-body" style="padding:20px 30px 0;">
                                                    <!-- #{farmerInfoHome.getBaseEdit()} -->
                                                    <!-- #{farmerInfoHome.getRealPlantList()} -->
                                                   		<table class="baseMageTab_ryxxbj">
                                                        	<tr>
                                                            	<td width="55" align="right">基地名称</td>
                                                            	<td width="205" style="padding-left:15px;#{sessionTake.levelId lt 4?'':'display:none;'}">
                                                                	<select id="baseIdfi" class="selectpicker" data-live-search="true" onchange="checkSubmit('fi');changeBase(this.value);" autocomplete="off">
                                                                	    <option value="-1">全部</option>
																	    <a:repeat value="#{farmerInfoHome.basicList}" var="_base">
																	    	<h:panelGroup rendered="#{farmerInfoHome.instance.baseId.id eq _base.id}">
																	    		<option value="#{_base.id}" selected="selected">#{_base.name}</option>
																	    	</h:panelGroup>
																	    	<h:panelGroup rendered="#{farmerInfoHome.instance.baseId.id ne _base.id}">
																	    		<option value="#{_base.id}" >#{_base.name}</option>
																	    	</h:panelGroup>
																	    </a:repeat>
																	</select>
																	
                                                                </td>
                                                                <td width="205" style="padding-left:15px;#{sessionTake.levelId lt 4?'display:none;':''}">
																	<h:outputText value="#{farmerInfoHome.bObj.name}"/>
                                                                </td>
                                                                <h:inputHidden id="baseId" value="#{farmerInfoHome.baseId}"  />
                                                                <td width="70" align="right">姓名</td>
                                                                <td width="160" style="padding-left:15px;">
                                                                	<h:inputText autocomplete="off" class="form-control fl" type="text" value="#{farmerInfoHome.instance.name}" id="name" style="width:138px; margin-right:10px;"/><span class="asterisk">*</span>
                                                                </td>
                                                            </tr>
                                                             <tr>
                                                            	<td width="55" align="right">职位</td>
                                                                <td width="205" style="padding-left:15px;">
                                                                	<s:div id="zhiwei">
                                                                		<h:selectOneMenu autocomplete="off" id="positionsId" styleClass="selectpicker" value="#{farmerInfoHome.instance.positionsId}">
																			<s:selectItems value="#{farmerInfoHome.posList}" var="_pos" label="#{_pos.name}"/>
																			<s:convertEntity/>
																		</h:selectOneMenu>
																	</s:div><span class="asterisk">*</span>
                                                                </td>
                                                                 <td width="70" align="right">角色</td>
                                                                <td width="160" style="padding-left:15px;">
                                                                <s:div id="typeNew">
                                                                	<h:selectOneMenu autocomplete="off" id="type" styleClass="selectpicker" value="#{farmerInfoHome.instance.type}" onchange="changeFarmer(this.value)">
																		<s:selectItems value="#{farmerInfoHome.ftList}" var="_ftype" label="#{_ftype[0]}" itemValue="#{_ftype[1]}"/>
																	</h:selectOneMenu>
																</s:div><span class="asterisk">*</span>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td width="70" align="right">分配地块</td>
                                                                <td width="160" style="padding-left:15px;display: none;" class="tun3">
                                                                	<select class="selectpicker tunnel" style="display: none;" data-live-search="true" multiple="multiple">
															      		<a:repeat value="#{farmerInfoHome.newParList2}" var="par" >
																	    	<option value="#{par[0]}" ty="#{par[2]}" pid="#{par[3]}" style="padding-left:#{par[2]=='tunnelInfo'?'60px;':'40px;'}">#{par[1]}</option>
															      		</a:repeat>
																	</select>
                                                                </td>
                                                                
                                                                <td width="160" style="padding-left:15px;display: none;" class="tun6">
                                                                	<select class="selectpicker tunnel" style="display: none;" data-live-search="true" multiple="multiple">
															      		<a:repeat value="#{farmerInfoHome.newParList}" var="par" >
																			<option value="#{par[0]}" ty="#{par[2]}" pid="#{par[3]}" style="padding-left:#{par[2]=='tunnelInfo'?'60px;':'40px;'}">#{par[1]}</option>
															      		</a:repeat>
																	</select>
                                                                </td>
                                                                
                                                                <td width="160" style="padding-left:15px;display: none;" class="tun781">
                                                                	<select class="selectpicker tunnel" style="display: none;" data-live-search="true" multiple="multiple">
															      		<a:repeat value="#{farmerInfoHome.newParList3}" var="par" >
																			<option value="#{par[0]}" ty="#{par[2]}" pid="#{par[3]}" style="padding-left:#{par[2]=='tunnelInfo'?'60px;':'40px;'}">#{par[1]}</option>
															      		</a:repeat>
																	</select>
                                                                </td>
                        										<h:inputHidden value="#{farmerInfoHome.tunnelIds}" id="tunnelIds"/>
                                                            	
                                                            	<td width="55" align="right">从业年限</td>
                                                                <td width="205" style="padding-left:15px;">
                                                                	<h:inputText  autocomplete="off" class="form-control fl" type="text" id="workAge"  value="#{farmerInfoHome.instance.workAge}" style="width:138px; margin-right:10px;"/>年
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td width="70" align="right">年龄</td>
                                                                <td width="160" style="padding-left:15px;">
                                                                	<h:inputText autocomplete="off" class="form-control fl" type="text" id="age"  value="#{farmerInfoHome.instance.age}" style="width:138px; margin-right:5px;"/>岁
                                                                </td>
                                                            
                                                            	<td width="55" align="right">电话</td>
                                                                <td width="205" style="padding-left:15px;">
                                                                	<h:inputText autocomplete="off" class="form-control fl" type="text" id="phone" value="#{farmerInfoHome.instance.phone}" style="width:160px;"/>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td width="70" align="right">荣誉</td>
                                                                <td width="160" style="padding-left:15px;">
                                                                	<h:inputText autocomplete="off" class="form-control fl" type="text" id="honour" value="#{farmerInfoHome.instance.honour}" style="width:160px;"/>
                                                                </td>
                                                              
                                                                <td width="70" align="right">学历</td>
                                                                <td width="160" style="padding-left:15px;">
								                                    <span style="float:left">
																	<h:selectOneMenu  styleClass="selectpicker" value="#{farmerInfoHome.instance.dataDicId}">
																		<f:selectItem  itemLabel="请选择" itemValue="-1"/>
																		<s:selectItems value="#{farmerInfoHome.xlList}" var="var_xl" label="#{var_xl.name}" itemValue="#{var_xl.dataDicId}"/>
																	</h:selectOneMenu></span>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td width="70" align="right">员工卡</td>
                                                                <td width="160" style="padding-left:15px;" colspan="3">
                                                                	<select autocomplete="off" id="ariselect" class="selectpicker " style="width: 200px;" data-live-search="true"  onchange="checkSubmit('ar');">
                                                                	
                                                                		<option value="0">无</option>
																	    <a:repeat value="#{farmerInfoHome.getAmRfidInfoList()}" var="_ari">
																	    	<h:panelGroup rendered="#{farmerInfoHome.ariId eq _ari.id}">
																	    		<option value="#{_ari.id}" selected="selected">#{_ari.rfidSn}</option>
																	    	</h:panelGroup>
																	    	<h:panelGroup rendered="#{farmerInfoHome.ariId ne _ari.id}">
																	    		<option value="#{_ari.id}" >#{_ari.rfidSn}</option>
																	    	</h:panelGroup>
																	    </a:repeat>
																	</select>
																	<h:inputHidden id="ariId" value="#{farmerInfoHome.ariId}"  />
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                            	<td width="55" align="right" valign="top" style="line-height:23px;">IE版照片</td>
                                                                <td width="210" style="padding-left:15px;">
                                                                	<s:fileUpload id="iePitcure" size="30"
																		accept="image/png,image/jpeg,image/gif"
																		contentType="image/png,image/jpeg,image/gif"
																		fileName="#{farmerInfoHome.instance.iePitcureName}"
																		data="#{farmerInfoHome.instance.iePitcureByte}">
																	</s:fileUpload>
                                                                    <p class="pic_stress">图片宽高标准：144x144(像素)<br/>支持格式：jpg,gif,png,jpeg,bmp,3gp</p>
                                                                </td>
                                                                <td width="70" align="right" valign="top" style="line-height:23px;">手机版照片</td>
                                                                <td width="215" style="padding-left:15px;">
                                                                	<div class="file_defined">
                                                                	<s:fileUpload id="picture" size="30"
																accept="image/png,image/jpeg,image/gif"
																contentType="image/png,image/jpeg,image/gif"
																fileName="#{farmerInfoHome.instance.pictureName}"
																data="#{farmerInfoHome.instance.pictureByte}">
															</s:fileUpload>
																	</div>
                                                                    <p class="pic_stress">图片宽高标准：152x92(像素)<br/>支持格式：jpg,gif,png,jpeg,bmp,3gp</p>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                            	<td width="55" align="right">农务感言</td>
                                                                <td width="450" colspan="3" style="padding-left:15px;">
                                                                	<h:inputTextarea autocomplete="off" class="form-control" style="width:424px; height:70px; resize:none; font-size:12px;" rows="3" id="wards" value="#{farmerInfoHome.instance.wards}"></h:inputTextarea>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                            	<td width="55" align="right">实践经验介绍</td>
                                                                <td width="450" colspan="3" style="padding-left:15px;">
                                                                	<h:inputTextarea autocomplete="off" class="form-control" style="width:424px; height:70px; resize:none; font-size:12px;" rows="3" id="description" value="#{farmerInfoHome.instance.description}"></h:inputTextarea>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </div>
                                                    <div class="modal-enableAcct">
                                                    	<table class="baseMageTab_ryxxbj enableAcct" width="100%" cellpadding="0" cellspacing="0">
                                                        	<tr>
                                                            	<td width="55" align="right" valign="middle">启用账号</td>
                                                                <td width="205" style="padding-left:15px;">
                                                                	<input type="checkbox" name="iCheck" autocomplete="off"/>
                                                                	<label style="padding:0 15px 0 5px; margin-bottom:0; font-family:'宋体'; font-weight:normal;"></label>
								                           			<h:inputHidden id="checkHide" value="#{farmerInfoHome.enable}" />
                                                                </td>
                                                                <td width="70" align="right" valign="middle"></td>
                                                                <td width="160" style="padding-left:15px;">
                                                                	
                                                                </td>
                                                            </tr>
                                                        </table>
                                                        <table class="baseMageTab_ryxxbj enableAcctCon" width="100%" cellpadding="0" cellspacing="0">
                                                            <tr>
                                                            	<td width="55" align="right">用户名</td>
                                                                <td width="205" style="padding-left:15px;">
                                                                	<h:inputText autocomplete="off" id="userName" onfocus="nameFocus(this)" onblur="nameBlur(this)" value="#{farmerInfoHome.user.name}" rendered="#{farmerInfoHome.user.name eq null or farmerInfoHome.user.name eq ''}" styleClass="form-control fl" style="width:160px;"/>
                                                                	<h:outputText value="#{farmerInfoHome.user.name}" rendered="#{farmerInfoHome.user.name ne null and farmerInfoHome.user.name ne ''}"/>
                                                                </td>
                                                                <td width="70" align="right">Email</td>
                                                                <td width="160" style="padding-left:15px;">
                                                                	<h:inputText autocomplete="off" id="email" value="#{farmerInfoHome.user.email}" styleClass="form-control fl" style="width:160px;"/>
                                                                </td>
                                                            </tr>
                                                            
                                                             <tr style="#{farmerInfoHome.user.userId eq null?'display:none;':''}">
                                                            	<td width="70" align="right">
                                                            	</td>
                                                            	 <td colspan="3">
                                                            	 <a href="#" style="font-size: 14px;color: #0598ff; margin-left: 15px;" onclick="showPwd()">修改密码</a>
                                                                </td>
                                                            </tr>
                                                            <tr id="pwd" style="#{farmerInfoHome.user.userId eq null?'':'display:none;'}" class="#{farmerInfoHome.user.userId eq null?'':'nnn'}">
                                                            	<td width="55" align="right">密码</td>
                                                                <td width="205" style="padding-left:15px;">
                                                                	<h:inputSecret id="password" value="#{farmerInfoHome.pwd}" class="form-control fl" type="text" style="width:160px;"/>
                                                                	
                                                                </td>
                                                                <td width="70" align="right">确认密码</td>
                                                                <td width="160" style="padding-left:15px;">
                                                                	<h:inputSecret id="password1" value="#{farmerInfoHome.pwd}" class="form-control fl" type="text" style="width:160px;"/>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </div>
                                                    <div class="modal-footer">
                                                    <a:commandButton id="update2"  value="提交" styleClass="btn btn-success" action="#{farmerInfoHome.checkUserName()}" onclick="if(!checkUser()) return false;" data="#{farmerInfoHome.chongfu}" oncomplete="checkUserName(data)" />
                                                    <h:commandButton id="update" styleClass="aaa" style="display:none;" value="提交" onclick="if(!checkUser()) return false;" action="#{farmerInfoHome.updateAjx}" reRender="renwu"/>
									    			<button data-dismiss="modal" class="btn btn-default" type="button" id="fanhui">返回</button>
                                                    </div>
                                                </div>
                                                </h:form>
                                            </div>
                                        </div>
                                        <!-- Modal 人员信息编辑弹窗 结束 -->
			    	</div>
			    	<h:panelGroup id="renwu">
	    				<font class="font_name">#{farmerInfoHome.instance.name}</font><font style="padding-left:20px">#{farmerInfoHome.instance.positionsId.name}</font><font style="margin-left:10px">#{farmerInfoHome.findName(farmerInfoHome.instance.type)}</font><br/>
				        <font class="font_jianjie">#{farmerInfoHome.instance.wards}</font>
						<ul class="jj01" style="width:700px; height:30px;">
				        	<li class="ph01" style="width:350px;">
				            	<img style="float:left;" class="photo01" src="../asset/images/icon06.png"/>
				                <span style="float:left;">年龄：</span>
				                <div style="float:left;width:270px;word-wrap: break-word;">#{farmerInfoHome.instance.age}</div>
				            </li>
				            <li class="ph02" style="width:350px;">
				            	<img style="float:left;" class="photo02" src="../asset/images/icon07.png"/>
				                <span style="float:left;">从业年限：</span>
				                <div style="float:left;width:270px;word-wrap: break-word;">#{farmerInfoHome.instance.workAge}</div>
				            </li>
				        </ul>
				        <ul class="jj02" style="width:700px;">
				        	<li class="ph03" style="width:350px;">
				            	<img style="float:left;" class="photo03" src="../asset/images/icon08.png"/>
				                <span style="float:left;">荣誉：</span>
				                <div style="float:left;width:270px;word-wrap: break-word;">#{farmerInfoHome.instance.honour}</div>
				            </li>
				            <li class="ph04" style="width:350px;">
				            	<img style="float:left;" class="photo04" src="../asset/images/icon09.png"/>
				                <span style="float:left;">电话：</span>
				                <div style="float:left;width:270px;word-wrap: break-word;">#{farmerInfoHome.instance.phone}</div>
				            </li>
				        </ul>
			        </h:panelGroup>
    			</div>
			</div>                    
			<!--选项卡-->
			<div class="xxk">
				<ul id="myTab" role="tablist" class="nav nav-tabs">
				  <li class="active"><a data-toggle="tab" role="tab" href="#home" onclick="jquery('#profileInfo').hide();jquery('#home').show();">农事记录</a></li>
				  <li class=""><a data-toggle="tab" role="tab" href="#profile" onclick="jquery('#home').hide();jquery('#profileInfo').show();">培训记录</a></li>
				</ul>
				<div class="tjbt" >
					<button style="#{s:hasRole('user_add')?'':'display:none;'}" class="btn btn-info" type="button"  data-toggle="modal" data-target="#myModalhome" onclick="emptyClick();">添 加</button>
    				<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="myModalhome" class="modal fade in w600na" style="display: none;width: 830px;overflow-y:hidden;">
  						<div class="modal-dialog" style="width:100%;">
    						<div class="modal-content">
      							<div class="modal-header">
							        <button data-dismiss="modal" class="close" type="button"><span class="sr-only">Close</span></button>
							        <h4 id="myModalLabel" class="modal-title">农事记录添加</h4>
      							</div>
      							<div class="modal-body" style="#{farmerInfoHome.rpList.size() gt 0?'display:none;':''}">
      							<h:panelGroup rendered="#{farmerInfoHome.tunnelNum==0}">
      								农户没有可操作区域，请给农户分配可操作区域。
      							</h:panelGroup>
      							<h:panelGroup rendered="#{farmerInfoHome.tunnelNum!=0}">
      								该地块当前没有种植，请添加种植后再添加农事。
      							</h:panelGroup>
      							</div>
      							
						      	<div class="modal-footer" style="#{farmerInfoHome.rpList.size() gt 0?'display:none;':''}">
							        <button data-dismiss="modal" class="btn btn-default" type="button">返回</button>
						      	</div>
      							<div class="modal-body farmRecord" style="top:inherit;position:relative; box-sizing:border-box; #{farmerInfoHome.rpList.size() gt 0?'':'display:none;'};"> 
      								<a:form id="amform" ajaxSubmit="true" >
	      								<div class="clearfix" style="max-height: 532px;overflow: auto;">
						                    <div class="choice" style="width:100%; margin-bottom: 12px;">
						                        <p class="item">记录/计划</p>
						                        <ul class="radioBox clearfix">
						                            <li>
						                                <input id="clickradio" type="radio" checked="checked" name="sex" value="1" onclick="jquery('.amh').hide();jquery('.ami').show();jquery('.disnone').hide();jquery('#amform\\:typeorder').val(1);divauto(1)"></input><label style="padding:0 15px 0 5px;">记录</label>
						                            </li>
						                            <li>
						                                <input type="radio" name="sex" value="0" onclick="jquery('.ami').hide();jquery('.amh').show();jquery('.disnone').hide();jquery('#amform\\:typeorder').val(0);divauto(2)"></input> <label style="padding:0 15px 0 5px;">计划</label>
						                            </li>
						                        </ul>
						                        <h:inputHidden id="typeorder" value="#{farmerInfoHome.typeorder}"  />
						                    </div>
						                    <div class="choice ami jl">
						                        <p class="item">操作区域：</p>
						                        <select id="tunnelInfoId" class="selectpicker" data-live-search="true" onchange="checkSubmit(1);">
													<option value="" disabled="disabled">正在种植</option>
												    <a:repeat value="#{farmerInfoHome.rpList}" var="_rp">
												    	<option value="#{_rp.realPlantId}" aa="#{_rp.plantStandard}">&#160;&#160;#{_rp.tunnelInfoId.tunnelName}--#{_rp.breedBreedId.plant.name}</option>
												    </a:repeat>
												    <option value="" disabled="disabled">计划种植</option>
												    <a:repeat value="#{farmerInfoHome.jhrpList}" var="_rp">
												    	<option value="#{_rp.realPlantId}" aa="#{_rp.plantStandard}">&#160;&#160;#{_rp.tunnelInfoId.tunnelName}--#{_rp.breedBreedId.plant.name}</option>
												    </a:repeat>
												</select>
												<h:inputHidden id="realPlantId" value="#{farmerInfoHome.realPlantId}"  />
						                    </div>
						                    <div class="choice ami jl">
						                        <p class="item">操作类型：</p>
						                        <select id="aritId" class="selectpicker" data-live-search="true" onchange="checkSubmit(2);">
												    <a:repeat value="#{farmerInfoHome.getARTList()}" var="var">
												    	<option value="#{var[0]}" >#{var[1]}</option>
												    </a:repeat>
												</select>
												<h:inputHidden id="aritIdcheck" value="#{farmerInfoHome.aritIdInfo}"  />
						                    </div>
						                   <div class="choice ami">
						                        <p class="item">操作时间：</p>
						                        <div class="input-append date form_datetime " >
											    	<h:inputText  id="operatingTime" styleClass="form-control nw160" value="#{farmerInfoHome.aai.operatingTime}">
											    		<f:convertDateTime  pattern="yyyy-MM-dd HH:mm" timeZone="GMT+8" />
											    	</h:inputText>
											    	<span class="add-on"><i class="icon-th"></i></span>
											    </div>
						                    </div>
						                    <div class="choice ami #{farmerInfoHome.enterpriseSettings.workTimeChecked?'':'disnone'}">
						                        <p class="item">工时:</p>
						                        <h:inputText size="23" value="#{farmerInfoHome.aai.work_time}" id="work_time" class="form-control nw221" autocomplete="off" />
						                        <p class="unit">小时</p>
						                        <p class="unit" style="color:red;">*</p>
						                    </div>
						                    <div class="choice ami #{farmerInfoHome.enterpriseSettings.environmentChecked?'':'disnone'}">
						                        <p class="item">环境温度:</p>
						                        <h:inputText size="23" value="#{farmerInfoHome.aai.airTemp}" id="record_temp" class="form-control nw221" autocomplete="off" />
						                        <p class="unit">℃</p>
						                    </div>
						                     <div class="choice ami #{farmerInfoHome.enterpriseSettings.environmentChecked?'':'disnone'}" >
						                        <p class="item">环境湿度:</p>
						                       <h:inputText size="23" value="#{farmerInfoHome.aai.airHumi}" id="record_humi" class="form-control nw221" autocomplete="off" />
						                        <p class="unit">%</p>
						                    </div>
						                   <div class="tup clear ami" >
						                       <div class="choice">
						                            <p class="item">农事图片:</p>
						                           <div class="farmPics">
						                             <h:panelGroup id="picId">
		                                                     <a:repeat value="#{farmerInfoHome.farmingPicList}" var="var" id="farmingPicList" rowKeyVar="row">
		                                                     	<div class="farmingInputs fl">
		                                                         	<a class="farmingInputs_pic" href="javascript:;"><img src="#{var[0]}" width="128" height="128" /></a>
		                                                             <em class="closeInputs" onclick="delfarmingPicList(#{row})"><img src="#{request.contextPath}/asset/images/clo_04.jpg" /></em>
		                                                         </div>
		                                                     </a:repeat>
		                                                     <input type="button" class="farmingInputs_add3" style="margin-bottom:25px;float:left;" onclick="addFarming()"></input>
		                                                  </h:panelGroup>
		                                                  </div>
						                        </div> 
						                        <div class="choice #{farmerInfoHome.enterpriseSettings.inputsInfoChecked? '' :'disnone'}">
						                            <p class="item">投入品:</p>
						                            <div class="farmPics">
						                            <s:div id="farmingInputs_wp" styleClass="farmingInputs_wp fl clearfix">
						                                 	<a:repeat value="#{farmerInfoHome.recordList}" var="var" id="recordList" rowKeyVar="row">
									                         	<div class="farmingInputs fl">
									                                 <a class="farmingInputs_pic" href="javascript:;">
									                                 <s:fragment rendered="#{var.inputsInfoId.packingImagesUrl ne null and var.inputsInfoId.packingImagesUrl ne ''}"><img src="#{var.inputsInfoId.packingImagesUrl}"  /></s:fragment> 
																	 <s:fragment rendered="#{var.inputsInfoId.packingImagesUrl eq null or var.inputsInfoId.packingImagesUrl eq ''}"><img src="#{request.contextPath}/asset/images/wt003.jpg"  /></s:fragment>  
									                                 <p style="margin-top:2px;margin-bottom:2px;line-height: 15px;">#{var.inputsInfoId.name} #{var.amount}#{var.inputsInfoId.unitInfo.name}</p></a>
									                                 <em class="closeInputs" onclick="delRecordList(this,#{var.id_index})"><img src="#{request.contextPath}/asset/images/clo_04.jpg" /></em>
									                             </div>
									                        </a:repeat>                       	
							                                <div class="farmingInputs_add" style="position:static;">
							                                	<input type="button" class="farmingInputs_add3" style="margin-bottom:25px;" onclick="addRecord()"></input>
							                   				</div>
						                            	</s:div>
						                            	</div>
						                        </div> 
						                   </div>
						                   <div class="choice ami #{farmerInfoHome.enterpriseSettings.inputsInfoChecked?'':'disnone'}">
						                        <p class="item">农资成本</p>
						                        <s:div id="nsInputsCost">
						                        	<p class="unit" id="nsInputsCostVal"><h:outputText value="#{farmerInfoHome.nsInputsCost}" ><f:convertNumber pattern="#.##"/></h:outputText>元</p>
						                        </s:div>
						                    </div>
						                    <div class="choice ami #{farmerInfoHome.enterpriseSettings.costChecked?'':'disnone'}">
						                        <p class="item">其他成本:</p>
						                        <h:inputText  class="form-control nw130" value="#{farmerInfoHome.aai.costing}" id="record_costing" autocomplete="off" />
						                        <p class="unit">元</p>
						                    </div>
						                    <div class="choice ami">
						                        <p class="item">备注:</p>
						                       <h:inputTextarea id="description" styleClass="form-control nw420" rows="3" value="#{farmerInfoHome.aai.description}"/>
						                    </div>
						                    <div class="choice amh jh" style="display: none">
						                        <p class="item">操作类型：</p>
						                       	<select id="aritIdtow" class="selectpicker" data-live-search="true" onchange="checkSubmit(3);">
												    <a:repeat value="#{farmerInfoHome.getARTList()}" var="var">
												    	<option value="#{var[0]}" >#{var[1]}</option>
												    </a:repeat>
													</select>
												<h:inputHidden id="aritIdtowcheck" value="#{farmerInfoHome.aritIdInfotow}"  />
						                    </div>
						                    <div class="choice amh" style="display: none">
						                        <p class="item">预计时间：</p>
						                       	<div class="input-append date record_date2 " >
												    <h:inputText  id="plantBeginTime" styleClass="form-control nw123" value="#{farmerInfoHome.aah.sendTime}">
												    	<f:convertDateTime pattern="yyyy-MM-dd" timeZone="GMT+8" />
												    </h:inputText>
												    <span class="add-on"><i class="icon-th"></i></span>
											    </div>
						                    </div>
						                    <div class="choice amh clear #{farmerInfoHome.enterpriseSettings.inputsInfoChecked?'':'disnone'}" style="display: none">
						                        <p class="item">投入品：</p>
						                        <div class="farmPics">
						                       	<s:div id="farmingInputs_wp2" styleClass="farmingInputs_wp2 fl clearfix">
				                                 	<a:repeat value="#{farmerInfoHome.recordList2}" var="var" id="jishuarecordList_" rowKeyVar="row">
							                         	<div class="farmingInputs fl">
							                                 <a class="farmingInputs_pic" href="javascript:;">
							                                 <s:fragment rendered="#{var.inputsInfoId.packingImagesUrl ne null and var.inputsInfoId.packingImagesUrl ne ''}"><img src="#{var.inputsInfoId.packingImagesUrl}"  style="width:111px;height:89px"/></s:fragment> 
															 <s:fragment rendered="#{var.inputsInfoId.packingImagesUrl eq null or var.inputsInfoId.packingImagesUrl eq ''}"><img src="#{request.contextPath}/asset/images/wt003.jpg"  style="width:111px;height:89px"/></s:fragment>  
							                                 <p style="margin-top:10px;margin-bottom:13px;">#{var.inputsInfoId.name} #{var.amount}#{var.inputsInfoId.unitInfo.name}</p>
							                                 </a>
							                                 <em class="closeInputs" onclick="delRecordList(this,#{var.id_index})"><img src="#{request.contextPath}/asset/images/clo_04.jpg" /></em>
							                             </div>
				                        			</a:repeat>                           	
					                                <div class="farmingInputs_add" style="position:static;">
					                                	<input type="button" class="farmingInputs_add3" style="margin-bottom:25px;" onclick="addRecord()"></input>
					                   				</div>
				                            	</s:div>
				                            	</div>
						                    </div>
						                    <div class="choice amh #{farmerInfoHome.enterpriseSettings.inputsInfoChecked?'':'disnone'}" style="clear: both;">
						                        <p class="item">农资成本</p>
						                        <s:div id="jhInputsCost">
						                        	<p class="unit" id="jhInputsCostVal"><h:outputText value="#{farmerInfoHome.jhInputsCost}" ><f:convertNumber pattern="#.##"/></h:outputText>元</p>
						                        </s:div>
						                    </div>
						                    <div class="choice amh #{farmerInfoHome.enterpriseSettings.costChecked?'':'disnone'}">
						                        <p class="item">其他成本:</p>
						                        <h:inputText  class="form-control nw130" value="#{farmerInfoHome.aai.costing}" id="record_costing2" autocomplete="off" />
						                        <p class="unit">元</p>
						                    </div>
						                    <div class="choice amh" style="display: none">
						                        <p class="item">工作内容：</p>
						                       	<h:inputTextarea id="content" styleClass="form-control nw420" rows="3" value="#{farmerInfoHome.aah.content}" />
						                    </div>
							            </div>	
						                <div class="modal-footer" style="text-align:center;">
						                	<a:commandButton id="hidUpdateAai" style="display:none;" styleClass="btn btn-primary "  eventsQueue="mainQueue" value="提交" action="#{farmerInfoHome.updateAaAjx()}"  reRender="operate,operate_js" oncomplete="jquery('#fanhuitow').click();jquery('#noshili').click();" />
							            	<a:commandButton id="updateAai" style="padding: 6px 19px;" styleClass="btn btn-primary "  value="提交"  onclick="if(!checkOperate())return false;"  />
					    					<button data-dismiss="modal" class="btn btn-default" type="button" id="fanhuitow">返回</button>
						                </div>
						       		</a:form>						       		
                                         <!-- 添加投入品开始-->
								     <div class="farmingInputs_mini modal-dialog" id="addInputRecord" style="z-index:101;position:absolute; left:50%; top:50%; width:828px; margin-left:-414px; margin-top:-340px;">
								        <a:form ajaxSubmit="true" id="record_" autocomplete="on">
								            <div class="farmingInputs_miniHd"><h3>添加投入品</h3><input type="button" class="butt" onclick="jquery('#addInputRecord').hide()"/></div>
								                 <div class="farmingInputs_miniBd" style="padding:0;">
								                     <div class="box_padding20">
									                     <div id="iradio-InputProductInfo">
								                             <!-- 投入品搜索 -->
								                             <div class="farminputs_search clear" style="margin-bottom: 25px;">
								                                  	<div class="public-search">
																		<span class="octicon-search02"></span>
																		<input class="form-control srarchfont" id="searchInputText" type="text" value="请输入查询内容" onfocus="FocusFn(this,'#333','请输入查询内容')" onblur="BlurFn(this,'#a8a8a8','请输入查询内容')"></input>
																	</div>
																	<p class="txt_name fl">投入品类型</p>
																	<div class="inputs_selectpicker">
																		<select class="selectpicker" id="inputType">
									                                         <option value="2">农药</option>
									                                         <option value="3">肥料</option>
									                                         <option value="5">种子</option>
									                                         <option value="4">其他</option>
								                                        </select>
								                                    </div>
								                                     <input type="button" class="btn btn-primary fl" style="padding: 6px 19px;" onclick="searchInputs(1);" value="搜索"/>
								                             </div>
								                             <!-- 投入品表格上 -->
									                          <h:panelGroup id="recordInputList">
									                              <div class="inputs_table" id="inputs_table">
									                                   <table width="100%" cellpadding="0" cellspacing="0" id="inputsTable">
									                                       <tr>
									                                       	<th width="30" class="br_bt br_rt radius_lt"><span id="mn_checkall" class="mn_checkall" onclick="OutputCheckAll(this,'#inputs_table')"></span></th>
									                                       	<th width="164" class="br_bt br_rt">投入品编号</th>
									                                       	<th width="170" class="br_bt br_rt">投入品名称</th>
									                                       	<th width="176" class="br_bt br_rt">投入品规格</th>
									                                       	<th class="br_bt radius_lt">生产厂家</th>
									                                       </tr>
									                                       <a:repeat value="#{farmerInfoHome.goodsInfoList}" var="var">
									                                        <tr id="trp_#{var[0]}">
									                                        	<td class="br_bt br_rt"><span class="mn_check" id="check_#{var[0]}" onclick="OutputCheck(this,'#inputs_table','#mn_checkall','#{var[0]}')"></span>
									                                        		<input type="hidden" value="#{var[0]}"/>
									                                        		<input type="hidden" value="#{var[9]}"/>
									                                        	</td>
									                                        	<td class="br_bt br_rt"><p class="ellipsis">#{var[11]}</p></td>
									                                        	<td class="br_bt br_rt"><p class="ellipsis">#{var[1]}</p> </td>
									                                        	<td class="br_bt br_rt"><p class="ellipsis">#{var[5]}#{var[10]}<s:fragment rendered="#{not empty var[7]}">/#{var[7]}</s:fragment></p></td>
									                                        	<td class="br_bt"><p class="ellipsis">#{var[8]}</p></td>
									                                        </tr>
									                                       </a:repeat>
									                                    </table>
									                              </div>
								                              	<!-- 分页 开始 -->
														    	<table class="pageModel-wap fr" cellpadding="0" cellspacing="0">
															        <tr>
															            <td>
															                <div style="width:auto;">
															                    <table class="pageModel" cellpadding="0" cellspacing="0">
															                        <tr>
															                            <td>
															                            	<s:fragment rendered="#{farmerInfoHome.inputsPageNum ne 1 and farmerInfoHome.inputsTotalPageNum gt 0}">
															                            		<span class="page_num"><a id="lastPage" href="javascript:inputsJump(1);">首页</a></span>
																                            	<span class="page_num"><a href="javascript:inputsJump(#{farmerInfoHome.inputsPageNum-1});">&lt;&lt;</a></span>
																                            </s:fragment>
																                            <a:repeat value="#{farmerInfoHome.inputsPageList}" var="_page">
																                            	<span class="page_num #{farmerInfoHome.inputsPageNum eq _page? 'page_Cur':''}"><a href="javascript:inputsJump(#{_page});">#{_page}</a></span>
																                            </a:repeat>
																                            <s:fragment rendered="#{farmerInfoHome.inputsPageNum ne farmerInfoHome.inputsTotalPageNum and farmerInfoHome.inputsTotalPageNum gt 0}">
																                            	<span class="page_num"><a href="javascript:inputsJump(#{farmerInfoHome.inputsPageNum+1});">&gt;&gt;</a></span>
																                            	<span class="page_num"><a id="lastPage" href="javascript:inputsJump(#{farmerInfoHome.inputsTotalPageNum});">尾页</a></span>
																                            </s:fragment>																						                               
															                                <span class="page_num pageCount page_last" style="border-right:0;"><a href="javascript:;" style="cursor:default;">共#{farmerInfoHome.inputsTotalPageNum}页</a></span>
															                             </td>
															                    	</tr>
															                    </table>
															                </div>
															            </td>
															        </tr>
														    	</table>
															</h:panelGroup>
														</div>
								                    </div>
													<!-- 投入品表格下 -->
													<div class="box_padding20 br_dd mb20 clear">
														<div class="inputs_table mt20">
								                          	<table width="100%" cellpadding="0" cellspacing="0" id="addInputsTable">
								                                <tr>
								                                	<th width="40" class="br_bt br_rt radius_lt">序号</th>
								                                	<th width="80" class="br_bt br_rt">投入品名称</th>
								                                	<th width="80" class="br_bt br_rt">规格</th>
								                                	<th width="60" class="br_bt br_rt">使用量</th>
								                                	<th width="60" class="br_bt br_rt">成本</th>
								                                	<th width="120" class="br_bt br_rt">出库</th>
								                                	<th width="150" class="br_bt br_rt">入库批次</th>
								                                	<th width="90" class="br_bt br_rt">经办人</th>
								                                	<th width="50" class="br_bt br_rt">库存量</th>
								                                	<th class="br_bt radius_lt">操作</th>
								                                </tr>
								                            </table>
								                        </div>
													</div>
												</div>                                                                               
								                <div class="farmingInputs_miniFt">        	                                                               						
													<h:inputHidden value="#{farmerInfoHome.inputsInfoData}" id="inputsInfoData"/>
								                	<input type="hidden" id="agricultralType" name="agricultralType"/>
											         <a:commandButton id="submitInputs" value="提交" onclick="if(!submitRecord()){return false;}" reRender="farmingInputs_wp,farmingInputs_wp2,nsInputsCost,jhInputsCost" 
												         oncomplete="jquery('#addInputRecord').hide();document.getElementById('record_:submitInputs').disabled = false;farpicref('')" 
												         action="#{farmerInfoHome.addInputsRecord()}" styleClass="btn btn-success" style="width:60px;height:30px;"/>
											         <input class="btn btn-default" onclick="jquery('#addInputRecord').hide();" type="button" value="返回" style="margin-left:5px;width:60px;height:30px;"></input>
											        </div>
								            </a:form>
								         </div>
								     	<!-- 添加投入品结束-->
                                         <!--添加农事图片开始-->
				                        <div class="farmingInputs_mini modal-dialog" id="addMyFarming" style="z-index:1011;position:absolute; left:50%; top:56%; margin-left:-235px; margin-top:-260px;width:487px;display: none; ">
							             	<a:form ajaxSubmit="true" id="pic" autocomplete="on">
							             	<div class="farmingInputs_miniHd"><h3>添加农事图片</h3><input type="button" class="butt" onclick="jQuery('#addMyFarming').hide()"/></div>
							                 <div class="farmingInputs_miniBd_min">
							                 <table>
							                 <iframe src="#{request.contextPath}/agricultural/farmingPic.seam" id="myframPic" name="myframPic" frameBorder="0" scrolling="no" height="228px" width="320" onLoad="" ></iframe>
												<tr>
							                      <td width="100"><h3 class="all_te" style="margin-top:-26px;">图片说明:</h3></td>
							                     <td width="230" >
							                     	<h:inputTextarea value="#{farmerInfoHome.centent}" styleClass="form-control" id="contentId" style="width:319px; float:left; display:inline; margin-right:5px;"/>
							                     	<h:inputHidden value="#{farmerInfoHome.imgUrl}" id="imgUrl"/>
							                     	<h:inputHidden value="#{farmerInfoHome.picJson}" id="picJson"/>
							                     	<span style="color:#f00;">最多不能超过70字</span>
							                     </td>
							                   
							                 </tr>
							                 </table>
							                 </div>
							                 <div class="farmingInputs_miniFt">
							                 <a:commandButton value="提交"  onclick="if(!myPicUrl())return false" oncomplete="farpicref('')" reRender="picId"  action="#{farmerInfoHome.farmingPic()}" styleClass="btn btn-success" style="padding: 6px 19px;"/>
							                 <input class="btn btn-default" onclick="jQuery('#addMyFarming').hide();" type="button" value="返回" style="margin-left:5px;padding: 6px 19px;"></input>
							                 </div>
							                 </a:form>
						             </div>
						             <!--添加农事图片结束-->
						      	</div>
    						</div>
  						</div>
					</div>
    			</div>
				<div class="tjbt" id="profileInfo" style="display: none;">
					<button id="myModalinserts" style="#{s:hasRole('user_add')?'':'display:none;'}" class="btn btn-info" type="button"  data-toggle="modal" data-target="#myModalinsert" onclick="trEmptyClick();">添 加</button>
    				<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="myModalinsert" class="modal fade in w600na" style="display: none;">
  						<div class="modal-dialog">
    						<div class="modal-content">
      							<div class="modal-header">
							        <button data-dismiss="modal" class="close" type="button"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
							        <h4 id="myModalLabel" class="modal-title">培训记录添加</h4>
      							</div>
      							<div class="modal-body"> 
				                   	<a:form id="trform" ajaxSubmit="true" >
				                   		<h:inputHidden id="trtypeorder" value="#{farmerInfoHome.trtypeorder}"  />
						            	<table class="tck_table" style="width:580px; line-height:0px; padding:0px; margin-top:15px;">
						            		<tr style="display: none">
						                    	<td align="left" class="font_td">请选择基地：</td>
						                        <td colspan="3">
			                                       <select id="baseId" name="baseId" class="selectpicker" data-live-search="true" onchange="checkSubmit(0);">
													    <a:repeat value="#{farmerInfoHome.basicList}" var="_base">
													    	<option value="#{_base.id}" >#{_base.name}</option>
													    </a:repeat>
													</select>
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td align="left" class="font_td">开始日期：</td>
						                        <td >
			                                       	<div class="input-append date form_datetime " >
												    	<h:inputText readonly="true" id="beginTime" style="width:165px;cursor:auto;background-color:#FFFFFF;" styleClass="form-control nw150" value="#{farmerInfoHome.trInfo.beginTime}">
												    		<f:convertDateTime  pattern="yyyy-MM-dd HH:mm" timeZone="GMT+8" />
												    	</h:inputText>
												    	<span class="add-on"><i class="icon-th"></i></span>
												    	<h:inputHidden value="#{farmerInfoHome.beginTime}" id="beginTime1"/>
												    </div>
						                        </td>
						                        <td align="left" class="font_td">结束日期：</td>
						                        <td >
					                        		<div class="input-append date form_datetime " >
												    	<h:inputText readonly="true" id="endTime" style="width:165px;cursor:auto;background-color:#FFFFFF;" styleClass="form-control nw150" value="#{farmerInfoHome.trInfo.endTime}">
												    		<f:convertDateTime  pattern="yyyy-MM-dd HH:mm" timeZone="GMT+8" />
												    	</h:inputText>
												    	<span class="add-on"><i class="icon-th"></i></span>
												    	<h:inputHidden value="#{farmerInfoHome.endTime}" id="endTime1"/>
												    </div>
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td align="left" class="font_td">培训学时：</td>
						                        <td >
						                        	<h:inputText id="trHours"  value="#{farmerInfoHome.trInfo.trHours}" styleClass="form-control nw150"/>
						                        </td>
						                        <td align="left" class="font_td">授课人：</td>
						                        <td >
						                        	<h:inputText id="teachingPeople"  value="#{farmerInfoHome.trInfo.teachingPeople}" styleClass="form-control nw150"/>
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td align="left" width="79" class="font_td">效果验证：</td>
						                        <td colspan="3">
						                        	<select id="effectVerifyInfo" class="selectpicker" onchange="checkSubmit(4);">
														<option value="0" >未验证</option>
														<option value="1" >合格</option>
														<option value="2" >不合格</option>
													</select>
													<h:inputHidden id="effectVerify" value="#{farmerInfoHome.trInfo.effectVerify}"  />
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td align="left" class="font_td">培训内容：</td>
						                        <td colspan="3">
				                        	 		<h:inputTextarea id="content" styleClass="form-control nw420" rows="3"  value="#{farmerInfoHome.trInfo.content}" />
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td colspan="4" align="center" valign="bottom">
									            	<a:commandButton id="update"  styleClass="btn btn-primary" value="提交" action="#{farmerInfoHome.updateTrAjx}" onclick="if(!checkOperate2())return false;" reRender="trInfoList" oncomplete="jquery('#fanhuitowTr').click();" style="padding:6px 19px;"/>
							    					<button data-dismiss="modal" class="btn btn-default" type="button" id="fanhuitowTr">返回</button>
						                        </td>
						                    </tr>
						                </table>
						       		</a:form>
	     							</div>
    						</div>
  						</div>
					</div>
					<button style="display: none;" id="myModalupdates" class="btn btn-info" type="button"  data-toggle="modal" data-target="#myModalupdate">编辑</button>
					<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="myModalupdate" class="modal fade in w600na" style="display: none;">
  						<div class="modal-dialog">
    						<div class="modal-content">
      							<div class="modal-header">
							        <button data-dismiss="modal" class="close" type="button"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
							        <h4 id="myModalLabel" class="modal-title">培训记录编辑</h4>
      							</div>
      							<div class="modal-body"> 
				                   	<a:form id="trformu" ajaxSubmit="true" >
				                   		<h:inputHidden id="trtypeorder" value="#{farmerInfoHome.trtypeorder}"  />
						            	<table class="tck_table" style="width:580px; line-height:0px; padding:0px; margin-top:15px;">
						            		<tr style="display: none">
						                    	<td align="left" class="font_td">请选择基地：</td>
						                        <td colspan="3">
			                                       <select id="baseIdts" class="selectpicker" data-live-search="true" onchange="checkSubmit('0t');">
													    <a:repeat value="#{farmerInfoHome.basicList}" var="_base">
													    	<option value="#{_base.id}" >#{_base.name}</option>
													    </a:repeat>
													</select>
													<h:inputHidden id="baseId" value="#{farmerInfoHome.trbaseId}"  />
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td align="left" class="font_td">开始日期：</td>
						                        <td >
			                                       	<div class="input-append date form_datetime " >
												    	<h:inputText readonly="true" id="beginTime" style="width:165px;cursor:auto;background-color:#FFFFFF;" styleClass="form-control nw150" value="#{farmerInfoHome.trInfo.beginTime}">
												    		<f:convertDateTime  pattern="yyyy-MM-dd HH:mm" timeZone="GMT+8" />
												    	</h:inputText>
												    	<span class="add-on"><i class="icon-th"></i></span>
												    	<h:inputHidden value="#{farmerInfoHome.beginTime}" id="beginTime1"/>
												    </div>
						                        </td>
						                        <td align="left" class="font_td">结束日期：</td>
						                        <td >
					                        		<div class="input-append date form_datetime " >
												    	<h:inputText readonly="true" id="endTime" style="width:165px;cursor:auto;background-color:#FFFFFF;" styleClass="form-control nw150" value="#{farmerInfoHome.trInfo.endTime}">
												    		<f:convertDateTime  pattern="yyyy-MM-dd HH:mm" timeZone="GMT+8" />
												    	</h:inputText>
												    	<span class="add-on"><i class="icon-th"></i></span>
												    	<h:inputHidden value="#{farmerInfoHome.endTime}" id="endTime1"/>
												    </div>
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td align="left" class="font_td">培训学时：</td>
						                        <td >
						                        	<h:inputText id="trHours"  value="#{farmerInfoHome.trInfo.trHours}" styleClass="form-control nw150"/>
						                        </td>
						                        <td align="left" class="font_td">授课人：</td>
						                        <td >
						                        	<h:inputText id="teachingPeople"  value="#{farmerInfoHome.trInfo.teachingPeople}" styleClass="form-control nw150"/>
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td align="left" width="79" class="font_td">效果验证：</td>
						                        <td colspan="3">
						                        	<select id="effectVerifyInfou" class="selectpicker" onchange="checkSubmit(5);">
														<option value="0" >未验证</option>
														<option value="1" >合格</option>
														<option value="2" >不合格</option>
													</select>
													<h:inputHidden id="effectVerify" value="#{farmerInfoHome.trInfo.effectVerify}"  />
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td align="left" class="font_td">培训内容：</td>
						                        <td colspan="3">
				                        	 		<h:inputTextarea id="content" styleClass="form-control nw420" rows="3"  value="#{farmerInfoHome.trInfo.content}" />
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td colspan="4" align="center" valign="bottom">
									            	<a:commandButton id="update"  styleClass="btn btn-primary" value="提交" action="#{farmerInfoHome.updateTrAjx}" onclick="if(!checkOperate3())return false;" reRender="trInfoList" oncomplete="jquery('#fanhuitowTru').click();"  style="padding:6px 19px;"/>
							    					<button data-dismiss="modal" class="btn btn-default" type="button" id="fanhuitowTru">返回</button>
						                        </td>
						                    </tr>
						                </table>
						       		</a:form>
	     							</div>
    						</div>
  						</div>
					</div>
    			</div>
				<div class="tab-content" style="width:97%">
					<div id="home" class="tab-pane active" style=" margin-top:18px;">
						<!--农事管理开始-->
                        <h:panelGroup id="operate_js" layout="none">
                        	<script type="text/javascript">
                            	var calendarData = [#{farmerInfoHome.calendarStr}];
                           	</script>
                        </h:panelGroup>
                        <h:panelGroup id="operate" layout="none">
                        	<div class="dk_gl01">
                                <ul class="noshiul">
                                    <li id="noshili" class="noli noshili" onclick="calen(0);" style=" border-right:1px solid #ddd;">列表</li>
                                    <li class="noli noshili01" onclick="calen(1);">日历</li>
                                </ul>
                                <div style="width:160px;height:24px;float:left; margin-left: 11px;"><img src="#{request.contextPath}/asset/images/pm.jpg"/></div>
                                <div style="width:106px;height:24px;float:right; margin-right: 11px;"><img src="#{request.contextPath}/asset/images/green.png"/>#{farmerInfoHome.allTimes}小时</div>
                                <div style="width:103px;height:24px;float:right; margin-right: 11px;"><img src="#{request.contextPath}/asset/images/fa_blue.png"/>#{farmerInfoHome.allNums}件次</div>
                                <div class="nosidiv">
                                	<!--列表开始-->
                                    <div style="border:1px solid #e0e5eb;">
                                    <table width="100%" cellpadding="0" cellspacing="0" style="table-layout:fixed;">
                                     	<tr id="trwidth">
                                        	<td width="89" style=" background:url(#{request.contextPath}/asset/images/dk_tx.png) bottom center repeat-x;"></td>
                                            <td class="nos_timetd">0点</td>
                                            <td class="nos_timetd">2点</td>
                                            <td class="nos_timetd">4点</td>
                                            <td class="nos_timetd">6点</td>
                                            <td class="nos_timetd">8点</td>
                                            <td class="nos_timetd">10点</td>
                                            <td class="nos_timetd">12点</td>
                                            <td class="nos_timetd">14点</td>
                                            <td class="nos_timetd">16点</td>
                                            <td class="nos_timetd">18点</td>
                                            <td class="nos_timetd">20点</td>
                                            <td class="nos_timetd">22点</td>
                                            <td width="9" style="background:url(#{request.contextPath}/asset/images/dk_tx.png) bottom center repeat-x;"></td>
                                   		</tr>
                                        <a:repeat value="#{farmerInfoHome.amaList}" var="varr">
                                        	<tr>
                                            	<td width="89"  class="kd_data_bg"><font class="dk_date_td">#{varr[2]}</font><br/><font>#{varr[1]}</font></td>
                                                <td colspan="13" class="dk_data_bg02" >
                                                  	<a:repeat value="#{varr[0]}" var="_var" rowKeyVar="_index">
                                                        	<div style="position:relative;z-index:5;margin-top:2px;" class="operateList" aa="#{_var[7]}" bb="#{_var[9]}" cc="#{_var[11]}">
                                                        	<table style=" width:90px;#{_var[3]==null||_var[3]==0||_var[3]==1?'':'display:none'}" cellpadding="0" class="mytable_" cellspacing="0" >
                                                            	<tr>
                                                                	<td width="4" height="4" ><img src="#{request.contextPath}/asset/images/nosi01.png" width="4" height="4" /></td>
                                                                    <td height="4" class="bwi" style=" background:url(#{request.contextPath}/asset/images/nosi012.png) top repeat-x;"></td>
                                                                    <td width="4" height="4" ><img src="#{request.contextPath}/asset/images/nosi013.png" width="4" height="4" /></td>
                                                            	</tr>
                                                            	<tr>
                                                                	<td width="4" style=" background:url(#{request.contextPath}/asset/images/nosi014.png) left repeat-y;"></td>
                                                                    <td height="30" style=" background:#b7e2e9;">
                                                                    	<div class="dk_nos"></div>
                                                                    	<div class="dk_nos"></div>
                                                                    </td>
                                                                    <td width="4" style=" background:url(#{request.contextPath}/asset/images/nosi015.png) right repeat-y;" ></td>
                                                            	</tr>
                                                            	<tr>
                                                                	<td width="4" height="4" ><img src="#{request.contextPath}/asset/images/nosi016.png" width="4" height="4" /></td>
                                                                    <td height="4" class="bwi" style=" background:url(#{request.contextPath}/asset/images/nosi017.png) bottom repeat-x;"></td>
                                                                    <td width="4" height="4" ><img src="#{request.contextPath}/asset/images/nosi018.png" width="4" height="4" /></td>
                                                            	</tr>
                                                            </table>
                                                            <table cellpadding="0" style="width:100px; height:33px; #{_var[3]==2?'':'display:none'}" class="mytable_" cellspacing="0" >
                                                            	<tr>
                                                                	<td width="4" height="4" ><img src="#{request.contextPath}/asset/images/nosi3_01.png" width="4" height="4" /></td>
                                                                    <td height="4" style=" background:url(#{request.contextPath}/asset/images/nosi3_03.png) top repeat-x;"></td>
                                                                    <td width="4" height="4" ><img src="#{request.contextPath}/asset/images/nosi3_05.png" width="4" height="4" /></td>
                                                            	</tr>
                                                            	<tr>
                                                                	<td width="4" style=" background:url(#{request.contextPath}/asset/images/nosi3_10.png) left repeat-y;"></td>
                                                                    <td style=" background:#d0e87a;">
                                                                    	<div class="dk_nos"></div>
                                                                    	<div class="dk_nos"></div>
                                                                    </td>
                                                                    <td width="4" style=" background:url(#{request.contextPath}/asset/images/nosi3_09.png) right repeat-y;" ></td>
                                                            	</tr>
                                                            	<tr>
                                                                	<td width="4" height="4" ><img src="#{request.contextPath}/asset/images/nosi3_13.png" width="4" height="4" /></td>
                                                                    <td height="4" style=" background:url(#{request.contextPath}/asset/images/nosi3_14.png) bottom repeat-x;"></td>
                                                                    <td width="4" height="4" ><img src="#{request.contextPath}/asset/images/nosi3_15.png" width="4" height="4" /></td>
                                                            	</tr>
                                                            </table>
                                                             <div class="_cont" style="position:absolute;z-index:6;left:3px;top:3px;">
                                                                <div class="dk_nos">#{_var[2]}</div>
                                                                <div class="dk_nos"><span id="time#{_index}">#{_var[0]}</span>&#160;<span id="times#{_index}">#{_var[1]}</span>小时</div>
                                                            
                                                            </div>
                                                            <div  class="pc_name" >
                                                <div style=";display: none;#{_var[3]==null||_var[3]==0||_var[3]==1?'margin-left:35px !important;margin-top:-120px !important':'margin-left:35px !important;margin-top:-88px !important'}" class="pc_p2">
                                                   <table width="190"  cellspacing="0" cellpadding="0" style=" table-layout:fixed;width:190px;height:auto">
                                                   		<tbody><tr>
                                                        	<td width="7" valign="middle"><img width="7" height="13" src="#{request.contextPath}/asset/images/san.png"/></td>
                                                            <td valign="top" style="background:url(#{request.contextPath}/asset/images/tab_bg.png) repeat;">
                                                            	<table width="90%" cellspacing="0" cellpadding="0" style="margin:10px auto;">
                                                            		<tbody>
                                                            		<tr>
                                                                    	<td width="50%" class="ap_none">操作区域</td>
                                                                        <td width="50%" class="ap_none2">#{_var[10]}</td>
                                                                    </tr>
                                                                    <tr>
                                                                    	<td width="50%" class="ap_none">操作人</td>
                                                                        <td width="50%" class="ap_none2">#{_var[5]}</td>
                                                                    </tr>
                                                                    <tr>
                                                                    	<td width="50%" class="ap_none">操作内容</td>
                                                                        <td width="50%" class="ap_none2">#{_var[2]}</td>
                                                                    </tr>
                                                                    <tr style="#{_var[3]>1?'display:none':''}">
                                                                    	<td width="50%" class="ap_none">图片</td>
                                                                        <td width="50%" class="ap_none2">
                                                                        <a:repeat value="#{_var[4].split(',')}" var="__var">
                                                                        <img src="#{__var}" width="30" height="30"/>&#160;
                                                                        </a:repeat>
                                                                        <s:div rendered="#{_var[4]==null || _var[4]==''}">
                                                                        无
                                                                        </s:div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                    	<td width="50%" class="ap_none">操作时间</td>
                                                                        <td width="50%" class="ap_none2">
                                                                        	#{_var[0]}
                                                                        </td>
                                                                    </tr>
                                                                    <tr  style="#{_var[3]>1?'display:none':''}">
                                                                    	<td width="50%" class="ap_none">工时</td>
                                                                        <td width="50%" class="ap_none2">
                                                                        	#{_var[1]}小时
                                                                        </td>
                                                                    </tr>
                                                                    <tr style="">
                                                                    	<td width="50%" class="ap_none">备注</td>
                                                                        <td width="50%" class="ap_none2">
                                                                        	#{_var[8]==null||_var[8]==''?'无':_var[8]}
                                                                        </td>
                                                                    </tr>
                                                            	</tbody></table>
                                                            </td>
                                                        </tr>
                                                   </tbody></table>
                                                   
                                                </div>
                                            </div>
                                                            </div>
                                                        	</a:repeat>
			                                        
												</td>
											</tr>
										</a:repeat>
                               			<ui:fragment rendered="#{farmerInfoHome.amaList.size == 0}">
		                  					<tr>
			                                 	<td width="89" class="kd_data_bg"></td>
			                                 	<td class="dk_data_bg02" colspan="12" style="width: 703px; height: 340px; text-align: center; font-size: 16px;"> 当前无农事记录                                                	                                                         </td>
			                                 </tr>
		                                </ui:fragment>
									</table>
									</div>
									<!--列表结束-->
		                       		<div>
					                	<div id="calendar"></div>
					                	<div class="clear"></div>
									</div>
								</div>
							</div>
						</h:panelGroup>
						<div>
				    			<table width="84" style="margin:35px auto 0 auto;">
									<tr>
										<td>
						    				<s:link view="/map/FarmerInfoManageList.xhtml" styleClass="btn btn-default" value="返回" id="bn_left6" style="margin-left:10px" >
							    				<f:param name="baseId" value="#{farmerInfoHome.baseId}"/>
							    			</s:link>
			                            </td>
									</tr>
			                   </table> 
			  			</div>
						<!--农事管理结束-->
					</div>
					
			  		<div id="profile" class="tab-pane">
			  		<h:panelGroup id="trInfoList">
			  			<div class="xslc"><font>培训总学时：#{farmerInfoHome.trCount}小时</font></div>
						<div class="tbbox" >
	                        <table width="100%" height="100%" cellspacing="0" cellpadding="0" class="khtable_001y">
		                         <tr>
		                             <td class="kh_td kh_th_font01 kh_th_bg01">培训开始时间</td>
		                             <td class="kh_td kh_th_font01 kh_th_bg01">培训结束时间</td>
	                                 <td class="kh_td kh_th_font01 kh_th_bg01">培训内容</td>
	                                 <td class="kh_td kh_th_font01 kh_th_bg01">培训学时</td>
	                                 <td class="kh_td kh_th_font01 kh_th_bg01">授课人</td>
	                                 <td class="kh_td kh_th_font01 kh_th_bg01">效果验证</td>
	                                 <td class="kh_td kh_th_font01 kh_th_bg01">操作</td>
		                         </tr>
		                         
			                         <a:repeat value="#{farmerInfoHome.trList}" var="_var" rowKeyVar="_index">
			                             <tr>
			                                 <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">
			                                 	<h:outputText value="#{_var.beginTime}">
										    		<f:convertDateTime  pattern="yyyy-MM-dd HH:mm" timeZone="GMT+8" />
										    	</h:outputText>
			                                 </td>
				                             <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}"> 
				                             	<h:outputText value="#{_var.endTime}">
										    		<f:convertDateTime  pattern="yyyy-MM-dd HH:mm" timeZone="GMT+8" />
										    	</h:outputText>
				                             </td>
			                                 <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">#{_var.content}</td>
			                                 <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">#{_var.trHours}</td>
			                                 <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">#{_var.teachingPeople}</td>
			                                 <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">
				                                 <h:outputText value="未验证" rendered="#{_var.effectVerify eq 0}"/>
												 <h:outputText value="合格" rendered="#{_var.effectVerify eq 1}"/>
												 <h:outputText value="不合格" rendered="#{_var.effectVerify eq 2}"/>
			                                 </td>
			                                 <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">
			                                 	<a class="list_edit" id="trEdit" title="编辑" onclick="selectTr(#{_var.id});"></a>&#160;
												<a class="list_delete" id="userDelete" title="删除" onclick="deletedTrInfo(#{_var.id});" ></a>
			                                 </td>
				                          </tr>
			                          </a:repeat>
	                         </table> 
	                         <div>
					    			<table width="84" style="margin:35px auto 0 auto;">
										<tr>
											<td>
							    				<s:link view="/map/FarmerInfoManageList.xhtml" styleClass="btn btn-default" value="返回" id="bn_left7" style="margin-left:10px" >
								    				<f:param name="baseId" value="#{farmerInfoHome.baseId}"/>
								    			</s:link>
				                            </td>
										</tr>
				                   </table> 
				  			</div>      
						</div>
						</h:panelGroup>
						
					</div>
					
  				</div>
			</div>
			<a:form>
				<a:queue requestDelay="10" ignoreDupResponses="true" id="mainQueue"/>
				<a:jsFunction name="selectTr" action="#{farmerInfoHome.selectTr}" data="#{farmerInfoHome.trtypeorder}_#{stringUtil.showTime2(farmerInfoHome.trInfo.beginTime)}_#{stringUtil.showTime2(farmerInfoHome.trInfo.endTime)}_#{farmerInfoHome.trInfo.content}_#{farmerInfoHome.trInfo.trHours}_#{farmerInfoHome.trInfo.teachingPeople}_#{farmerInfoHome.trInfo.effectVerify}_#{farmerInfoHome.trInfo.baseId.id}" oncomplete="trEmptyClicktow(data);">
			        <a:actionparam name="trId" assignTo="#{farmerInfoHome.trId}"/>
				</a:jsFunction>
				<a:jsFunction name="deletedTr" action="#{farmerInfoHome.deletedTr}" reRender="trInfoList">
			        <a:actionparam name="trId" assignTo="#{farmerInfoHome.trId}"/>
				</a:jsFunction>
				<a:jsFunction name="changeBaseMe" action="#{farmerInfoHome.changeBase}" reRender="typeNew,zhiwei" oncomplete="jquery('.selectpicker').selectpicker();">
			        <a:actionparam name="bId" assignTo="#{farmerInfoHome.bId}"/>
				</a:jsFunction>
				<a:jsFunction name="delfarmingPicList" reRender="picId" action="#{farmerInfoHome.delfarmingPicList()}" oncomplete="farpicref('')">
					<a:actionparam name="index" assignTo="#{farmerInfoHome.index}"/>
				</a:jsFunction>
				<a:jsFunction eventsQueue="mainQueue" name="changeInputs" action="#{farmerInfoHome.searchGoodsInfoList()}" data="#{farmerInfoHome.re_input_Str}" oncomplete="changeInputs_next(data)" reRender="recordInputSel,storageRoomSel,goodsBatchSel,operaterSel,unitStandardPanel">
					<a:actionparam name="param" assignTo="#{farmerInfoHome.param}" />
					<a:actionparam name="dataStandard" assignTo="#{farmerInfoHome.dataStandard}" />
				</a:jsFunction>
				<a:jsFunction eventsQueue="mainQueue" name="searchInputsList" action="#{farmerInfoHome.searchGoodsInfoList()}" oncomplete="searchInputsList_next()" reRender="recordInputList">
					<a:actionparam name="param" assignTo="#{farmerInfoHome.param}" />
					<a:actionparam name="dataStandard" assignTo="#{farmerInfoHome.dataStandard}" />
					<a:actionparam name="searchInfo" assignTo="#{farmerInfoHome.searchInfo}" />
					<a:actionparam name="inputsPageNum" assignTo="#{farmerInfoHome.inputsPageNum}" />
				</a:jsFunction>
				<a:jsFunction eventsQueue="mainQueue" name="changeStorageRoom" action="#{farmerInfoHome.changeStorageRoom()}" data="#{farmerInfoHome.resultData}" oncomplete="changeRoom_next(data)" >
					<a:actionparam name="storageRoomId" assignTo="#{farmerInfoHome.storageRoomId}" />
					<a:actionparam name="inputsInfoId" assignTo="#{farmerInfoHome.inputsInfoId}" />
				</a:jsFunction>
				<a:jsFunction eventsQueue="mainQueue" name="searchGoodsCount" action="#{farmerInfoHome.searchGoodsCount()}" data="#{farmerInfoHome.resultData}" oncomplete="changeGoodsBatch_next(data)">
					<a:actionparam name="goodsBatchIds" assignTo="#{farmerInfoHome.goodsBatchIds}" />
					<a:actionparam name="inputsInfoId" assignTo="#{farmerInfoHome.inputsInfoId}" />
				</a:jsFunction>
				<a:jsFunction eventsQueue="mainQueue" name="changeGoodsInfo" action="#{farmerInfoHome.searchStorageRoomList()}" data="#{farmerInfoHome.resultData}" oncomplete="storageCallback(data);">
					<a:actionparam name="inputsIds" assignTo="#{farmerInfoHome.inputsIds}" />
				</a:jsFunction>	
				<a:jsFunction eventsQueue="mainQueue" name="delRecordList_next" action="#{farmerInfoHome.delRecordList()}" reRender="nsInputsCost,jhInputsCost" oncomplete="jquery('#login').hide();">
					<a:actionparam name="param" assignTo="#{farmerInfoHome.param}" />
					<a:actionparam name="agricultralType" assignTo="#{farmerInfoHome.agricultralType}" />			
				</a:jsFunction>
				<a:jsFunction eventsQueue="mainQueue" name="resetRecordList_next" action="#{farmerInfoHome.resetRecordList()}" ></a:jsFunction>
				<a:jsFunction name="checkStorage"  action="#{farmerInfoHome.checkStorage()}" data="#{farmerInfoHome.promptMessage}" oncomplete="submitAgr(data)" >
					<a:actionparam name="agricultralType" assignTo="#{farmerInfoHome.agricultralType}"/>
				</a:jsFunction>
				<a:jsFunction eventsQueue="mainQueue" name="checkAccount"  action="#{farmerInfoHome.checkAccount()}" data="#{farmerInfoHome.errorMsg}" oncomplete="accountLimit(data)" >
					<a:actionparam name="userId" assignTo="#{farmerInfoHome.userId}"/>
				</a:jsFunction>
			</a:form>
			
			<link href="#{request.contextPath}/asset/js/fullcalendar.css" rel="stylesheet" />
			<link href="#{request.contextPath}/asset/js/fullcalendar.print.css" rel="stylesheet" media="print" />
			<script type="text/javascript" src="#{request.contextPath}/asset/js/gantt/jquery-1.10.2.js"></script>
			<script src='#{request.contextPath}/asset/js/jquery-ui.custom.min_Q.js'></script>
			<script src='#{request.contextPath}/asset/js/fullcalendar_Q.js'></script>    
			<script type="text/javascript">
			//<![CDATA[
			
			function changeBase(obj){
				if(obj != null && obj != "undifined"){
					changeBaseMe(obj);
				}
			}
			jquery(document).ready(function(){
				checkSubmit("fi");	
				var farType = jquery("#fiform\\:type").val();
				changeFarmer(farType);
				jquery(".farmingInputs_wp2").delegate('.farmingInputs','mouseenter mouseleave',function ( event ) {
				    if (event.type == 'mouseenter') {
				    	jquery(this).children('.closeInputs').css('display','block');	
				   } else {
					   jquery(this).children('.closeInputs').css('display','none');
				   }
				});

				jquery('.tunnel').each(function(){
				    jquery(this).selectpicker({noneSelectedText:"无选项"});
		    	   	jquery(this).selectpicker('deselectAll');
				})
				
				if(parseInt(farType)==3){
					jquery('.tun3').find('.tunnel').selectpicker('val',jquery('#fiform\\:tunnelIds').val().split(','));
				}else if(parseInt(farType) ==6){
					jquery('.tun6').find('.tunnel').selectpicker('val',jquery('#fiform\\:tunnelIds').val().split(','));
				}else if(parseInt(farType) ==781){
					jquery('.tun781').find('.tunnel').selectpicker('val',jquery('#fiform\\:tunnelIds').val().split(','));
				}else{
					jquery('.tun3').find('.dropdown-toggle').attr('disabled','disabled');
				}
				jquery('.tun3 .tunnel').attr('onchange','changeTun3(event)');
				jquery('.tun6 .tunnel').attr('onchange','changeTun6(event)');
				jquery('.tun781 .tunnel').attr('onchange','changeTun781(event)');
			});
			function  nameFocus(obj){
				if(obj.value=="请将手机号设定为用户名"){
						obj.value="";
				}
				
			} 
			function nameBlur(obj){
			   if(obj.value==""){
					obj.value="请将手机号设定为用户名";
				}
			}
			 var re= /^(13[0-9]|15[012356789]|17[01236789]|18[0-9]|14[57])[0-9]{8}$/;
			var passChe1 = /^[a-zA-Z0-9]+$/;
			var passChe2 = /(^(.*\d+.*[a-zA-Z]+.*)$)|(^(.*[a-zA-Z]+.*\d+.*)$)/;
			var emailReg = /^([a-z0-9A-Z]+[_-|\.]?)+[a-z0-9A-Z]@([a-z0-9A-Z]+(-[a-z0-9A-Z]+)?\.)+[a-zA-Z]{2,}$/;
			//检测输入的用户内容是否符合要求			
			function checkUser(){
				if(jquery('#fiform\\:type').val() == 6){
					var tun6val=jquery('.tun6').find('.tunnel').val();
					if(tun6val==null){
						alert("请分配地块")
						return false;
					}else{
						var tunids=""
						for(var i=0;i<tun6val.length;i++){
							if(jquery("[value="+tun6val[i]+"]").attr("ty")!="partition" && tun6val[i]!=0){
								tunids+=tun6val[i]+",";
							}
						}
						jquery('#fiform\\:tunnelIds').val(tunids.split(','));
					}
				}else if(jquery('#fiform\\:type').val() == 3){
					var tun3val=jquery('.tun3').find('.tunnel').val();
					if(tun3val==null){
						alert("请分配地块")
						return false;
					}else{
						var tunids=""
						for(var i=0;i<tun3val.length;i++){
							if(jquery("[value="+tun3val[i]+"]").attr("ty")!="partition" && tun3val[i]!=0){
								tunids+=tun3val[i]+",";
							}
						}
						jquery('#fiform\\:tunnelIds').val(tunids.split(','));
					}
				}else if(jquery('#fiform\\:type').val() == 781){
					var tun781val=jquery('.tun781').find('.tunnel').val();
					if(tun781val==null){
						alert("请分配地块")
						return false;
					}else{
						var tunids=""
						for(var i=0;i<tun781val.length;i++){
							if(jquery("[value="+tun781val[i]+"]").attr("ty")!="partition" && tun781val[i]!=0){
								tunids+=tun781val[i]+",";
							}
						}
						jquery('#fiform\\:tunnelIds').val(tunids.split(','));
					}
				}else{
					jquery('#fiform\\:tunnelIds').val(null);
				}
				if(jQuery('#fiform\\:wards').val().length>100){
					alert("农务感言最多为100字！");
					return false;
				}
				if(jQuery('#fiform\\:description').val().length>100){
					alert("实践经验介绍最多为100字！");
					return false;
				}
				var farmerName = document.getElementById("fiform:name").value;
				var farmerPos = document.getElementById("fiform:positionsId").value;
				var farmerType = document.getElementById("fiform:type").value;
				if(farmerName == ""){
					alert("姓名不能为空");
					return false;
				}
				if(farmerName.length>10){
					alert("姓名太长，不能超过10个字符!");
					return false;
				}
				 if(farmerPos == ""){
					alert("请先添加职位");
					return false;
				} 
				if(farmerType == ""){
					alert("请先添加角色");
					return false;
				}
				  var isCheck = jquery("#fiform\\:checkHide").val();
				if(isCheck == 1){
					var userName1 = "#{farmerInfoHome.user.name}";
					if(userName1 == ""){
						var userName = document.getElementById("fiform:userName").value;
						if(userName=="" || userName == "请将手机号设定为用户名"){
				     		alert("用户名不能为空");
				     		return false;
				     	}else if(!re.test(userName) || userName.length != 11){
				     		alert("请将手机号设定为用户名");
							return false;
				     	}
					}
					
					 var m1 = document.getElementById("fiform:password").value;
					  var m2 = document.getElementById("fiform:password1").value;
					  var email = document.getElementById("fiform:email").value;
					  var cla = jquery("#pwd").attr("class");
					  if(cla == "sss"){
						  if(m1==""){
								alert("密码不能为空");
								return false;
							}else if(m1.length <= 6 || !passChe1.test(m1) || !passChe2.test(m1)){
								alert("密码长度必须大于6，并且只能由字母和数字组成!");
								return false;
							}	
							if(m2==""){
								alert("确认密码不能为空");
								return false;
							}
							if(m1!=m2){
								alert("两次密码不一致");
								return false;
							}
					 }else if(cla==""){

						 if(m1==""){
								alert("密码不能为空");
								return false;
							}else if(m1.length <= 6 || !passChe1.test(m1) || !passChe2.test(m1)){
								alert("密码长度必须大于6，并且只能由字母和数字组成!");
								return false;
							}	
							if(m2==""){
								alert("确认密码不能为空");
								return false;
							}
							if(m1!=m2){
								alert("两次密码不一致");
								return false;
							}
					 }
					if(email != "" && !emailReg.test(email)){
						alert("请输入正确的电子邮件地址");
						return false;
					}
					return true;
				}
				
				return true;
			}
			function calen(index){
				if(index==1){
					jquery(".noli:eq(0)").attr("class","noli noshili ");
					jquery(".noli:eq(1)").attr("class","noli noshili01 current");
					jquery(".nosidiv>div:eq(0)").hide();
					jquery(".nosidiv>div:eq(1)").show();
					addF();
				}else{
					jquery(".noli:eq(0)").attr("class","noli noshili current");
					jquery(".noli:eq(1)").attr("class","noli noshili01");
					jquery(".nosidiv>div:eq(0)").show();
					jquery(".nosidiv>div:eq(1)").hide();
					resetLeft();
				}
			}
			
			function resetLeft(){
				var tableWidth = jquery("#trwidth").width();
				var width = tableWidth-89-9;
				var minute = width/24/60;
				jquery(".operateList").each(function(){
					var left = jquery(this).attr("aa");
					var width_ = jquery(this).attr("bb");
					var flag = jquery(this).attr("cc");
					if(left>1320){
						jquery(this).css("left",left*minute-30);
						jquery(this).find(".mytable_").css({ "margin-left": "30px"}); 
					}else{
						jquery(this).css("left",left*minute);
					}
					jquery(this).css("min-width",90);
					jquery(this).css("max-width",(tableWidth-89-left*minute+parseInt(flag))+"px");
					if(width_==''){
						jquery(this).find(".mytable_").width(62+parseInt(flag));
					}else{
						jquery(this).find(".mytable_").width(width_*minute+parseInt(flag));
					}
					jquery(this).find(".bwi").css("width",width_*minute-8+parseInt(flag));
				});
			}

			function addF() {
				jquery('#calendar').empty();
				_Q('#calendar').fullCalendar({
					header: {
						left: 'prev,next today',
						center: 'title',
						right: 'month,agendaWeek,agendaDay'
					},
					editable: false,
					events: calendarData
				});
			}

			jquery('#home').delegate('.operateList','mouseenter mouseleave',function ( event ) {
			    if (event.type == 'mouseenter') {
			    	var bodyWidth = jquery("body").width();
			    	var divWidth = jquery(this).find('.pc_p2').width();
			    	var parentLeft = jquery(this).offset().left;
			    	if(parentLeft+divWidth+35>bodyWidth){
			    		jquery(this).find('.pc_name').css("margin-left",bodyWidth-parentLeft-divWidth-45);
			    	}
			    	jquery(this).find('.pc_name').parent('div').css('z-index','100');
					jquery(this).find(".pc_name").find('.pc_p2').show();
			    } else {
			    	jquery(this).find('.pc_name').parent('div').css('z-index','4');
			    	jquery(this).find(".pc_name").find('.pc_p2').hide();
					//setTimtout(function(){jquery(this).next(".pc_name").find('.pc_p2').hide();},1);
			    }
		  	});
			
			
			jquery(".form_datetime").datetimepicker({
				format: "yyyy-mm-dd hh:ii",
				autoclose: true,
				weekStart: 1,
				//startDate: "2014-08-14 10:00",
				language:  'zh-CN',
				pickerPosition: "bottom-left"
			});

			jquery(".record_date2").datetimepicker({
				format: "yyyy-mm-dd",  
				autoclose: true,
				 weekStart: 1,
				 language:  'zh-CN',
				 startView: 3,
				minView: 2,
				maxView: 4,	
				pickerPosition: "bottom-left"
			});
			window.onload = function () {
			  jquery('.selectpicker').selectpicker();
			  jquery("#noshili").click();
			  initInputsInfo();
			  jquery("#login").hide();
			};
			
			function checkSubmit(obj){
				if (obj == 'fi') {
					var baseId = document.getElementById("baseIdfi").value; 
					document.getElementById("fiform:baseId").value = baseId;
				}
				if (obj == 'ar') {
					var ariId = document.getElementById("ariselect").value; 
					document.getElementById("fiform:ariId").value = ariId;
				}
				if(obj == 0){
					var baseId = document.getElementById("baseIds").value; 
					document.getElementById("trform:baseId").value = baseId;
				}
				if(obj == '0t'){
					var baseId = document.getElementById("baseIdts").value; 
					document.getElementById("trformu:baseId").value = baseId;
				}
				if(obj == 1){
					var realPlantId = document.getElementById("tunnelInfoId").value; 
					document.getElementById("amform:realPlantId").value = realPlantId;
				}
				if(obj == 2){
					var aritId = document.getElementById("aritId").value; 
					document.getElementById("amform:aritIdcheck").value = aritId;
				}
				if(obj == 3){
			 		var aritIdtow = document.getElementById("aritIdtow").value; 
			 		document.getElementById("amform:aritIdtowcheck").value = aritIdtow;
				}
				if(obj == 4){
					var aritIdtow = document.getElementById("effectVerifyInfo").value; 
			 		document.getElementById("trform:effectVerify").value = aritIdtow;
				}
				if(obj == 5){
					var aritIdtow = document.getElementById("effectVerifyInfou").value; 
			 		document.getElementById("trformu:effectVerify").value = aritIdtow;
				}

			}	
			function emptyClick(){
				resetRecordList_next();
				jquery(".farmingInputs").remove();
				jquery("#clickradio").click();
				jquery("#tunnelInfoId")[0].selectedIndex = 1;
				jquery('#tunnelInfoId').selectpicker('refresh');
				jquery("#aritId")[0].selectedIndex = 0;
				jquery('#aritId').selectpicker('refresh');
				jquery("#aritIdtow")[0].selectedIndex = 0;
				jquery('#aritIdtow').selectpicker('refresh');
				jquery("#amform\\:areShow").attr("checked",false);
				jquery("#amform\\:operatingTime").val("");
				jquery("#amform\\:endTime").val("");
				jquery("#amform\\:plantBeginTime").val("");
				jquery("#amform\\:description").val("");
				jquery("#amform\\:content").val("");
				jquery("#amform\\:record_costing").val(null);
				jquery("#amform\\:record_costing2").val(null);
			}
			function trEmptyClick(){
				var tr = jquery("#trform\\:trtypeorder").val();
				if(tr == 0){
					jquery("#trform\\:trtypeorder").val(0);
					jquery("#trform\\:trId").val("");
					jquery("#trform\\:beginTime").val("");
					jquery("#trform\\:endTime").val("");
					jquery("#trform\\:trHours").val("");
					jquery("#trform\\:teachingPeople").val("");
					jquery("#effectVerifyInfo")[0].selectedIndex = 0;
					jquery('#effectVerifyInfo').selectpicker('refresh');
					jquery("#trform\\:content").val("");
				}
			}
			function trEmptyClicktow(obj){
				var objsum = obj.split("_");
				jquery("#trformu\\:trtypeorder").val(objsum[0]);
				jquery("#trformu\\:beginTime").val(objsum[1]);
				jquery("#trformu\\:endTime").val(objsum[2]);
				jquery("#trformu\\:trHours").val(objsum[4]);
				jquery("#trformu\\:teachingPeople").val(objsum[5]);
				jquery("#effectVerifyInfou")[0].selectedIndex = objsum[6];
				jquery('#effectVerifyInfou').selectpicker('refresh');
				
				document.getElementById("trformu:effectVerify").value = objsum[6];
				jquery("#baseIdts").val(objsum[7]);
				jquery('#baseIdts').selectpicker('refresh');
				document.getElementById("trformu:baseId").value = objsum[7];
				jquery("#trformu\\:content").val(objsum[3]);
				jquery('#myModalupdates').click();
			}
			function deletedTrInfo(obj){
				if(confirm('确定删除吗？')){
					deletedTr(obj);
				}
			}
			function radio22(obj){
	        	if(obj.getAttribute("aa")=="0"){
	        		jquery("#aai_show").val("1");
	        		jquery(obj).addClass("checked");
	        		obj.setAttribute("aa","1");
	        	}else{
	        		jquery(obj).removeClass("checked");
	        		obj.setAttribute("aa","0");
	        		jquery("#aai_show").val("0");
	        	}
	        }
			function trim(str){
			   	return str.replace(/(^\s+)|\s+$/g,"");
			 }
			function checkOperate(){
				var type = jquery("#amform\\:typeorder").val();
				if(type==1){
					if(jquery("#tunnelInfoId").val()==null||jquery("#tunnelInfoId").val()==""){
						alert("请选择区域!");
						return false;
					}
					if(jquery("#amform\\:operatingTime").parent().css('display')!='none'){
						var operTime = jquery("#amform\\:operatingTime").val();
						if(null==operTime || trim(operTime)==""){
							alert("请填写操作时间!");
							return false;
						}
					}
					if(jquery("#amform\\:work_time").parent().css('display')!='none'){
						var rtime = jquery("#amform\\:work_time").val();
						if(trim(rtime)==""){
							alert("请填写工时!");
							return false;
						}	
						if(isNaN(rtime)){
							alert("工时请填写数字!");
							return false;
						}else{
							rtime = parseFloat(rtime);
							if(rtime>200){
								alert("工时不能超过200!");
								return false;
							}
						}	
					}		

					if(jquery("#amform\\:record_temp").parent().css('display')!='none'){	
						var temp = jquery("#amform\\:record_temp").val();
						if(isNaN(temp)){
							alert("空气温度请填写数字!");
							return false;
						}else{
							temp = parseFloat(temp);
						}
						
						var humi = jquery("#amform\\:record_humi").val();
						if(isNaN(humi)){
							alert("空气湿度请填写数字!");
							return false;
						}else{
							humi = parseFloat(humi);
						}
					}

					if(jquery("#amform\\:record_costing").parent().css('display')!='none'){
						var costing = jquery("#amform\\:record_costing").val();
						if(isNaN(costing)){
							alert("其他成本请填写数字!");
							return false;
						}else{
							costing = parseFloat(costing);
							if(costing>1000000){
								alert("其他成本不能超过1000000!");
								return false;
							}
						}
					}
					
					if(jquery('#amform\\:description').val().length>200){
						alert("备注字数不能大于200!");
						return false;
					}
					jquery("#amform\\:record_costing2").val(jquery("#amform\\:record_costing").val());
				}else{
					var j = jquery("#amform\\:plantBeginTime").val();
					if(j==""){
						alert("请填写预计时间!");
						return false;
					}

					if(jquery("#amform\\:record_costing2").parent().css('display')!='none'){
						var costing = jquery("#amform\\:record_costing2").val();
						if(isNaN(costing)){
							alert("其他成本请填写数字!");
							return false;
						}else{
							costing = parseFloat(costing);
							if(costing>1000000){
								alert("其他成本不能超过1000000!");
								return false;
							}
						}
					}
					jquery("#amform\\:record_costing").val(jquery("#amform\\:record_costing2").val());
				}
							
				checkStorage(jquery("#amform\\:typeorder").val());
				return true;
			}
			function submitAgr(data){
				if(""!=data){
					alert(data);			
				}else{
					jquery("#amform\\:hidUpdateAai").click(); 					
				}
			}
			function checkOperate2(){
				var reg = /^[1-9]+[0-9]*]*$/; 
				var k = jquery("#trform\\:beginTime").val();
				var j = jquery("#trform\\:endTime").val();
				var trHours = jquery("#trform\\:trHours").val();
				var teachingPeople = jquery("#trform\\:trform:teachingPeople").val();
				if(k==""){
					alert("请填写开始日期!");
					return false;
				}
				if(j==""){
					alert("请填写结束日期!");
					return false;
				}
				if(trHours==""){
					alert("请填写培训学时!");
					return false;
				}
				if(j<k){
					alert("开始时间不能大于结束时间!");
					return false;
					}
				if(trHours != "" && !reg.test(trHours)){
					alert("培训学时只能是整数!");
					return false;
				}
				if(teachingPeople==""){
					alert("请填写授课人!");
					return false;
				}
				jquery("#trform\\:beginTime1").val(k);
				jquery("#trform\\:endTime1").val(j);
				return true;
			}
			function checkOperate3(){
				var reg = /^[1-9]+[0-9]*]*$/; 
				var k = jquery("#trformu\\:beginTime").val();
				var j = jquery("#trformu\\:endTime").val();
				var trHours = jquery("#trformu\\:trHours").val();
				var teachingPeople = jquery("#trformu\\:teachingPeople").val();
				if(k==""){
					alert("请填写开始日期!");
					return false;
				}
				if(j==""){
					alert("请填写结束日期!");
					return false;
				}
				if(trHours==""){
					alert("请填写培训学时!");
					return false;
				}
				if(trHours != "" && !reg.test(trHours)){
					alert("培训学时只能是整数!");
					return false;
				}
				if(teachingPeople==""){
					alert("请填写授课人!");
					return false;
				}
				if(j<k){
					alert("开始时间不能大于结束时间!");
					return false;
					}
				jquery("#trformu\\:beginTime1").val(k);
				jquery("#trformu\\:endTime1").val(j);
				return true;
			}	
			function changeFarmer(obj){
				if(parseInt(obj) == 7){
					jquery("#fiform\\:checkHide").val(0);
					jquery(".modal-enableAcct").hide();
				}else{
					jquery(".modal-enableAcct").show();
					var userN = "#{farmerInfoHome.user.name}";
					if(userN == null || userN == ""){
						var initName = document.getElementById("fiform:userName").value;
						if(initName == ""){
							document.getElementById("fiform:userName").value = "请将手机号设定为用户名";
						}
					}
				}
				if(parseInt(obj) == 6){
					jquery('.tun6').attr('style','padding-left:15px;');
					jquery('.tun3').attr('style','padding-left:15px;display:none');
					jquery('.tun781').attr('style','padding-left:15px;display:none');
				}else if(parseInt(obj) == 781){
					jquery('.tun781').attr('style','padding-left:15px;');
					jquery('.tun3').attr('style','padding-left:15px;display:none');
					jquery('.tun6').attr('style','padding-left:15px;display:none');
				}else if(parseInt(obj) == 3){
					jquery('.tun3').attr('style','padding-left:15px;');
					jquery('.tun3').find('.dropdown-toggle').removeAttr('disabled');
					jquery('.tun6').attr('style','padding-left:15px;display:none');
					jquery('.tun781').attr('style','padding-left:15px;display:none');
				}else{
					jquery('.tun781').attr('style','padding-left:15px;display:none');
					jquery('.tun6').attr('style','padding-left:15px;display:none');
					jquery('.tun3').find('.dropdown-toggle').attr('disabled','disabled');
					jquery('.tun3').attr('style','padding-left:15px;');;
				}
			}	
			function checkUserName(data){
				if(data!="" && data != "0" && data != null){
				alert(data);
				}else{
					jquery('.aaa').trigger("click");
				}
			}
			
			function addRecord(){				
			 	//将投入品信息置为默认值
				jquery('#inputType').selectpicker('val',2);
				jquery("#searchInputText").val("");
				jquery("#addInputsTable .Output_tr").remove();
				searchInputs(1);
				jquery("#addInputRecord").show();
			}
			
			function changeInputs_next(obj){
				//jquery("#record_input").empty().append(obj);
				//jquery("#record_input").selectpicker("refresh");
				jquery("#record_input").trigger("onchange");
				jQuery("#login3").hide();
			}
			function showPwd(){
				var cla = jquery("#pwd").attr("class");
				if(cla == "nnn"){
					jquery("#pwd").show();
					jquery("#pwd").attr("class","sss");
				}else{
					jquery("#pwd").hide();
					jquery("#pwd").attr("class","nnn");
				}
			}
			 function delRecordList(obj,index){
				jquery('#login').show();
			 	jquery(obj).parent().css('display','none');
			 	var agrType = jquery("input[name='sex']:checked").val();
			 	delRecordList_next(index,agrType);
			 }
			var goodsCount=0.0;
			//农事投入品提交验证
			function submitRecord(){
				var trLength=jQuery("#addInputsTable tr").length;
				if(trLength<=1){
					alert("请选择投入品！");
					return false;
				}
				var inputsRecordStr='{"inputsDatas":[';
			   	for(var i=1;i<trLength;i++){   	   	
			   		var inputsId=jQuery("#addInputsTable tr:eq("+i+") td:eq(0) input:eq(0)").val();
			   		var unitId=jQuery("#addInputsTable tr:eq("+i+") td:eq(0) input:eq(1)").val();
			   		var inputsName=jQuery("#addInputsTable tr:eq("+i+") td:eq(1) p").html();
			   		var useNum=jQuery("#addInputsTable tr:eq("+i+") td:eq(3) input:eq(0)").val();
			   		var cost=jQuery("#addInputsTable tr:eq("+i+") td:eq(4) input:eq(0)").val();
			   		var roomId=jQuery("#addInputsTable tr:eq("+i+") td:eq(5) select").val();
			   		var batchId=jQuery("#addInputsTable tr:eq("+i+") td:eq(6) select").val();
			   		var farmerId=jQuery("#addInputsTable tr:eq("+i+") td:eq(7) select").val();
			   		var goodsCount=jQuery("#addInputsTable tr:eq("+i+") td:eq(8)").html();
						
			   		if(""==goodsCount){
			   			goodsCount=0;
			   		}
			   		if(null==useNum || ""==useNum){
			   			alert(inputsName+"的使用量不能为空！");
			   			return false;
			   		}else if(!isFloat(useNum)){
			   			alert("请输入正确的"+inputsName+"使用量！");
			   			return false;
			   		}else if(parseFloat(useNum)>9999999){
			   			alert(inputsName+"的使用量不能大于9999999！");
			   			return false;
			   	   	}
			   		if(null==cost || ""==cost){
			   			alert(inputsName+"的成本不能为空！");
			   			return false;
			   		}else if(!isFloat(cost)){
			   			alert("请输入正确的"+inputsName+"成本！");
			   			return false;
			   		}else if(parseFloat(cost)>9999999){
			   			alert(inputsName+"的成本不能大于9999999！");
			   		   	return false;
			   		}
			   		if("0"!=roomId){		
			   			if(null==batchId || ""==batchId){
			   				alert(inputsName+"的入库批次不能为空！");
			   				return false;
			   			}
			   			if(null==farmerId || ""==farmerId){
			   				alert(inputsName+"的经办人不能为空！");
			   				return false;
			   			}
			   			if(parseFloat(useNum)>parseFloat(goodsCount)){
			   				alert(inputsName+"库存不足，请重新输入使用量！");
			   				return false;
			   			} 			
			   		}	
			   		inputsRecordStr+= "{'inputsId':'" +inputsId + "','useNum':'"+ useNum +"','cost':'"+ cost +"','roomId':'"+ roomId +
						"','batchId':'"+ batchId +"','farmerId':'"+ farmerId +"','unitId':'"+ unitId +"'},";	 			 		
			   	}
			   	inputsRecordStr = inputsRecordStr.substring(0, inputsRecordStr.length-1) + ']}';
			   	jquery("#record_\\:inputsInfoData").val(inputsRecordStr); 	
				var agrType = jquery("input[name='sex']:checked").val();
				jquery("#agricultralType").val(agrType);
				document.getElementById('record_:submitInputs').disabled = true;
				return true;
			}
			function addFarming(){
				jquery("#pic\\:imgUrl").val(jquery("#myframPic").contents().find("#imgUrl_id").attr("src","../asset/images/farmingIco15.jpg"));
				jquery("#pic\\:contentId").val('');
				jquery('#addMyFarming').show();
			} 
			function myPicUrl(){
		    	jQuery("#pic\\:imgUrl").val(jQuery("#myframPic").contents().find("#imgUrl_id").attr("src"));
		    	jQuery("#pic\\:picJson").val(jQuery("#myframPic").contents().find("#inputsImages\\:picJson").val());
		    	jQuery('#addMyFarming').hide();
		    	if(jQuery('#pic\\:contentId').val().length>70){
		          	alert("图片说明字数需小于70字");
					return false;
		         }
		         if(jQuery("#myframPic").contents().find("#imgUrl_id").attr("src")=='../asset/images/farmingIco15.jpg'){
		        	alert("上传图片不能为空！");
					return false;
			     }
				return true;
		    }
		    
			 
		    function isFloat(value){
			 	var mny =RegExp(/^([0-9]+(\.?))?[0-9]+$/);
			 	return mny.test(value);
			 }
		   function farpicref(data){
		       if(data != ""){
		
		       }else{
		    	jQuery('.farmingInputs').mouseover(function(){
		    		jQuery(this).children('.closeInputs').css('display','block');	
		       	});
		    	jQuery('.farmingInputs').mouseout(function(){
		    		jQuery(this).children('.closeInputs').css('display','none');	
		       	});
		       }
		   	
		   }  
		 //回调将生成的编号赋值给goodsCode
	       function changeGoodsCode(goodsCode){
	    	   document.getElementById("input_code").value=goodsCode;
	       }   
	       function changeRoom(room){
	    		if(room=="0"){
	    			jQuery('#outStorageTr').hide();
	    			jQuery('#goodsCountDiv').hide();
	    		}else{
	    			changeStorageRoom(room);
	    			jQuery('#outStorageTr').show();
	    			jQuery('#goodsCountDiv').show();
	    		}
	    	}
	  	 function clearNoNum(obj){
	 	 	obj.value = obj.value.replace(/[^\d.]/g,"");//清除“数字”和“.”以外的字符  
	 	 	obj.value = obj.value.replace(/^\./g,"");  //验证第一个字符是数字而不是. 
	 	 	obj.value = obj.value.replace(/\.{2,}/g,"."); //只保留第一个. 清除多余的.   
	 	 	obj.value = obj.value.replace(".","$#$").replace(/\./g,"").replace("$#$",".");
	 	 }
	  	function changeInputsType(type){
	  		var dataStandard=jquery("#tunnelInfoId").find("option:selected").attr("aa");
	  		changeInputs(type,dataStandard);
	  		jQuery("#login3").show();
	  	}

	  	function changeTun3(event){
			var tunnelIds=jquery('#fiform\\:tunnelIds').val();//历史数据

			//没有选中数据
			if(jquery(".tun3 .tunnel").val()==null){
				jquery('#fiform\\:tunnelIds').val("");
			}else{//选中数据
				var ids3=jquery(".tun3 .tunnel").val();//选中数据
				
				//历史数据中长度为0  新增数据
				if(tunnelIds.length==0){
					var ids="";
					/*循环选中数据  为0的  全部选中
					    有attr("ty") =partition  区域选中
					    其他为单独地块选中
					*/
					for(var i=0;i<ids3.length;i++){
						if(ids3[i]==0){
							ids="";
							jquery(".tun3 .tunnel").find('option').each(function(){
								ids+=jquery(this).val()+",";
							})
							break;
						}
						ids+=ids3[i]+",";
						if(jquery(".tun3 .tunnel").find("[value="+ids3[i]+"]").attr("ty")=="partition"){
							jquery(".tun3 .tunnel").find("[pid="+ids3[i]+"]").each(function(){
								ids+=jquery(this).attr('value')+",";
							})
						}
					}

					/*选中长度 = 总长度-1
					    如果选中数据中 没有 0（全部）
					    把0加进去
					*/
					
					//赋值
					ids=ids.substring(0,ids.length-1);
					jquery('.tun3 .tunnel').removeAttr('onchange');
					jquery('.tun3 .tunnel').selectpicker('val',ids.split(','));
					jquery('#fiform\\:tunnelIds').val(ids);
					jquery('.tun3 .tunnel').attr('onchange','changeTun3(event)');
				}else{//历史数据中长度！=0   修改数据
					var tunnelIds_0=tunnelIds.split(","); //历史数据
					var ids="";//新生成数据
					//历史数据长度 > 新选中数据长度  为去掉勾选
					if(tunnelIds_0.length>ids3.length){
						var difference =""; //去掉勾选的value
						//循环 查找被去掉勾选的值
					    for (key in tunnelIds_0) {
					        var stra = tunnelIds_0[key];
					        var count = 0;  
					        for(var j= 0; j < ids3.length; j++){  
					            var strb = ids3[j];  
					            if(stra == strb) {  
					                count++;  
					            }  
					        }  
					        if(count==0) {
					        	difference=stra;  
					        }  
						}
					  //去掉勾选值不为0
						//去掉勾选值 为区域  把区域及其下级地块和全部去掉
						if(jquery(".tun3 .tunnel").find("[value="+difference+"]").attr("ty")=="partition"){
							for(var i=0;i<ids3.length;i++){
								if(ids3[i]!=difference && jquery("[value="+ids3[i]+"]").attr('pid')!=difference && ids3[i]!=0){
									ids+=ids3[i]+",";
								}
							}
						}else{//去掉勾选值 为地块 把地块及其上级区域和全部去掉
							for(var i=0;i<ids3.length;i++){
								if(ids3[i]!=difference && jquery("[value="+difference+"]").attr('pid')!=ids3[i] && ids3[i]!=0){
									ids+=ids3[i]+",";
								}
							}
						}
					}else{//历史数据长度 > 新选中数据长度  为添加勾选
						var difference =""; //添加勾选的value
						//循环 查找添加勾选的值
					    for (key in ids3) {
					        var stra = ids3[key];
					        var count = 0;  
					        for(var j= 0; j < tunnelIds_0.length; j++){  
					            var strb = tunnelIds_0[j];  
					            if(stra == strb) {  
					                count++;  
					            }  
					        }  
					        if(count==0) {
					        	difference=stra;  
					        }  
						}
					  	//添加勾选值不为0
					    //添加勾选为 区域  区域及下级地块 全部添加
						if(jquery(".tun3 .tunnel").find("[value="+difference+"]").attr("ty")=="partition"){
							for(var i=0;i<ids3.length;i++){
								if(jquery("[value="+ids3[i]+"]").attr('pid')!=difference && ids3[i]!=0){
									ids+=ids3[i]+",";
								}
							}
							jquery(".tun3 .tunnel").find("[pid="+difference+"]").each(function(){
								ids+=jquery(this).attr('value')+",";
							})
						}else{//添加勾选 为 地块  单独添加
							for(var i=0;i<ids3.length;i++){
								ids+=ids3[i]+",";
							}
						}
					}

					//赋值
					if(ids!=""){
						ids=ids.substring(0,ids.length-1);
						jquery('.tun3 .tunnel').removeAttr('onchange');
						jquery('.tun3 .tunnel').selectpicker('val',ids.split(','));
						jquery('#fiform\\:tunnelIds').val(ids);
						jquery('.tun3 .tunnel').attr('onchange','changeTun3(event)');
					}else{
						jquery('.tun3 .tunnel').removeAttr('onchange');
						jquery('.tun3 .tunnel').selectpicker('val',null);
						jquery('#fiform\\:tunnelIds').val("");
						jquery('.tun3 .tunnel').attr('onchange','changeTun3(event)');
					}
				}
			}
		}

	  	function changeTun6(event){
	  		var tunnelIds=jquery('#fiform\\:tunnelIds').val();

			if(jquery(".tun6 .tunnel").val()==null){
				jquery('#fiform\\:tunnelIds').val("");
			}else{
				var ids6=jquery(".tun6 .tunnel").val();
				if(tunnelIds.length==0){
					var ids="";
					for(var i=0;i<ids6.length;i++){
						if(ids6[i]==0){
							ids="";
							jquery(".tun6 .tunnel").find('option').each(function(){
								ids+=jquery(this).val()+",";
							})
							break;
							
						}
						ids+=ids6[i]+",";
						if(jquery(".tun6 .tunnel").find("[value="+ids6[i]+"]").attr("ty")=="partition"){
							jquery(".tun6 .tunnel").find("[pid="+ids6[i]+"]").each(function(){
								ids+=jquery(this).attr('value')+",";
							})
						}
					}
					
					
					ids=ids.substring(0,ids.length-1);
					jquery('.tun6 .tunnel').removeAttr('onchange');
					jquery('.tun6 .tunnel').selectpicker('val',ids.split(','));
					jquery('#fiform\\:tunnelIds').val(ids);
					jquery('.tun6 .tunnel').attr('onchange','changeTun6(event)');
				}else{
					var tunnelIds_0=tunnelIds.split(",");
					var ids="";

					if(tunnelIds_0.length>ids6.length){
						var difference =""; 
					    for (key in tunnelIds_0) {
					        var stra = tunnelIds_0[key];
					        var count = 0;  
					        for(var j= 0; j < ids6.length; j++){  
					            var strb = ids6[j];  
					            if(stra == strb) {  
					                count++;  
					            }  
					        }  
					        if(count==0) {
					        	difference=stra;  
					        }  
						}
						
						if(jquery(".tun6 .tunnel").find("[value="+difference+"]").attr("ty")=="partition"){
							for(var i=0;i<ids6.length;i++){
								if(ids6[i]!=difference && jquery("[value="+ids6[i]+"]").attr('pid')!=difference && ids6[i]!=0){
									ids+=ids6[i]+",";
								}
							}
						}else{
							for(var i=0;i<ids6.length;i++){
								if(ids6[i]!=difference && jquery("[value="+difference+"]").attr('pid')!=ids6[i] && ids6[i]!=0){
									ids+=ids6[i]+",";
								}
							}
						}
			
					}else{
						var difference =""; 
					    for (key in ids6) {
					        var stra = ids6[key];
					        var count = 0;  
					        for(var j= 0; j < tunnelIds_0.length; j++){  
					            var strb = tunnelIds_0[j];  
					            if(stra == strb) {  
					                count++;  
					            }  
					        }  
					        if(count==0) {
					        	difference=stra;  
					        }  
						}
						
						if(jquery(".tun6 .tunnel").find("[value="+difference+"]").attr("ty")=="partition"){
							for(var i=0;i<ids6.length;i++){
								if(jquery(".tun6 .tunnel").find("[value="+ids6[i]+"]").attr('pid')!=difference && ids6[i]!=0){
									ids+=ids6[i]+",";
								}
							}
							jquery(".tun6 .tunnel").find("[pid="+difference+"]").each(function(){
								ids+=jquery(this).attr('value')+",";
							})
						}else{
							for(var i=0;i<ids6.length;i++){
								ids+=ids6[i]+",";
							}
						}
							
					}
					if(ids!=""){
						ids=ids.substring(0,ids.length-1);
						jquery('.tun6 .tunnel').removeAttr('onchange');
						jquery('.tun6 .tunnel').selectpicker('val',ids.split(','));
						jquery('#fiform\\:tunnelIds').val(ids);
						jquery('.tun6 .tunnel').attr('onchange','changeTun6(event)');
					}else{
						jquery('.tun6 .tunnel').removeAttr('onchange');
						jquery('.tun6 .tunnel').selectpicker('val',null);
						jquery('#fiform\\:tunnelIds').val("");
						jquery('.tun6 .tunnel').attr('onchange','changeTun6(event)');
					}
				}
			}

		 }

	  	function changeTun781(event){
			var tunnelIds=jquery('#fiform\\:tunnelIds').val();//历史数据

			//没有选中数据
			if(jquery(".tun781 .tunnel").val()==null){
				jquery('#fiform\\:tunnelIds').val("");
			}else{//选中数据
				var ids781=jquery(".tun781 .tunnel").val();//选中数据
				
				//历史数据中长度为0  新增数据
				if(tunnelIds.length==0){
					var ids="";
					/*循环选中数据  为0的  全部选中
					    有attr("ty") =partition  区域选中
					    其他为单独地块选中
					*/
					for(var i=0;i<ids781.length;i++){
						if(ids781[i]==0){
							ids="";
							jquery(".tun781 .tunnel").find('option').each(function(){
								ids+=jquery(this).val()+",";
							})
							break;
						}
						ids+=ids781[i]+",";
						if(jquery(".tun781 .tunnel").find("[value="+ids781[i]+"]").attr("ty")=="partition"){
							jquery(".tun781 .tunnel").find("[pid="+ids781[i]+"]").each(function(){
								ids+=jquery(this).attr('value')+",";
							})
						}
					}

					/*选中长度 = 总长度-1
					    如果选中数据中 没有 0（全部）
					    把0加进去
					*/
					
					//赋值
					ids=ids.substring(0,ids.length-1);
					jquery('.tun781 .tunnel').removeAttr('onchange');
					jquery('.tun781 .tunnel').selectpicker('val',ids.split(','));
					jquery('#fiform\\:tunnelIds').val(ids);
					jquery('.tun781 .tunnel').attr('onchange','changeTun781(event)');
				}else{//历史数据中长度！=0   修改数据
					var tunnelIds_0=tunnelIds.split(","); //历史数据
					var ids="";//新生成数据
					//历史数据长度 > 新选中数据长度  为去掉勾选
					if(tunnelIds_0.length>ids781.length){
						var difference =""; //去掉勾选的value
						//循环 查找被去掉勾选的值
					    for (key in tunnelIds_0) {
					        var stra = tunnelIds_0[key];
					        var count = 0;  
					        for(var j= 0; j < ids781.length; j++){  
					            var strb = ids781[j];  
					            if(stra == strb) {  
					                count++;  
					            }  
					        }  
					        if(count==0) {
					        	difference=stra;  
					        }  
						}
					  //去掉勾选值不为0
						//去掉勾选值 为区域  把区域及其下级地块和全部去掉
						if(jquery(".tun781 .tunnel").find("[value="+difference+"]").attr("ty")=="partition"){
							for(var i=0;i<ids781.length;i++){
								if(ids781[i]!=difference && jquery("[value="+ids781[i]+"]").attr('pid')!=difference && ids781[i]!=0){
									ids+=ids781[i]+",";
								}
							}
						}else{//去掉勾选值 为地块 把地块及其上级区域和全部去掉
							for(var i=0;i<ids781.length;i++){
								if(ids781[i]!=difference && jquery("[value="+difference+"]").attr('pid')!=ids781[i] && ids781[i]!=0){
									ids+=ids781[i]+",";
								}
							}
						}
					}else{//历史数据长度 > 新选中数据长度  为添加勾选
						var difference =""; //添加勾选的value
						//循环 查找添加勾选的值
					    for (key in ids781) {
					        var stra = ids781[key];
					        var count = 0;  
					        for(var j= 0; j < tunnelIds_0.length; j++){  
					            var strb = tunnelIds_0[j];  
					            if(stra == strb) {  
					                count++;  
					            }  
					        }  
					        if(count==0) {
					        	difference=stra;  
					        }  
						}
					  	//添加勾选值不为0
					    //添加勾选为 区域  区域及下级地块 全部添加
						if(jquery(".tun781 .tunnel").find("[value="+difference+"]").attr("ty")=="partition"){
							for(var i=0;i<ids781.length;i++){
								if(jquery("[value="+ids781[i]+"]").attr('pid')!=difference && ids781[i]!=0){
									ids+=ids781[i]+",";
								}
							}
							jquery(".tun781 .tunnel").find("[pid="+difference+"]").each(function(){
								ids+=jquery(this).attr('value')+",";
							})
						}else{//添加勾选 为 地块  单独添加
							for(var i=0;i<ids781.length;i++){
								ids+=ids781[i]+",";
							}
						}
					}

					//赋值
					if(ids!=""){
						ids=ids.substring(0,ids.length-1);
						jquery('.tun781 .tunnel').removeAttr('onchange');
						jquery('.tun781 .tunnel').selectpicker('val',ids.split(','));
						jquery('#fiform\\:tunnelIds').val(ids);
						jquery('.tun781 .tunnel').attr('onchange','changeTun781(event)');
					}else{
						jquery('.tun781 .tunnel').removeAttr('onchange');
						jquery('.tun781 .tunnel').selectpicker('val',null);
						jquery('#fiform\\:tunnelIds').val("");
						jquery('.tun781 .tunnel').attr('onchange','changeTun781(event)');
					}
				}
			}
		}
		 
		
	  	function divauto(num){
			if(num==1){
				jquery('.clearfix').eq(0).css('overflow','auto');
			}else{
		  		if(jquery('.farmPics').eq(2).parent().css('display')=='none'){
		  			jquery('.clearfix').eq(0).css('overflow','');
			  	}
			}
		}

	  //新版添加农事投入品------
		function initInputsInfo(){
			var searchStr = jQuery("#searchInfo_").val();
			if(searchStr == "" || searchStr == null){
				jQuery("#searchInfo_").val("请输入搜索条件");
				jQuery("#searchInfo_").css("color","#a8a8a8");
			}else if(searchStr == "请输入搜索条件"){
				jQuery("#searchInfo_").css("color","#a8a8a8");
			}else{
				jQuery("#searchInfo_").css("color","#000");
			}
		}

		//(1)删除投入品
		function DeleteOutput(obj,inputsId){
			jQuery(obj).parents('.Output_tr').remove();
			jQuery("#check_"+inputsId).removeClass('checked');
			//取消全选
			if(jQuery("#mn_checkall").hasClass('checked')){   		
				jQuery("#mn_checkall").removeClass('checked');
			}
			resetIndex();  	
		}
		//添加投入品，由于删除，添加操作序号变乱，重新排序
		function resetIndex(){
			var trLength=jQuery("#addInputsTable tr").length;
			for(var i=1;i<trLength;i++){
				jQuery("#addInputsTable tr:eq("+i+") td:eq(0) span").html(i);
		}
		}
		//(2-1)投入品表格复选框，全选功能
		function OutputCheckAll(obj,oparents){
			if(jQuery(obj).hasClass('checked')){
				//取消全选
				jQuery(obj).removeClass('checked');
				jQuery(oparents).find('td .mn_check').removeClass('checked');
				//只取消本页的
				//jQuery("#addInputsTable .Output_tr").remove();
				var trLength=jQuery("#inputsTable tr").length;
				for(var i=0;i<trLength;i++){
					var inputIds=jQuery("#inputsTable tr:eq("+i+") td:eq(0) input:eq(0)").val();
					jQuery("#addtr_"+inputIds).remove();
				}
				resetIndex();  	
			}else{   		
				//var trLength=jQuery("#inputsTable tr").length;
				//全选时，判断没有选中的添加到投入品，已添加的不在查询
				var inputIds="";   		
				var noCheckObj=jQuery("#inputs_table").find('td .mn_check ').not(".checked");
				var trLength=noCheckObj.length;
				
				for(var i=0;i<trLength;i++){
					//inputIds+=jQuery("#inputsTable tr:eq("+i+") td:eq(0) input:eq(0)").val()+",";
					inputIds+=jQuery(noCheckObj).eq(i).siblings("input:eq(0)").val()+",";
		    } 
		    if(trLength>1){
		    	inputIds=inputIds.substring(0,inputIds.length-1);
		    }
				//如果是空，则是没有选中状态,点击后全选
				jQuery(obj).addClass('checked');
				jQuery(oparents).find('td .mn_check').addClass('checked');
				//添加多个投入品，获取库存信息
				changeGoodsInfo(inputIds);  
				jQuery("#login").show();
			}
		}
		var tableStr="";
		//(2-2)如果有一个复选框没有选中，则全选按钮为取消状态，否则相反
		function OutputCheck(obj,oparents,oAll,inputsId){
			if(jQuery(obj).hasClass('checked')){
				//取消全选
				jQuery(obj).removeClass('checked');
				//如果一个取消，那么全选为取消状态
				jQuery(oAll).removeClass('checked');
				jQuery('#addtr_'+inputsId).remove();
				resetIndex();  	
			}else{
				jQuery(obj).addClass('checked');
				//如果是空，则是没有选中状态,点击后选择
				var allNum = jQuery(oparents).find('td .mn_check').length;
				var allLen = jQuery(oparents).find('td .mn_check.checked').length;
				//alert('allNum:'+allNum+'allLen:'+allLen)
				//如果个数和选中的个数相等，则全选为选中状态
				if(allLen == allNum){
				jQuery(oAll).addClass('checked');
				}else{
				jQuery(oAll).removeClass('checked');
				}
				//添加一个投入品，获取库存信息
				changeGoodsInfo(inputsId);    		
				jQuery("#login").show();
			}
		}
		//添加投入品-获取库存信息回调
		function storageCallback(resultData){
		var inputList=resultData.result;
		jquery(inputList).each(function(index, data){
				var inputsId=data.inputsInfoId;
			        var rowNum=jQuery("#addInputsTable tr").length;
			    	var inputName=jQuery("#trp_"+inputsId+" td:eq(2) p").html();
			    	var unitName=jQuery("#trp_"+inputsId+" td:eq(3) p").html();
			    	var storageRoomSel="<select class='selectpicker'  onchange='changeRoom(this.value,"+inputsId+")'><option value='0'>无</option>";
			    	var goodsBatchSel="<select class='selectpicker' multiple='multiple' onchange='changeGoodsBatch(this,"+inputsId+")'>";
			    	var farmerInfoSel="<select class='selectpicker' >";
			    	if(typeof(data.storageRoom) != "undefined"){
			    		storageRoomSel+=data.storageRoom;
			    	} 
			    	if(typeof(data.goodsBatch) != "undefined"){
			    		goodsBatchSel+=data.goodsBatch;
			    	}
			    	if(typeof(data.farmerInfo) != "undefined"){
			    		farmerInfoSel+=data.farmerInfo;
			    	}  	
			    	storageRoomSel+="</select>";
			    	goodsBatchSel+="</select>";
			    	farmerInfoSel+="</select>";
			    	
			    	tableStr="<tr class=\"Output_tr\" id='addtr_"+inputsId+"'>"+
				    	"<td class=\"br_bt br_rt\">"+
			    		"<input type='hidden' value='"+inputsId+"'/>"+
				    		"<input type='hidden' value='' id='unit_"+inputsId+"'/><span>"+rowNum+"</span></td>"+
			    		"<td class=\"br_bt br_rt\"><p class=\"ellipsis\" title='"+inputName+"'>"+inputName+"</p></td>"+
					    "<td class=\"br_bt br_rt\"><p class=\"ellipsis\" title='"+unitName+"'>"+unitName+"</p></td>"+  	
				    	"<td class=\"br_bt br_rt\">"+
				    		"<input class=\"Output_input\"></input>"+
				    	"</td>"+
				    	"<td class=\"br_bt br_rt\">"+
				    		"<input class=\"Output_input\" value='0'></input>"+
				    	"</td>"+
				    	"<td class=\"br_bt br_rt\">"+
					    	"<div class=\"Output_selectpicker\" id='room_"+inputsId+"'>"+storageRoomSel+"</div>"+
				    	"</td>"+
				    	"<td class=\"br_bt br_rt\">"+
				    		"<div class=\"Output_selectpicker\" id='batch_"+inputsId+"'>"+goodsBatchSel+"</div>"+
				    	"</td>"+
				    	"<td class=\"br_bt br_rt\">"+
							"<div class=\"Output_selectpicker\" id='farmer_"+inputsId+"'>"+farmerInfoSel+"</div>"+
						"</td>"+
				    	"<td class=\"br_bt br_rt\" style='overflow: hidden;' id='goodsCount_"+inputsId+"'>0</td>"+
				    	"<td class=\"br_bt\">"+
				    		"<a href=\"javascript:;\" onclick=\"DeleteOutput(this,"+inputsId+")\">删除</a>"+
				    	"</td>"+
			    	"</tr>";
			    	jquery("#addInputsTable").append(tableStr);
			});    
			jquery('.selectpicker').selectpicker();			
			jQuery("#login").hide();
		}
		//(3)获取焦点，失去焦点
		function FocusFn(obj,oColor,txt_val){
			if(jQuery(obj).val()==txt_val){
				jQuery(obj).val('');
				jQuery(obj).css('color',oColor)
			}
		}
		function BlurFn(obj,oColor,txt_val){
			if(jQuery(obj).val()==''){
				jQuery(obj).val(txt_val);
				jQuery(obj).css('color',oColor)
			}
		}
		//投入品列表信息查询
		function searchInputs(pageNum){
			var dataStandard=jquery("#tunnelInfoId").find("option:selected").attr("aa");
			var inputType=jquery("#inputType").val();
			var searchText=jquery("#searchInputText").val();
			if(searchText=="请输入查询内容"){
				searchText="";
			}
			searchInputsList(inputType,dataStandard,searchText,pageNum);
			jquery("#login3").show();
		}
		//翻页
		function inputsJump(inputsPageNum){
			searchInputs(inputsPageNum);
		}
		function searchInputsList_next(){
			var trLength=jQuery("#inputsTable tr").length;
			for(var i=1;i<trLength;i++){
				var inputIds=jQuery("#inputsTable tr:eq("+i+") td:eq(0) input:eq(0)").val();
				if(jquery("#addtr_"+inputIds).length>0){
					jquery("#check_"+inputIds).addClass('checked');
				}
			}
			var allNum = jQuery("#inputs_table").find('td .mn_check').length;
			var allLen = jQuery("#inputs_table").find('td .mn_check.checked').length;
			//alert('allNum:'+allNum+'allLen:'+allLen)
			//如果个数和选中的个数相等，则全选为选中状态
			if(allLen == allNum && allNum>0){
				jQuery("#mn_checkall").addClass('checked');
			}else{
				jQuery("#mn_checkall").removeClass('checked');
			}
			jQuery("#login3").hide();
		}
		function changeRoom(room,inputsId){
			if(room=="0"){
				var goodsBatchSel="<select class='selectpicker' multiple='multiple' onchange='changeGoodsBatch(this,"+inputsId+")'></select>";
		    	var farmerInfoSel="<select class='selectpicker' ></select>";
				jquery('#batch_'+inputsId ).html(goodsBatchSel);
				jquery('#farmer_'+inputsId).html(farmerInfoSel); 	
				jquery('#goodsCount_'+inputsId).html("0"); 	
				jquery('#goodsCount_'+inputsId).attr("title",0);
				jquery('.selectpicker').selectpicker();			
			}else{
				changeStorageRoom(room,inputsId);
			}
		}
		function changeRoom_next(data){
			var inputsId=data.inputsInfoId;   
			var goodsBatchSel="<select class='selectpicker' multiple='multiple' onchange='changeGoodsBatch(this,"+inputsId+")'>";
			var farmerInfoSel="<select class='selectpicker' >";

			if(typeof(data.goodsBatch) != "undefined"){
				goodsBatchSel+=data.goodsBatch;
			}
			if(typeof(data.farmerInfo) != "undefined"){
				farmerInfoSel+=data.farmerInfo;
			}  	
			if(typeof(data.goodsCount) != "undefined"){
				jquery('#goodsCount_'+inputsId).html(data.goodsCount);
				jquery('#goodsCount_'+inputsId).attr("title",data.goodsCount);
			}  
			if(typeof(data.unitinfoId) != "undefined"){
				jquery('#unit_'+inputsId).val(data.unitinfoId);
			}  		
			goodsBatchSel+="</select>";
			farmerInfoSel+="</select>";	
			jquery('#batch_'+inputsId).html(goodsBatchSel);
			jquery('#farmer_'+inputsId).html(farmerInfoSel);
			jquery('.selectpicker').selectpicker();	
		}
		function changeGoodsBatch_next(data){
			var inputsId=data.inputsInfoId; 
			var msg=data.promptMessage;   
			if(typeof(data.goodsCount) != "undefined"){
				jquery('#goodsCount_'+inputsId).html(data.goodsCount);
				jquery('#goodsCount_'+inputsId).attr("title",data.goodsCount);
			}   
			if(msg!=""){
				alert("请选择同一单位的入库批次!");
				var goodsBatchids=jquery("#batch_"+inputsId+" select").val().toString();
				var batchValue=goodsBatchids.replace(","+msg,"").split(",");
				jquery("#batch_"+inputsId+" select").selectpicker('val',batchValue);			
			}
		}
		function changeGoodsBatch(obj,inputsId){
	        var batch=jquery(obj).val();
	        if(null==batch){
	        	batch="";
	        }       
	        searchGoodsCount(batch.toString(),inputsId);
	    }
		
	
			//]]>
			</script> 
			</div>

		</td> 
	</ui:define>

</ui:composition>
