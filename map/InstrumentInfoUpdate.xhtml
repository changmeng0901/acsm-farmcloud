<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	template="/layout/template_new2.xhtml">
	<ui:define name="body">  
		<td valign="top">             
        <style>
		/* CSS Document */
		body {    font-size: 12px;
		    color: #000;
		    font-family:"微软雅黑"; height:100%;
		    line-height: 150%;
		    margin: 0;
		    padding: 0;
		}
		a:focus {
		    outline:none;
		    -moz-outline:none;
		} 
		html{ height:100%;}
		h1, h2, h3, h4, h5, h6, ul, li, dl, dt, dd, form, img, p,input {
		    border: medium none;
		    list-style-type: none;
		    margin: 0;
		    padding: 0;
		}
		a{text-decoration:none; color:#000;}
		/*8.27*/
		.r_title01 {
		    border-bottom: 1px solid #ddd;
		    height: 45px;
		    line-height: 45px;
		    margin-top: 22px;
		    width: 100%;
		}
		.tlj{ font-size:18px; color:#00659f; font-weight:bold;}
		.tljbox01{ margin-left:40px; margin-top:20px; float:left; margin-bottom:20px;}
		.buttonbox{ float:right;margin-right:20px; margin-top:20px;}
		.tljbox02{margin-top:60px; position:relative; margin-left:10px;}
		.tuolaji{ width:144px; height:144px; display:block; position:absolute; top:3px; left:5px;}
		.bdtlj{ position:absolute;width:154px; height:154px; display:block; }
		.jianjie{ margin-left:200px;padding-top:16px;}
		.jianjie font{ font-size:14px;}
		.photo01{ width:15px; height:9px; margin-right:3px;}
		.photo02{ width:15px; height:15px;margin-right:3px; margin-bottom:3px;}
		.photo03{ width:16px; height:16px;margin-right:2px;margin-bottom:3px;}
		.jianjie li{ margin:10px 0;}
		.xxk{ margin-top:130px; position:relative;}
		.tjbt{ position:absolute; right:18px;top:0;}
		/*表格*/
		.khtable_001y, .khtable_002 {
		    border-collapse: collapse;
		    table-layout: fixed;
			border:1px solid #bbd4e8; 
		}
		table, td {
		    margin: 0;
		    padding: 0;
		}
		.kh_th_bg01 {
		    background:#ebf6ff;
		}
		.kh_th_font01 {
		    color: #272727;
		    font-size: 14px;
			font-family: "宋体";
		}
		.kh_td {
		    border: 1px solid #bbd4e8;
		    height: 39px;
		    text-align: center;
		    vertical-align: middle;
			border-bottom: 1px solid #ddd;
		    border-left: 1px solid #dddddd;
		    border-top: 1px solid #ddd;
		}
		.kh_td {
		    border: 1px solid #bbd4e8;
		    height: 39px;
		    text-align: center;
		    vertical-align: middle;
		}
		.xslc{ margin:0 auto; width:200px; margin-top:20px; margin-bottom:20px;}
		.xslc font{ font-size:16px;}
		.y_01 {
		    background:#f5f5f5;
		}
		.tbbox{width:100%; float:left;}
		.modal-dialog {
		    margin: 30px auto;
		    width: 600px;
		}
		.w600na{width:600px; margin:0 auto;}
		.bootstrap-select:not([class*="span"]):not([class*="col-"]):not([class*="form-control"]):not(.input-group-btn){width: 140px;}
		.fr{float:right;}
		.r_ulli1{float:right;}
		.nw123 {
		    width: 140px;
		}
		.input-append.date .add-on i, .input-prepend.date .add-on i {
		    cursor: pointer;
		    height: 14px;
		    margin-left: -19px;
		    width: 14px;
		    margin-top:7px;
		}
		</style>
		<script type="text/javascript">
			document.getElementById("selectBaseDiv").style.display="none";
		</script>
			<div class="right_c">
				<div class="r_title01">
	                <div class="r_title">
                	<div class="r_t_l">
                		数字农场&#160;&gt;&#160;&#160;
                		<a href="#{request.contextPath}/map/InstrumentInfoList.seam" style="color: rgb(66, 139, 202);"><font size="3">设备档案</font></a><rich:messages styleClass="messages"></rich:messages></div>
	                	
	                </div>
				</div>
				<!--简介-->
				<div>
				<div class="tljbox01 ">
					<h:panelGroup id="renwu">
						<font class="tlj">#{instrumentInfoHome.instance.name}</font>
					</h:panelGroup>
				</div>
			    <div class="buttonbox">
			    	<button class="btn btn-success" style="#{s:hasRole('farm_engine_edit')?'':'display:none;'}" type="button" data-toggle="modal" data-target="#myModalTow">编 辑</button>
		    		<div class="tjbt" >
	    				<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="myModalTow" class="modal fade in w600na" style="display: none;">
	  						<div class="modal-dialog">
	    						<div class="modal-content">
	      							<div class="modal-header">
								        <button data-dismiss="modal" class="close" type="button"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
								        <h4 id="myModalLabel" class="modal-title">农机信息编辑</h4>
	      							</div>
	      							<div class="modal-body"> 
	      								<h:inputHidden id="insbaseId" value="#{instrumentInfoHome.instance.baseId}"  />
					                   	<h:form id="iiform" ajaxSubmit="true" enctype="multipart/form-data">
							            	<table class="tck_table" style="width:580px; line-height:0px; padding:0px; margin-top:15px;">
							                    <tr >
							                    	<td align="left" width="79" class="font_td">基地名称：</td>
							                        <td colspan="3">
							                        	<select id="baseIdfi" class="selectpicker" data-live-search="true" onchange="checkSubmit('fi');">
														    <a:repeat value="#{instrumentInfoHome.basicList}" var="_base">
														    	<h:panelGroup rendered="#{instrumentInfoHome.baseId eq _base.id}">
														    		<option value="#{_base.id}" selected="selected">#{_base.name}</option>
														    	</h:panelGroup>
														    	<h:panelGroup rendered="#{instrumentInfoHome.baseId ne _base.id}">
														    		<option value="#{_base.id}" >#{_base.name}</option>
														    	</h:panelGroup>
														    </a:repeat>
														</select>
														<h:inputHidden id="baseId" value="#{instrumentInfoHome.baseId}"  />
							                        </td>
							                    </tr>
							                    <tr>
							                    	<td align="left" class="font_td">农机名称：</td>
							                        <td >
						                        		<h:inputText styleClass="form-control nw123" value="#{instrumentInfoHome.instance.name}" id="name"/>
							                        </td>
							                        <td align="left" class="font_td">农机型号：</td>
							                        <td >
						                        		<h:inputText id="model"  value="#{instrumentInfoHome.instance.model}" styleClass="form-control nw123" />
							                        </td>
							                    </tr>
							                    <tr>
							                    	<td align="left" class="font_td">购买人：</td>
							                        <td >
							                        	<h:inputText id="buyPerson"  value="#{instrumentInfoHome.instance.buyPerson}" styleClass="form-control nw123"/>
							                        </td>
							                        <td align="left" class="font_td">购买时间：</td>
							                        <td >
													    <div class="input-append date form_datetime form_datetime_tow" >
														    <h:inputText  styleClass="new_time nw123" value="#{instrumentInfoHome.instance.buyTime}" disabled="">
														    	<f:convertDateTime  pattern="yyyy-MM-dd" timeZone="GMT+8" />
														    </h:inputText>
														    <span class="add-on"><i class="icon-th"></i></span>
													    </div>
							                        </td>
							                    </tr>
							                    <tr>
							                    	<td align="left" width="79" class="font_td">图片：</td>
							                        <td colspan="3" style="line-height: 20px;">
							                        	<s:fileUpload id="picture" size="30"
															accept="image/png,image/jpeg,image/gif"
															contentType="image/png,image/jpeg,image/gif"
															fileName="#{instrumentInfoHome.instance.pictureName}"
															data="#{instrumentInfoHome.instance.pictureByte}">
														</s:fileUpload>
														<p class="pic_stress" style="width:85%;padding-top:0;">图片标准：158X146（像素）支持格式：jpg,gif,png,jpeg,bmp,3gp</p>
							                        </td>
							                    </tr>
							                    <tr>
							                    	<td colspan="4" align="center" valign="bottom">
										            	<h:commandButton id="iiupdate"  styleClass="btn btn-primary" value="提交" action="#{instrumentInfoHome.updateAjx}" reRender="renwu,renwuTow" oncomplete="jquery('#fanhui').click();"/>
								    					<button data-dismiss="modal" class="btn btn-default" type="button" id="fanhui">返回</button>
							                        </td>
							                    </tr>
							                </table>
							       		</h:form>
	      							</div>
	    						</div>
	  						</div>
						</div>
	    			</div>
			    </div>
			</div> 
			<h:panelGroup id="renwuTow">
			<div>                  
				<div class="tljbox02">
					<img style=" border:1px solid #dddddd; border-radius:5px;#{instrumentInfoHome.instance.picture ne null and instrumentInfoHome.instance.picture ne ''?'':'display:none;'}" class="tuolaji" src="#{instrumentInfoHome.instance.picture}" width="144" height="144"/>
					<img class="tuolaji" src="../asset/images/qixie.jpg" style="border:1px solid #dddddd; border-radius:5px;#{instrumentInfoHome.instance.picture eq null or instrumentInfoHome.instance.picture eq ''?'':'display:none'}"/>
				</div>
			    <div class="jianjie">
			    	<ul>
			        	<li>
			            	<img class="photo01" src="../asset/images/icon01.png"/>
			                <font>农机型号：#{instrumentInfoHome.instance.model}</font>
			            </li>
			        </ul>
			        <ul>
			        	<li>
			            	<img class="photo02" src="../asset/images/icon02.png"/>
			                <font>购买人：#{instrumentInfoHome.instance.buyPerson}</font>
			            </li>
			        </ul>
			        <ul>
			        	<li>
			            	<img class="photo03" src="../asset/images/icon03.png"/>
			                <font>购买时间： 
			                	<h:outputText value="#{instrumentInfoHome.instance.buyTime}" >
									<s:convertDateTime type="both" dateStyle="short" pattern="yyyy-MM-dd" />
							    </h:outputText>
			                </font>
			            </li>
			        </ul>
			    </div>
			</div>
			</h:panelGroup>
			<!--选项卡-->
			<div class="xxk">
				<ul id="myTab" role="tablist" class="nav nav-tabs">
				  <li class="active"><a data-toggle="tab" role="tab" href="#home" onclick="addButton(1);">农机使用记录</a></li>
				  <li class=""><a data-toggle="tab" role="tab" href="#profile" onclick="addButton(2);">维护保养记录</a></li>
				</ul>
				<div class="tjbt">
					<button id="iurInsert" style="#{s:hasRole('farm_engine_add')?'':'display:none;'}" class="btn btn-info" type="button"  data-toggle="modal" data-target="#iurInserti" onclick="iurInsertuInfo();">添 加</button>
    				<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="iurInserti" class="modal fade in w600na" style="display: none;">
  						<div class="modal-dialog">
    						<div class="modal-content">
      							<div class="modal-header">
							        <button data-dismiss="modal" class="close" type="button"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
							        <h4 id="myModalLabel" class="modal-title">农机使用记录添加</h4>
      							</div>
      							<div class="modal-body"> 
				                   	<a:form id="iurform" ajaxSubmit="true" >
						            	<table class="tck_table" style="width:580px; line-height:0px; padding:0px; margin-top:15px;">
						                    <tr>
						                    	<td align="left" class="font_td">开始时间：</td>
						                        <td >
						                        	<h:inputHidden id="beginTime2" value="#{instrumentInfoHome.iurInfo.beginTime}" name="beginTime" />
						                        	<h:inputHidden id="endTime2" value="#{instrumentInfoHome.iurInfo.endTime}" name="endTime" />
												    <div class="input-append date form_datetime " >
													    <h:inputText  id="beginTime"  styleClass="new_time nw123" value="#{instrumentInfoHome.iurInfo.beginTime}" >
													    	<f:convertDateTime  pattern="yyyy-MM-dd HH:mm" timeZone="GMT+8" />
													    </h:inputText>
													    <span class="add-on"><i class="icon-th"></i></span>
												    </div>
						                        </td>
						                        <td align="left" class="font_td">结束时间：</td>
						                        <td >
						                        	 <div class="input-append date form_datetime " >
													    <h:inputText  id="endTime"  styleClass="new_time nw123" value="#{instrumentInfoHome.iurInfo.endTime}" >
													    	<f:convertDateTime  pattern="yyyy-MM-dd HH:mm" timeZone="GMT+8" />
													    </h:inputText>
													    <span class="add-on"><i class="icon-th"></i></span>
												    </div>
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td align="left" class="font_td">使用人：</td>
						                        <td >
						                        	<select id="farmerInfoIds" class="selectpicker" data-live-search="true" onchange="checkSubmit(1);">
													    <a:repeat value="#{instrumentInfoHome.fiList}" var="var">
													    	<option value="#{var.farmerInfoId}" >#{var.name}</option>
													    </a:repeat>
													</select>
									                <h:inputHidden id="farmerInfoId" value="#{instrumentInfoHome.farmerInfoId}"  />
						                        </td>
						                        <td align="left" class="font_td">使用里程数：</td>
						                        <td >
						                        	<h:inputText id="mileage"  value="#{instrumentInfoHome.iurInfo.mileage}" styleClass="form-control nw123" style="float:left;" />
						                        	<span style="float:left; line-height:30px; padding-left:5px;">Km</span>
						                        	
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td align="left" class="font_td">用途：</td>
						                        <td colspan="3"> 
									                <h:inputTextarea id="uses" styleClass="form-control nw420" rows="3"  value="#{instrumentInfoHome.iurInfo.uses}" />
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td colspan="4" align="center" valign="bottom">
									            	<a:commandButton id="iurupdate" onclick="if(!iurformSubmit())return false;jquery('.tianjbutton').prop('disabled','true');"  oncomplete="jquery('.tianjbutton').removeAttr('disabled');jquery('#fanhuiIur').click();"  styleClass="btn btn-primary tianjbutton" value="提交" action="#{instrumentInfoHome.updateIurAjx()}" reRender="iurInfoList" />
							    					<button data-dismiss="modal" class="btn btn-default" type="button" id="fanhuiIur">返回</button>
						                        </td>
						                    </tr>
						                </table>
						       		</a:form>
	     						</div>
    						</div>
  						</div>
					</div>
					<button style="display: none;" id="iurInsertu" class="btn btn-info" type="button"  data-toggle="modal" data-target="#iurInsertui">编辑</button>
					<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="iurInsertui" class="modal fade in w600na" style="display: none;">
  						<div class="modal-dialog">
    						<div class="modal-content">
      							<div class="modal-header">
							        <button data-dismiss="modal" class="close" type="button"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
							        <h4 id="myModalLabel" class="modal-title">农机使用记录编辑</h4>
      							</div>
      							<div class="modal-body"> 
				                   	<a:form id="iurformu" ajaxSubmit="true" >
						            	<table class="tck_table" style="width:580px; line-height:0px; padding:0px; margin-top:15px;">
						                    <tr>
						                    	<td align="left" class="font_td">开始时间：</td>
						                        <td >
												    <div class="input-append date form_datetime " >
													    <h:inputText  id="beginTime"  styleClass="new_time nw123" value="#{instrumentInfoHome.iurInfo.beginTime}">
													    	<f:convertDateTime  pattern="yyyy-MM-dd HH:mm" timeZone="GMT+8" />
													    </h:inputText>
													    <span class="add-on"><i class="icon-th"></i></span>
												    </div>
						                        </td>
						                        <td align="left" class="font_td">结束时间：</td>
						                        <td >
						                        	 <div class="input-append date form_datetime " >
													    <h:inputText  id="endTime"  styleClass="new_time nw123" value="#{instrumentInfoHome.iurInfo.endTime}">
													    	<f:convertDateTime  pattern="yyyy-MM-dd HH:mm" timeZone="GMT+8" />
													    </h:inputText>
													    <span class="add-on"><i class="icon-th"></i></span>
												    </div>
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td align="left" class="font_td">使用人：</td>
						                        <td >
						                        	<select id="farmerInfoIdsu" class="selectpicker" data-live-search="true" onchange="checkSubmit(2);">
													    <a:repeat value="#{instrumentInfoHome.fiList}" var="var">
													    	<option value="#{var.farmerInfoId}" >#{var.name}</option>
													    </a:repeat>
													</select>
									                <h:inputHidden id="farmerInfoIdu" value="#{instrumentInfoHome.farmerInfoId}"  />
						                        </td>
						                        <td align="left" class="font_td">使用里程数：</td>
						                        
						                        <td >
						                        	<h:inputText id="mileage"  value="#{instrumentInfoHome.iurInfo.mileage}" styleClass="form-control nw123"/>
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td align="left" class="font_td">用途：</td>
						                        <td colspan="3">
						                        	<h:inputTextarea id="uses" styleClass="form-control nw420" rows="3"  value="#{instrumentInfoHome.iurInfo.uses}" />
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td colspan="4" align="center" valign="bottom">
									            	<a:commandButton id="iuruupdate" onclick="if(!iurformuSubmit())return false;jquery('.xiubutton').prop('disabled','true');"  oncomplete="jquery('.xiubutton').removeAttr('disabled');jquery('#fanhuiIurT').click();" styleClass="btn btn-primary xiubutton" value="提交" action="#{instrumentInfoHome.updateIurAjx}" reRender="iurInfoList"/>
							    					<button data-dismiss="modal" class="btn btn-default" type="button" id="fanhuiIurT">返回</button>
						                        </td>
						                    </tr>
						                </table>
						       		</a:form>
	     						</div>
    						</div>
  						</div>
					</div>
					
					<button id="imrInsert" style="display: none;" class="btn btn-info" type="button"  data-toggle="modal" data-target="#imrInserti" onclick="imrInsertuInfo();">添 加</button>
    				<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="imrInserti" class="modal fade in w600na" style="display: none;width: 650px;">
  						<div class="modal-dialog" style="width: 650px;">
    						<div class="modal-content">
      							<div class="modal-header">
							        <button data-dismiss="modal" class="close" type="button"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
							        <h4 id="myModalLabel" class="modal-title">维护保养记录添加</h4>
      							</div>
      							<div class="modal-body"> 
				                   	<a:form id="imrform" ajaxSubmit="true" >
						            	<table class="tck_table" style="width:680px; line-height:0px; padding:0px; margin-top:15px;">
						                   	<tr>
						                    	<td align="left" class="font_td " style="width: 90px;">使用人：</td>
						                        <td style="width: 260px;">
						                        	<select id="farmerInfoIdim" class="selectpicker" data-live-search="true" onchange="checkSubmit(3);">
													    <a:repeat value="#{instrumentInfoHome.fiList}" var="var">
													    	<option value="#{var.farmerInfoId}" >#{var.name}</option>
													    </a:repeat>
													</select>
									                <h:inputHidden id="farmerInfoIdimu" value="#{instrumentInfoHome.farmerInfoIdim}"  />
									                <h:inputHidden id="maintenanceTime2" value="#{instrumentInfoHome.imrInfo.maintenanceTime}" name="maintenanceTime" />
						                        	
						                        </td>
						                        <td align="left" class="font_td " style="width: 90px;">联系方式 ：</td>
						                        <td style="width: 260px;">
						                        	<h:inputText id="contact"  value="#{instrumentInfoHome.imrInfo.contact}" styleClass="form-control nw123"/>
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td align="left" class="font_td " style="width: 100px;">维护保养类型：</td>
						                        <td >
						                        	<select id="dataDicIds" class="selectpicker" data-live-search="true" onchange="checkSubmit(3);">
													    <a:repeat value="#{instrumentInfoHome.ddTowList}" var="var">
													    	<option value="#{var.dataDicId}" >#{var.name}</option>
													    </a:repeat>
													</select>
													<h:inputHidden id="dataDicId" value="#{instrumentInfoHome.dataDicId}" />
						                        </td>
						                        <td align="left" class="font_td " >维护保养时间：</td>
						                        <td >
					                        		 <div class="input-append date form_datetime " >
													    <h:inputText  id="maintenanceTime" styleClass="new_time nw123" value="#{instrumentInfoHome.imrInfo.maintenanceTime}" >
													    	<f:convertDateTime  pattern="yyyy-MM-dd HH:mm" timeZone="GMT+8" />
													    </h:inputText>
													    <span class="add-on"><i class="icon-th"></i></span>
												    </div>
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td align="left" class="font_td ">维修地点：</td>
						                        <td >
						                        	<h:inputText id="repairLocation"  value="#{instrumentInfoHome.imrInfo.repairLocation}" styleClass="form-control nw123"/>
						                        </td>
						                        <td align="left" class="font_td ">维修时长：</td>
						                        <td >
						                        	<h:inputText id="maintenanceOften"  value="#{instrumentInfoHome.imrInfo.maintenanceOften}" styleClass="form-control nw123" onkeyup="clearNoNum(this)" style="float:left;"/>
						                        	<span style="float:left; line-height:30px; padding-left:5px;">小时</span>
						                        </td>
						                    </tr>
						                    
						                   <tr>
						                    	<td align="left" class="font_td ">维修费用：</td>
						                        <td colspan="3">
						                        	<h:inputText id="maintenanceCosts"  value="#{instrumentInfoHome.imrInfo.maintenanceCosts}" styleClass="form-control nw123" onkeyup="clearNoNum(this)" style="float:left;"/>
						                        	<span style="float:left; line-height:30px; padding-left:5px;">元</span>
						                        </td>
						                    </tr>
						                    <tr>
						                        <td align="left" class="font_td ">修检内容：</td>
						                        <td colspan="3">
						                        	<h:inputTextarea id="content" styleClass="form-control nw420" rows="3"  value="#{instrumentInfoHome.imrInfo.content}" />
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td colspan="4" align="center" valign="bottom">
									            	<a:commandButton id="imrupdate" onclick="if(!imrformSubmit())return false;jquery('.tianjbutton2').prop('disabled','true');"  oncomplete="jquery('.tianjbutton2').removeAttr('disabled');jquery('#fanhuiImr').click();"  styleClass="btn btn-primary tianjbutton2" value="提交" action="#{instrumentInfoHome.updateImrAjx}" reRender="imrInfoList" />
							    					<button data-dismiss="modal" class="btn btn-default" type="button" id="fanhuiImr">返回</button>
						                        </td>
						                    </tr>
						                </table>
						       		</a:form>
	     						</div>
    						</div>
  						</div>
					</div>
					<button style="display: none;" id="imrInsertu" class="btn btn-info" type="button"  data-toggle="modal" data-target="#imrInsertui">编辑</button>
					<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="imrInsertui" class="modal fade in w600na" style="display: none; width: 700px;">
  						<div class="modal-dialog" style="width: 700px;">
    						<div class="modal-content">
      							<div class="modal-header">
							        <button data-dismiss="modal" class="close" type="button"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
							        <h4 id="myModalLabel" class="modal-title">维护保养记录编辑</h4>
      							</div>
      							<div class="modal-body"> 
				                   	<a:form id="imrformu" ajaxSubmit="true" >
						            	<table class="tck_table" style="width:680px; line-height:0px; padding:0px; margin-top:15px;">
						                    <tr>
						                    	<td align="left" class="font_td " style="width: 90px;">使用人：</td>
						                        <td style="width: 260px;">
						                        	<select id="farmerInfoIdims" class="selectpicker" data-live-search="true" onchange="checkSubmit(4);">
													    <a:repeat value="#{instrumentInfoHome.fiList}" var="var">
													    	<option value="#{var.farmerInfoId}" >#{var.name}</option>
													    </a:repeat>
													</select>
									                <h:inputHidden id="farmerInfoIdimsu" value="#{instrumentInfoHome.farmerInfoIdim}"  />
						                        	
						                        </td>
						                        <td align="left" class="font_td " style="width: 90px;">联系方式 ：</td>
						                        <td style="width: 260px;">
						                        	<h:inputText id="contact"  value="#{instrumentInfoHome.imrInfo.contact}" styleClass="form-control nw123"/>
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td align="left" class="font_td " style="width: 100px;">维护保养类型：</td>
						                        <td >
						                        	<select id="dataDicIdsu" class="selectpicker" data-live-search="true" onchange="checkSubmit(3);">
													    <a:repeat value="#{instrumentInfoHome.ddTowList}" var="var">
													    	<option value="#{var.dataDicId}" >#{var.name}</option>
													    </a:repeat>
													</select>
													<h:inputHidden id="dataDicIdu" value="#{instrumentInfoHome.dataDicId}" />
						                        </td>
						                        <td align="left" class="font_td " >维护保养时间：</td>
						                        <td >
					                        		 <div class="input-append date form_datetime " >
													    <h:inputText  id="maintenanceTime" styleClass="new_time nw123" value="#{instrumentInfoHome.imrInfo.maintenanceTime}">
													    	<f:convertDateTime  pattern="yyyy-MM-dd HH:mm" timeZone="GMT+8" />
													    </h:inputText>
													    <span class="add-on"><i class="icon-th"></i></span>
												    </div>
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td align="left" class="font_td ">维修地点：</td>
						                        <td >
						                        	<h:inputText id="repairLocation"  value="#{instrumentInfoHome.imrInfo.repairLocation}" styleClass="form-control nw123"/>
						                        </td>
						                        <td align="left" class="font_td ">维修时长：</td>
						                        <td >
						                        	<h:inputText id="maintenanceOften"  value="#{instrumentInfoHome.imrInfo.maintenanceOften}" styleClass="form-control nw123" onkeyup="clearNoNum(this)"/>
						                        </td>
						                    </tr>
						                   <tr>
						                    	<td align="left" class="font_td ">维修费用：</td>
						                        <td colspan="3">
						                        	<h:inputText id="maintenanceCosts"  value="#{instrumentInfoHome.imrInfo.maintenanceCosts}" styleClass="form-control nw123" onkeyup="clearNoNum(this)"/>
						                        </td>
						                    </tr>
						                    <tr>
						                        <td align="left" class="font_td ">修检内容：</td>
						                        <td colspan="3">
						                        	<h:inputTextarea id="content" styleClass="form-control nw420" rows="3"  value="#{instrumentInfoHome.imrInfo.content}" />
						                        </td>
						                    </tr>
						                    <tr>
						                    	<td colspan="4" align="center" valign="bottom">
									            	<a:commandButton id="imruupdate" onclick="if(!imrformuSubmit())return false;jquery('.xiubutton2').prop('disabled','true');"  oncomplete="jquery('.xiubutton2').removeAttr('disabled');jquery('#fanhuiImrt').click();" styleClass="btn btn-primary xiubutton2" value="提交" action="#{instrumentInfoHome.updateImrAjx}" reRender="imrInfoList"/>
							    					<button data-dismiss="modal" class="btn btn-default" type="button" id="fanhuiImrt">返回</button>
						                        </td>
						                    </tr>
						                </table>
						       		</a:form>
	     						</div>
    						</div>
  						</div>
					</div>
			    </div>
				<div class="tab-content">
			  		<div id="home" class="tab-pane active">
			  			<h:panelGroup id="iurInfoList">
			  			<div class="xslc"><font>行驶里程：#{instrumentInfoHome.iurCount}</font></div>
						<div class="tbbox" >
	                        <table width="100%" height="100%" cellspacing="0" cellpadding="0" class="khtable_001y">
		                         <tr>
	                                 <td class="kh_td kh_th_font01 kh_th_bg01">使用开始时间</td>
		                             <td class="kh_td kh_th_font01 kh_th_bg01">使用结束时间</td>
	                                 <td class="kh_td kh_th_font01 kh_th_bg01">用途</td>
	                                 <td class="kh_td kh_th_font01 kh_th_bg01">使用里程数</td>
	                                 <td class="kh_td kh_th_font01 kh_th_bg01">使用人</td>
	                                 <td class="kh_td kh_th_font01 kh_th_bg01">操作</td>
		                         </tr>
		                         <a:repeat value="#{instrumentInfoHome.iurList}" var="_var" rowKeyVar="_index">
		                             <tr>
		                                 <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">
		                                 	<h:outputText value="#{_var.beginTime}">
									    		<f:convertDateTime  pattern="yyyy-MM-dd HH:mm" timeZone="GMT+8" />
									    	</h:outputText>
		                                 </td>
			                             <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}"> 
			                             	<h:outputText value="#{_var.endTime}">
									    		<f:convertDateTime  pattern="yyyy-MM-dd HH:mm" timeZone="GMT+8" />
									    	</h:outputText>
			                             </td>
		                                 <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">#{_var.uses}</td>
		                                 <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">#{_var.mileage}</td>
		                                 <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">#{_var.farmerInfoId.name}</td>
		                                 <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">
		                                 	<a class="list_edit" id="iurEdit" title="编辑" onclick="selectIur(#{_var.id});"></a>&#160;
											<a class="list_delete" id="iurDelete" title="删除" onclick="deletedIurInfo(#{_var.id});" ></a>
		                                 </td>
			                          </tr>
		                          </a:repeat>
	                         </table>
	                         <div>
					    			<table width="84" style="margin:35px auto 0 auto;">
										<tr>
											<td>
							    				<s:link view="/map/InstrumentInfoList.xhtml" styleClass="btn btn-default" value="返回" id="bn_left6" style="margin-left:10px" >
								    				<f:param name="baseId" value="#{farmerInfoHome.baseId}"/>
								    			</s:link>
				                            </td>
										</tr>
				                   </table> 
				  			</div>      
						</div>
						</h:panelGroup>
					</div>
			  		<div id="profile" class="tab-pane">
			  			<h:panelGroup id="imrInfoList">
				  			<div class="xslc"><font>费用合计：#{instrumentInfoHome.imrCount}</font></div>
							<div class="tbbox" >
		                        <table width="100%" height="100%" cellspacing="0" cellpadding="0" class="khtable_001y">
			                         <tr>
		                                 <td class="kh_td kh_th_font01 kh_th_bg01">日期</td>
			                             <td class="kh_td kh_th_font01 kh_th_bg01">类别</td>
		                                 <td class="kh_td kh_th_font01 kh_th_bg01">检修内容</td>
		                                 <td class="kh_td kh_th_font01 kh_th_bg01">维修地点</td>
		                                 <td class="kh_td kh_th_font01 kh_th_bg01">联系方式</td>
		                                 <td class="kh_td kh_th_font01 kh_th_bg01">维修时间</td>
		                                 <td class="kh_td kh_th_font01 kh_th_bg01">使用人</td>
		                                 <td class="kh_td kh_th_font01 kh_th_bg01">维修费用</td>
		                                 <td class="kh_td kh_th_font01 kh_th_bg01">操作</td>
			                         </tr>
			                         <a:repeat value="#{instrumentInfoHome.imrList}" var="_var" rowKeyVar="_index">
			                             <tr>
			                                 <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">
			                                 	<h:outputText value="#{_var.maintenanceTime}">
										    		<f:convertDateTime  pattern="yyyy-MM-dd HH:mm" timeZone="GMT+8" />
										    	</h:outputText>
			                                 </td>
				                             <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">#{_var.dataDicId.name}</td>
			                                 <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">#{_var.content}</td>
			                                 <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">#{_var.repairLocation}</td>
			                                 <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">#{_var.contact}</td>
			                                 <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">#{_var.maintenanceOften}h</td>
			                                 <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">#{_var.farmerInfoId.name}</td>
			                                 <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">#{_var.maintenanceCosts}</td>
			                                 <td class="kh_td kh_td_font01 kh_leftbg01 #{_index % 2 eq 0 ?'y_01':''}">
			                                 	<a class="list_edit" id="trEdit" title="编辑" onclick="selectImr(#{_var.id});"></a>&#160;
												<a class="list_delete" id="userDelete" title="删除" onclick="deletedImrInfo(#{_var.id});" ></a>
			                                 </td>
				                          </tr>
			                          </a:repeat>
		                         </table> 
		                         <div>
						    			<table width="84" style="margin:35px auto 0 auto;">
											<tr>
												<td>
								    				<s:link view="/map/InstrumentInfoList.xhtml" styleClass="btn btn-default" value="返回" id="bn_left7" style="margin-left:10px" >
									    				<f:param name="baseId" value="#{farmerInfoHome.baseId}"/>
									    			</s:link>
					                            </td>
											</tr>
					                   </table> 
					  			</div>          
							</div>
						</h:panelGroup>
					</div>
				  </div>
			</div> 
			</div>
				<!-- Modal -->
<div aria-hidden="false" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="myModal" class="modal fade in w600na" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">提示框</h4>
      </div>
      <div class="modal-body">
       <span id="productMsg">*号部分为必填项！</span>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal">确认</button>
      </div>
    </div>
  </div>
</div>

			<a:form>
				<a:jsFunction name="selectIur" action="#{instrumentInfoHome.selectIur}" data="#{stringUtil.showTime2(instrumentInfoHome.iurInfo.beginTime)}_#{stringUtil.showTime2(instrumentInfoHome.iurInfo.endTime)}_#{instrumentInfoHome.iurInfo.uses}_#{instrumentInfoHome.iurInfo.mileage}_#{instrumentInfoHome.iurInfo.farmerInfoId.farmerInfoId}" oncomplete="iurInsertu(data);">
			        <a:actionparam name="trId" assignTo="#{instrumentInfoHome.iurInfoId}"/>
				</a:jsFunction>
				<a:jsFunction name="deletedIur" action="#{instrumentInfoHome.deletedIur}" reRender="iurInfoList">
			        <a:actionparam name="trId" assignTo="#{instrumentInfoHome.iurInfoId}"/>
				</a:jsFunction>
				<a:jsFunction name="selectImr" action="#{instrumentInfoHome.selectImr}" data="#{stringUtil.showTime2(instrumentInfoHome.imrInfo.maintenanceTime)}_#{instrumentInfoHome.imrInfo.dataDicId.dataDicId}_#{instrumentInfoHome.imrInfo.farmerInfoId.farmerInfoId}_#{instrumentInfoHome.imrInfo.repairLocation}_#{instrumentInfoHome.imrInfo.maintenanceOften}_#{instrumentInfoHome.imrInfo.contact}_#{instrumentInfoHome.imrInfo.maintenanceCosts}_#{instrumentInfoHome.imrInfo.content}" oncomplete="imrInsertu(data);">
			        <a:actionparam name="trId" assignTo="#{instrumentInfoHome.imrInfoId}"/>
				</a:jsFunction>
				<a:jsFunction name="deletedImr" action="#{instrumentInfoHome.deletedImr}" reRender="imrInfoList">
			        <a:actionparam name="trId" assignTo="#{instrumentInfoHome.imrInfoId}"/>
				</a:jsFunction>
			</a:form>
			<link href="#{request.contextPath}/asset/js/fullcalendar.css" rel="stylesheet" />
			<link href="#{request.contextPath}/asset/js/fullcalendar.print.css" rel="stylesheet" media="print" />
			<script type="text/javascript" src="#{request.contextPath}/asset/js/gantt/jquery-1.10.2.js"></script>
			<script src='#{request.contextPath}/asset/js/jquery-ui.custom.min_Q.js'></script>
			<script src='#{request.contextPath}/asset/js/fullcalendar_Q.js'></script>    
			<script type="text/javascript">
			//<![CDATA[
			 var promptMessage = "#{instrumentInfoHome.promptMessage}";
			if(promptMessage != ""){
				document.getElementById("productMsg").innerHTML = promptMessage;
				jquery("#myModal").modal('show');
			}
			function calen(index){
				if(index==1){
					jquery(".noli:eq(0)").attr("class","noli noshili ");
					jquery(".noli:eq(1)").attr("class","noli noshili01 current");
					jquery(".nosidiv>div:eq(0)").hide();
					jquery(".nosidiv>div:eq(1)").show();
					addF();
				}else{
					jquery(".noli:eq(0)").attr("class","noli noshili current");
					jquery(".noli:eq(1)").attr("class","noli noshili01");
					jquery(".nosidiv>div:eq(0)").show();
					jquery(".nosidiv>div:eq(1)").hide();
					resetLeft();
				}
			}
			
			function resetLeft(){
				var width = jquery("#trwidth").width()-89;
				var minute = width/24/60;
				jquery(".operateList").each(function(){
					var left = jquery(this).attr("aa");
					var width_ = jquery(this).attr("bb");
					jquery(this).css("left",left*minute);
					jquery(this).css("max-width",700-left*minute);
					jquery(this).find(".mytable_").width(width_*minute);
					jquery(this).find(".bwi").css("width",width_*minute-8);
				});
			}

			function addF() {
				_Q('#calendar').empty();
				_Q('#calendar').fullCalendar({
					header: {
						left: 'prev,next today',
						center: 'title',
						right: 'month,agendaWeek,agendaDay'
					},
					editable: false,
					events: calendarData
				});
			}

			_Q('#home').delegate('.operateList','mouseenter mouseleave',function ( event ) {
			    if (event.type == 'mouseenter') {
			    	jquery(this).find('.pc_name').parent('div').css('z-index','100');
					jquery(this).find(".pc_name").find('.pc_p2').show();
			    } else {
			    	jquery(this).find('.pc_name').parent('div').css('z-index','4');
			    	jquery(this).find(".pc_name").find('.pc_p2').hide();
					//setTimtout(function(){jquery(this).next(".pc_name").find('.pc_p2').hide();},1);
			    }
		  	});
			jquery(".form_datetime_tow").datetimepicker({
				 format: "yyyy-mm-dd",
				    autoclose: true,
					 weekStart: 1,
					  //startDate: "2014-08-14 10:00",
					 language:  'zh-CN',
					 minView:2,
				    pickerPosition: "bottom-left"
			});
			
			
			jquery(".form_datetime").datetimepicker({
				format: "yyyy-mm-dd hh:ii",
				autoclose: true,
				weekStart: 1,
				//startDate: "2014-08-14 10:00",
				language:  'zh-CN',
				pickerPosition: "bottom-left"
			});

			jquery(".form_datetime input").focus(  function(){jquery(this).attr('readonly','ture');	});
			  jquery(".form_datetime input").blur( function(){jquery(this).removeAttr('readonly');	});	    
			window.onload = function () {
			  jquery('.selectpicker').selectpicker();
			  jquery("#noshili").click();
			};
			
			function checkSubmit(obj){
				if(obj == 'fi'){
					var farmerInfoId = document.getElementById("baseIdfi").value; 
					document.getElementById("iiform:baseId").value = farmerInfoId;
				}
				if(obj == 1){
					var farmerInfoId = document.getElementById("farmerInfoIds").value; 
					document.getElementById("iurform:farmerInfoId").value = farmerInfoId;
				}
				if(obj == 2){
					var farmerInfoId = document.getElementById("farmerInfoIdsu").value; 
					document.getElementById("iurformu:farmerInfoIdu").value = farmerInfoId;
				}
				if(obj == 3){
					var farmerInfoId = document.getElementById("farmerInfoIdim").value; 
					var dataId =  jquery("#dataDicIds").val();
					document.getElementById("farmerInfoIdim").value = farmerInfoId;
					document.getElementById("imrform:dataDicId").value = dataId;

					var dataEditId = jquery("#dataDicIdsu").val();
					document.getElementById("imrformu:dataDicIdu").value = dataEditId;
				}
				if(obj == 4){
					var farmerInfoId = document.getElementById("farmerInfoIdims").value; 
					document.getElementById("imrformu:farmerInfoIdimsu").value = farmerInfoId;
				}
				//if(obj == 3){
			 	//	var aritIdtow = document.getElementById("aritIdtow").value; 
			 	//	document.getElementById("amform:aritIdtowcheck").value = aritIdtow;
				//}
				if(obj == 4){
					var aritIdtow = document.getElementById("effectVerifyInfo").value; 
			 		document.getElementById("trform:effectVerify").value = aritIdtow;
				}
			}	

			function iurformSubmit(){
				var insbaseId = document.getElementById("insbaseId").value; 
				var beginTime = document.getElementById("iurform:beginTime").value; 
				var endTime=document.getElementById("iurform:endTime").value; 
				var mileage = document.getElementById("iurform:mileage").value; 
				if(endTime<beginTime){
					alert("开始时间不能大于结束时间!");
					return false;
				}
				if(insbaseId == null || insbaseId== 0){
					alert("请先为农机信息选择基地并保存!");
					return false;
				}
				if(beginTime == ""){
					alert("开始时间不能为空！");
					return false;
				}
				if(mileage == ""){
					alert("使用里程数不能为空！");
					return false;
				}else if(isNaN(mileage)){
					alert("请输入正确的里程数！");
					return false;
				}else if(mileage==0){
					alert("使用里程数不能为0！");
					return false;
				}else if(parseFloat(mileage)>=100000){
					alert("使用里程数不能大于99999！");
					return false;
				}
				document.getElementById("iurform:beginTime2").value = beginTime; 
				document.getElementById("iurform:endTime2").value = endTime; 
				return true;
			}
			function iurformuSubmit(){
				var beginTime = document.getElementById("iurformu:beginTime").value; 
				var mileage = document.getElementById("iurformu:mileage").value; 
				var endTime=document.getElementById("iurformu:endTime").value; 
				if(endTime<beginTime){
					alert("开始时间不能大于结束时间!");
					return false;
				}
				if(beginTime == ""){
					alert("开始时间不能为空！");
					return false;
				}
				if(mileage == ""){
					alert("使用里程数不能为空！");
					return false;
				}else if(isNaN(mileage)){
					alert("请输入正确的里程数！");
					return false;
				}else if(mileage==0){
					alert("使用里程数不能为0！");
					return false;
				}else if(parseFloat(mileage)>=100000){
					alert("使用里程数不能大于99999！");
					return false;
				}
				return true;
			}
			function imrformSubmit(){
				var regPhone = /^(?:13\d|15\d|18\d)-?\d{5}(\d{3}|\*{3})$/;
				
				var dataDicIds = jquery("#dataDicIds").val();
				var maintenanceTime = document.getElementById("imrform:maintenanceTime").value; 
				var maintenanceOften = document.getElementById("imrform:maintenanceOften").value; 
				var maintenanceCosts = document.getElementById("imrform:maintenanceCosts").value;
				var contact = document.getElementById("imrform:contact").value;
				if(dataDicIds == null){
					alert("维护保养类型不能为空！");
					return false;
				}
				if(maintenanceTime == ""){
					alert("维护保养时间不能为空！");
					return false;
				}
				if(maintenanceOften == ""){
					alert("维修时长不能为空");
					return false;
				}
				if(maintenanceOften == 0){
					alert("维修时长不能为0");
					return false;
				}else if(parseFloat(maintenanceOften)>=100000){
					alert("维修时长不能大于99999！");
					return false;
				}
				document.getElementById("imrform:maintenanceOften").value = parseInt(maintenanceOften);
				if(maintenanceCosts == ""){
					alert("维修费用不能为空");
					return false;
				}
				if(maintenanceCosts == 0){
					alert("维修费用不能为0");
					return false;
				}else if(parseFloat(maintenanceCosts)>=100000){
					alert("维修费用不能大于99999！");
					return false;
				}
				if(contact.length > 12){
					alert("请输入正确的电话号码");
					return false;
				}
				if(contact.length < 11){
					alert("请输入正确的电话号码");
					return false;
				}
				if( !regPhone.test(contact)){
					alert("请输入正确的电话号码");
					return false
					}
				document.getElementById("imrform:maintenanceTime2").value = maintenanceTime;
				jquery("#imrform\\:farmerInfoIdimu").val(jquery("#farmerInfoIdim").val());
				return true;
			}
			function imrformuSubmit(){
				var regPhone = /^(?:13\d|15\d|18\d)-?\d{5}(\d{3}|\*{3})$/;
				var dataDicIds = jquery("#dataDicIdsu").val();
				var maintenanceTime = document.getElementById("imrformu:maintenanceTime").value; 
				var maintenanceOften = document.getElementById("imrformu:maintenanceOften").value; 
				var maintenanceCosts = document.getElementById("imrformu:maintenanceCosts").value; 
				var contact = document.getElementById("imrformu:contact").value;
				if(dataDicIds == null){
					alert("维护保养类型不能为空！");
					return false;
				}
				if(maintenanceTime == ""){
					alert("维护保养时间不能为空！");
					return false;
				}
				if(maintenanceOften == ""){
					alert("维修时长不能为空");
					return false;
				}else if(parseFloat(maintenanceOften)>=100000){
					alert("维修时长不能大于99999！");
					return false;
				}
				if(maintenanceOften == 0){
					alert("维修时长不能为0");
					return false;
				}
				document.getElementById("imrformu:maintenanceOften").value = parseInt(maintenanceOften);
				
				if(maintenanceCosts == ""){
					alert("维修费用不能为空");
					return false;
				}else if(parseFloat(maintenanceCosts)>=100000){
					alert("维修费用不能大于99999！");
					return false;
				}
				if(maintenanceCosts == 0){
					alert("维修费用不能为0");
					return false;
				}
				if(contact.length < 11){
					alert("请输入正确的电话号码");
					return false;
				}
				if(contact.length > 12){
					alert("请输入正确的电话号码");
					return false;
				}
				if( !regPhone.test(contact)){
					alert("请输入正确的电话号码");
					return false
					}
				return true;
			}
			function emptyClick(){
				jquery("#clickradio").click();
				jquery("#tunnelInfoId")[0].selectedIndex = 0;
				jquery('#tunnelInfoId').selectpicker('refresh');
				jquery("#aritId")[0].selectedIndex = 0;
				jquery('#aritId').selectpicker('refresh');
				//jquery("#aritIdtow")[0].selectedIndex = 0;
				//jquery('#aritIdtow').selectpicker('refresh');
				jquery("#amform\\:areShow").attr("checked",false);
				jquery("#amform\\:operatingTime").val("");
				jquery("#amform\\:endTime").val("");
				jquery("#amform\\:plantBeginTime").val("");
				jquery("#amform\\:description").val("");
				jquery("#amform\\:content").val("");
			}
			
			function iurInsertuInfo(){
				jquery("#iurform\\:beginTime").val("");
				jquery("#iurform\\:endTime").val("");
				jquery("#iurform\\:uses").val("");
				jquery("#iurform\\:mileage").val("");
				jquery("#farmerInfoIds")[0].selectedIndex = 0;
				jquery("#farmerInfoIds").selectpicker('refresh');
				jquery("#iurform\\:farmerInfoId").val(jquery("#farmerInfoIds").val());
			}
			
			function iurInsertu(obj){
				var objsum = obj.split("_");
				jquery("#iurformu\\:beginTime").val(objsum[0]);
				jquery("#iurformu\\:endTime").val(objsum[1]);
				jquery("#iurformu\\:uses").val(objsum[2]);
				jquery("#iurformu\\:mileage").val(objsum[3]);
				jquery("#farmerInfoIdsu").val(objsum[4]);
				jquery("#farmerInfoIdsu").selectpicker('refresh');
				jquery("#iurformu\\:farmerInfoIdu").val(objsum[4]);
				jquery("#iurInsertu").click();
			}

			function imrInsertuInfo(){
				jquery("#imrform\\:maintenanceTime").val("");
				jquery("#dataDicIds")[0].selectedIndex = 0;
				jquery("#dataDicIds").selectpicker('refresh');
				jquery("#imrform\\:dataDicId").val(jquery("#dataDicIds").val());
				jquery("#farmerInfoIdim")[0].selectedIndex = 0;
				jquery("#farmerInfoIdim").selectpicker('refresh');
				jquery("#imrform\\:farmerInfoIdimu").val(jquery("#farmerInfoIdim").val());
				jquery("#imrform\\:repairLocation").val("");
				jquery("#imrform\\:maintenanceOften").val("");
				jquery("#imrform\\:contact").val("");
				jquery("#imrform\\:maintenanceCosts").val("");
				jquery("#imrform\\:content").val("");
				
			}
			
			function imrInsertu(obj){
				var objsum = obj.split("_");
				jquery("#imrformu\\:maintenanceTime").val(objsum[0]);
				jquery("#dataDicIdsu").val(objsum[1]);
				jquery("#dataDicIdsu").selectpicker('refresh');
				jquery("#imrformu\\:dataDicIdu").val(objsum[1]);
				jquery("#farmerInfoIdims").val(objsum[2]);
				jquery("#farmerInfoIdims").selectpicker('refresh');
				jquery("#imrformu\\:farmerInfoIdimsu").val(objsum[2]);
				jquery("#imrformu\\:repairLocation").val(objsum[3]);
				jquery("#imrformu\\:maintenanceOften").val(objsum[4]);
				jquery("#imrformu\\:contact").val(objsum[5]);
				jquery("#imrformu\\:maintenanceCosts").val(objsum[6]);
				jquery("#imrformu\\:content").val(objsum[7]);
				jquery("#imrInsertu").click();
			}
			
			function deletedIurInfo(obj){
				if(confirm('确定删除吗？')){
					deletedIur(obj);
				}
			}
			function deletedImrInfo(obj){
				if(confirm('确定删除吗？')){
					deletedImr(obj);
				}
			}
			function radio22(obj){
	        	if(obj.getAttribute("aa")=="0"){
	        		jquery("#aai_show").val("1");
	        		jquery(obj).addClass("checked");
	        		obj.setAttribute("aa","1");
	        	}else{
	        		jquery(obj).removeClass("checked");
	        		obj.setAttribute("aa","0");
	        		jquery("#aai_show").val("0");
	        	}
	        }
			
			function clearNoNum(obj){   
				obj.value = obj.value.replace(/[^\d.]/g,"");  //清除“数字”和“.”以外的字符  
				obj.value = obj.value.replace(/^\./g,"");  //验证第一个字符是数字而不是. 
				obj.value = obj.value.replace(/\.{2,}/g,"."); //只保留第一个. 清除多余的.   
				obj.value = obj.value.replace(".","$#$").replace(/\./g,"").replace("$#$",".");
			}

			function addButton(type){
				var showOrHide = #{s:hasRole('farm_engine_add')};
				if(showOrHide){
					if(type == 1){
						jquery('#imrInsert').hide();jquery('#iurInsert').show();
					}else{
						jquery('#iurInsert').hide();jquery('#imrInsert').show();
					}
				}else{
					jquery('#imrInsert').hide();jquery('#iurInsert').hide();
				}
				
				
			}
			//]]>
			</script> 
		</td> 
	</ui:define>

</ui:composition>
